<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hexo+next博客搭建并部署到github</title>
    <url>/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/</url>
    <content><![CDATA[<h1 id="一、安装下载Node-js、Vscode、Git"><a href="#一、安装下载Node-js、Vscode、Git" class="headerlink" title="一、安装下载Node.js、Vscode、Git"></a>一、安装下载Node.js、Vscode、Git</h1><p>1.1 安装可以看这篇博文的第2点 《在Windows系统下安装Node.js》的1-6点（补充除外）：<a href="https://blog.csdn.net/loze/article/details/94208742">https://blog.csdn.net/loze/article/details/94208742</a></p>
<span id="more"></span>
<p>1.2 补充：上面博文的补充地方镜像有问题。 应执行下面语句：</p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">（如果不小心跟着<span class="number">1.</span> 执行了补充，先运行这个，否则没必要）</span><br><span class="line">npm cache clean --force</span><br><span class="line"></span><br><span class="line">npm config set registry https:<span class="comment">//registry.npmmirror.com</span></span><br></pre></td></tr></table></figure>
<p>1.3 （可选）将npm的安装路径修改到其他盘避免占用C盘：<a href="https://blog.csdn.net/Deng872347348/article/details/121646375">https://blog.csdn.net/Deng872347348/article/details/121646375</a> 只做到 <strong>“接下来设置环境变量，关闭cmd窗口，“我的电脑”-右键-“属性”-“高级系统设置”-“高级”-“环境变量””</strong> 之前的步骤</p>
<h1 id="二、安装Hexo"><a href="#二、安装Hexo" class="headerlink" title="二、安装Hexo"></a>二、安装Hexo</h1><p>2.1 新建 Blog 文件夹，进入此目录下<br>2.2 安装Hexo脚手架.下面的命令会把hexo.cmd安装到<strong>全局包仓库中</strong>，由于该仓库文件夹在Windows系统的path中。所以你就<strong>可以在任意位置执行hexo命令</strong>了。</p>
<figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line">npm install -g hexo-<span class="keyword">cli</span></span><br></pre></td></tr></table></figure>
<p>我这里是安装过了所以是显示这样的<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/2.1%E5%AE%89%E8%A3%85Hexo%E8%84%9A%E6%89%8B%E6%9E%B6.jpg"><br>2.3 执行一下命令确认hexo安装完好。这里执行如果报错（hexo‘ 不是内部或外部命令，也不是可运行的程序），请参考该内容以配置Hexo的环境变量：<a href="https://blog.csdn.net/Deng872347348/article/details/121646375">https://blog.csdn.net/Deng872347348/article/details/121646375</a> 的 <strong>“接下来设置环境变量，关闭cmd窗口，“我的电脑”-右键-“属性”-“高级系统设置”-“高级”-“环境变量””</strong> 及其之后的步骤 ，如果在2.2步之后不小心重新设置了npm的全局文件夹，则重新执行2.2的npm install -g hexo-cli命令，但**可能会出现权限问题，请以管理员身份运行cmd或者修改nodejs文件夹权限,<a href="https://blog.csdn.net/m0_56253302/article/details/130111914">可以看该网址中的方法二</a>**。解决以上问题后执行下面命令。</p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">hexo -v</span></span><br></pre></td></tr></table></figure>
<p>2.4 新建一个<strong>空文件夹</strong>用于初始化Hexo，启动cmd并进入到文件夹中。<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/2.4cmd%E8%BF%9B%E5%85%A5%E6%96%B0%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9.jpg"><br>执行Hexo初始化命令</p>
<figure class="highlight csharp"><table><tr><td class="code"><pre><span class="line">hexo <span class="keyword">init</span></span><br></pre></td></tr></table></figure>
<p>2.5 cmd命令中进入到themes文件夹<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/2.5%E8%BF%9B%E5%85%A5theme%E6%96%87%E4%BB%B6%E5%A4%B9.jpg"><br>2.6 cmd命令中执行如下命令，下载 Next主题</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">git clone https:<span class="regexp">//gi</span>thub.com<span class="regexp">/theme-next/</span>hexo-theme-<span class="keyword">next</span></span><br></pre></td></tr></table></figure>
<p><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/2.6%E4%B8%8B%E8%BD%BDNext%E4%B8%BB%E9%A2%980.jpg"><br>文件夹多出文件<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/2.6%E4%B8%8B%E8%BD%BDNext%E4%B8%BB%E9%A2%98.jpg"></p>
<p>2.7 cmd中启动本地服务查看<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/2.7%E5%90%AF%E5%8A%A8%E6%9C%AC%E5%9C%B0%E6%9C%8D%E5%8A%A1.jpg"></p>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">hexo s</span></span><br></pre></td></tr></table></figure>
<p>在浏览器中输入<a href="http://localhost:4000/">http://localhost:4000/</a> 即可看到目前的界面<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/2.7%E7%95%8C%E9%9D%A2.jpg"></p>
<p>2.8 一些相关命令</p>
<ul>
<li>hexo clean：清除 public 静态目录</li>
<li>hexo s：本地启动默认指定 4000 端口预览 (s 是 server 是缩写 也就是启动 hexo 服务)</li>
<li>hexo g：生成 public 静态目录</li>
<li>hexo d： 部署</li>
<li>hexo n: 新建文章。示例hexo n “我的博客” &#x3D;&#x3D; hexo new “我的博客” #新建文章</li>
<li>hexo p &#x3D;&#x3D; hexo publish</li>
<li>hexo server -p 5000 #更改端口</li>
<li>hexo server -i 192.168.1.1 #自定义 IP</li>
<li>hexo new draft 草稿文件名。新建草稿命令如下，草稿不会在博客上显示。</li>
</ul>
<h1 id="三、配置文件设置"><a href="#三、配置文件设置" class="headerlink" title="三、配置文件设置"></a>三、配置文件设置</h1><h3 id="3-1-配置文件说明"><a href="#3-1-配置文件说明" class="headerlink" title="3.1 配置文件说明"></a>3.1 配置文件说明</h3><p>在 Hexo 中有两份主要的配置文件，其名称都是 _config.yml。</p>
<ol>
<li>站点配置文件：位于站点根目录下（&#x2F;_config.yml），主要包含 Hexo 本身的站点配置，内容如下：</li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Hexo</span>          <span class="comment"># 网站的标题，可能用在各种布局的页面中</span></span><br><span class="line"><span class="attr">subtitle:</span>            <span class="comment"># 网站子标题</span></span><br><span class="line"><span class="attr">description:</span>         <span class="comment"># 网站的描述性</span></span><br><span class="line"><span class="attr">keywords:</span>            <span class="comment"># 网站的关键字</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">John</span> <span class="string">Doe</span>     <span class="comment"># 网站的作者</span></span><br><span class="line"><span class="attr">language:</span>            <span class="comment"># 网站采用语言，要跟/theme/***/languages/**.yml下的文件名对应。</span></span><br><span class="line"><span class="attr">timezone:</span>            <span class="comment"># 网站的时区</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as &#x27;http://yoursite.com/child&#x27; and root as &#x27;/child/&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">http://yoursite.com</span>              <span class="comment"># 网站的url，如果不在域名根目录，应包含子目录，且root要设置为`/子目录/`</span></span><br><span class="line"><span class="attr">root:</span> <span class="string">/</span>                               <span class="comment"># 网站的根目录</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">:year/:month/:day/:title/</span>  <span class="comment">#文章永久链接的形成模版。每一篇文章都有唯一的url。</span></span><br><span class="line"><span class="attr">permalink_defaults:</span>                   <span class="comment">#文章永久链接中，各部分的默认值。</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory</span></span><br><span class="line"><span class="attr">source_dir:</span> <span class="string">source</span>          <span class="comment"># 网站中源文件（比如Markdown啊什么的所在的文件夹）</span></span><br><span class="line"><span class="attr">public_dir:</span> <span class="string">public</span>          <span class="comment"># 生成的静态网站的目录</span></span><br><span class="line"><span class="attr">tag_dir:</span> <span class="string">tags</span>               <span class="comment"># 标签页所在的文件夹。</span></span><br><span class="line"><span class="attr">archive_dir:</span> <span class="string">archives</span>       <span class="comment"># 文档页所在的文件夹</span></span><br><span class="line"><span class="attr">category_dir:</span> <span class="string">categories</span>    <span class="comment"># 类别也所在的文件夹</span></span><br><span class="line"><span class="attr">code_dir:</span> <span class="string">downloads/code</span>    <span class="comment"># 代码也所在的文件夹</span></span><br><span class="line"><span class="attr">i18n_dir:</span> <span class="string">:lang</span>             <span class="comment"># 国际语言所在的文件夹</span></span><br><span class="line"><span class="attr">skip_render:</span>                <span class="comment"># 忽略文档清单</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing 写作</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span>    <span class="comment"># 默认新建文档名，`:title`为变量，指文档标题，也可用其他变量</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span>        <span class="comment"># 新建文档的默认布局</span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span>            <span class="comment"># 是否要把标题中的首字符大写</span></span><br><span class="line"><span class="attr">external_link:</span> <span class="literal">true</span>         <span class="comment"># 是否要在新开tab中打开外链</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span>            <span class="comment"># 文件名是否小写敏感</span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span>        <span class="comment"># 是否渲染草稿</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">false</span>    <span class="comment"># 是否启用资源文件夹。如启用，新建文档同时建立同名的资源文件夹</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span>        <span class="comment"># 是否把站内资源的链接改为站内相对链接。建议关闭。</span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span>                <span class="comment"># 文档中指定为未来时间创建</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>              <span class="comment"># 是否开启代码高亮功能</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span>         <span class="comment"># 代码块中是否在前面加上行号</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span>        <span class="comment"># 是否自动检测代码块的语言（比如xml、JavaScript、mermaid等）</span></span><br><span class="line">  <span class="attr">tab_replace:</span>              <span class="comment"># 用什么字符来代替tab(`\t`)字符。</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="comment"># path: Root path for your blogs index page. (default = &#x27;&#x27;)</span></span><br><span class="line"><span class="comment"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class="line"><span class="comment"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class="line"><span class="attr">index_generator:</span>       </span><br><span class="line">  <span class="attr">path:</span> <span class="string">&#x27;&#x27;</span>              <span class="comment"># 主页所在路径，默认为&#x27;&#x27;</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">10</span>          <span class="comment"># 主页的索引页包含文章数量，如未定义，则采用根目录下的`per_page`值</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span>       <span class="comment"># 文章（Post类型）排序属性，`-`为降序</span></span><br><span class="line">  </span><br><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line"><span class="attr">default_category:</span> <span class="string">uncategorized</span>      <span class="comment"># 对文档的默认分类</span></span><br><span class="line"><span class="attr">category_map:</span>                        <span class="comment"># 对文档中的分类字段进行映射。建立分类文件夹时采用映射后的字符串</span></span><br><span class="line"><span class="attr">tag_map:</span>                             <span class="comment"># 对文档中的标签字段进行映射。建立标签文件夹时采用映射后的字符串</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Date / Time format</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="attr">date_format:</span> <span class="string">YYYY-MM-DD</span>   <span class="comment"># 日期格式</span></span><br><span class="line"><span class="attr">time_format:</span> <span class="string">HH:mm:ss</span>     <span class="comment"># 时间格式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">10</span>                      <span class="comment"># 主页/分类/标签/存档等类型索引页包含文章数量</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span>              <span class="comment"># 分页所在文件夹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions                      # 扩展。放置插件和主题</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">landscape</span>                                <span class="comment"># 默认主题landscape</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/deployment.html    </span></span><br><span class="line"><span class="attr">deploy:</span>                                         <span class="comment"># 定义部署</span></span><br><span class="line">  <span class="attr">type:</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li><p>主题配置文件：位于主题目录下（themes&#x2F;hexo-theme-next&#x2F;_config.yml），这份配置由主题作者提供，主要用于配置主题相关的选项。</p>
</li>
<li><p>设置站点配置文件主题为 next。（用于我clone下来的next的文件夹名为hexo-theme-next），所以要将主题设置为 hexo-theme-next 而不是next</p>
</li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">hexo-theme-next</span></span><br></pre></td></tr></table></figure>

<h3 id="3-2-主题方案设置"><a href="#3-2-主题方案设置" class="headerlink" title="3.2 主题方案设置"></a>3.2 主题方案设置</h3><p>在主题配置文件中</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="comment"># scheme: Muse</span></span><br><span class="line"><span class="comment"># scheme: Mist</span></span><br><span class="line"><span class="comment"># scheme: Pisces</span></span><br><span class="line"><span class="attr">scheme:</span> <span class="string">Gemini</span></span><br></pre></td></tr></table></figure>

<h3 id="3-3-配置menu"><a href="#3-3-配置menu" class="headerlink" title="3.3 配置menu"></a>3.3 配置menu</h3><ol>
<li>在站点配置文件中</li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">MiDoLi&#x27;s</span> <span class="string">Blog</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&quot;Code builds world !&quot;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&quot;欢迎来到我的世界💜&quot;</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">MiDoLi</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&quot;Asia/Shanghai&quot;</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>在主题配置文件中</li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Usage: `Key: /link/ || icon`</span></span><br><span class="line"><span class="comment"># Key is the name of menu item. If the translation for this item is available, the translated text will be loaded, otherwise the Key name will be used. Key is case-sensitive.</span></span><br><span class="line"><span class="comment"># Value before `||` delimiter is the target link, value after `||` delimiter is the name of Font Awesome icon.</span></span><br><span class="line"><span class="comment"># External url should start with http:// or https://</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="attr">home:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="attr">about:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-th</span></span><br><span class="line">  <span class="attr">archives:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="comment"># schedule: /schedule/ || fa fa-calendar</span></span><br><span class="line">  <span class="comment"># sitemap: /sitemap.xml || fa fa-sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || fa fa-heartbeat</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable / Disable menu icons / item badges.</span></span><br><span class="line"><span class="attr">menu_settings:</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">true</span> <span class="comment"># 是否显示各个页面的图标</span></span><br><span class="line">  <span class="attr">badges:</span> <span class="literal">false</span> <span class="comment"># 是否显示分类/标签/归档页的内容量</span></span><br></pre></td></tr></table></figure>

<h3 id="3-4-隐藏网页底部-powered-By-Hexo-强力驱动-TODO"><a href="#3-4-隐藏网页底部-powered-By-Hexo-强力驱动-TODO" class="headerlink" title="3.4 隐藏网页底部 powered By Hexo &#x2F; 强力驱动(TODO)"></a>3.4 隐藏网页底部 powered By Hexo &#x2F; 强力驱动(TODO)</h3><p>全局搜索并注释掉相应代码即可(我就没注释了)</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">&lt;!--</span> <span class="string">删除</span> <span class="string">“由</span> <span class="string">Hexo</span> <span class="string">&amp;</span> <span class="string">NexT.Gemini</span> <span class="string">强力驱动”</span> <span class="string">--&gt;</span></span><br><span class="line"><span class="string">&lt;!--</span> &#123;<span class="string">%-</span> <span class="string">if</span> <span class="string">theme.footer.powered</span> <span class="string">%</span>&#125;</span><br><span class="line">  <span class="string">&lt;div</span> <span class="string">class=&quot;powered-by&quot;&gt;</span></span><br><span class="line">    &#123;<span class="string">%-</span> <span class="string">set</span> <span class="string">next_site</span> <span class="string">=</span> <span class="string">&#x27;https://theme-next.js.org&#x27;</span> <span class="string">if</span> <span class="string">theme.scheme</span> <span class="string">===</span> <span class="string">&#x27;Gemini&#x27;</span> <span class="string">else</span> <span class="string">&#x27;https://theme-next.js.org/&#x27;</span> <span class="string">+</span> <span class="string">theme.scheme</span> <span class="string">|</span> <span class="string">lower</span> <span class="string">+</span> <span class="string">&#x27;/&#x27;</span> <span class="string">%</span>&#125;</span><br><span class="line">    &#123;&#123;<span class="bullet">-</span> <span class="string">__(&#x27;footer.powered&#x27;</span>, <span class="string">next_url(&#x27;https://hexo.io&#x27;</span>, <span class="string">&#x27;Hexo&#x27;</span><span class="string">)</span> <span class="string">+</span> <span class="string">&#x27; &amp; &#x27;</span> <span class="string">+</span> <span class="string">next_url(next_site</span>, <span class="string">&#x27;NexT.&#x27;</span> <span class="string">+</span> <span class="string">theme.scheme))</span> &#125;&#125;</span><br><span class="line">  <span class="string">&lt;/div&gt;</span></span><br><span class="line">&#123;<span class="string">%-</span> <span class="string">endif</span> <span class="string">%</span>&#125; <span class="string">--&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="3-5-配置代码块高亮风格"><a href="#3-5-配置代码块高亮风格" class="headerlink" title="3.5 配置代码块高亮风格"></a>3.5 配置代码块高亮风格</h3><p>highlight 和 prismjs 是两种代码块风格，现在 highlight 是主流，且二者只能开启其一。</p>
<ul>
<li>站点配置文件</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#是否开启代码高亮</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span> <span class="comment">#是否增加代码行号</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">true</span> <span class="comment">#自动判断代码语言</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hljs:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">prismjs:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">preprocess:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>主题配置文件</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">codeblock:</span></span><br><span class="line">  <span class="comment"># Code Highlight theme</span></span><br><span class="line">  <span class="comment"># Available values: normal | night | night eighties | night blue | night bright | solarized | solarized dark | galactic</span></span><br><span class="line">  <span class="comment"># See: https://github.com/chriskempson/tomorrow-theme</span></span><br><span class="line">  <span class="attr">highlight_theme:</span> <span class="string">night</span> <span class="string">eighties</span></span><br><span class="line">  <span class="comment"># Add copy button on codeblock</span></span><br><span class="line">  <span class="attr">copy_button:</span> <span class="comment"># 一键复制</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Show text copy result.</span></span><br><span class="line">    <span class="attr">show_result:</span> <span class="literal">true</span></span><br><span class="line">    <span class="comment"># Available values: default | flat | mac</span></span><br><span class="line">    <span class="attr">style:</span> <span class="string">mac</span></span><br></pre></td></tr></table></figure>
<p>代码风格我就直接用的默认的 normal<br>复制按钮可以选择default | flat | mac三种风格</p>
<p>可在 <a href="https://theme-next.js.org/highlight/">https://theme-next.js.org/highlight/</a> 中查看各个代码风格主题，选择自己喜欢的代码风格</p>
<h3 id="3-6-文章添加阴影-TODO"><a href="#3-6-文章添加阴影-TODO" class="headerlink" title="3.6  文章添加阴影(TODO)"></a>3.6  文章添加阴影(TODO)</h3><p>找到文件blog\themes\hexo-theme-next\source\css\_common\components\post\post.styl （旧版可能是index.styl文件），并在修改其中use-motion的内容</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.use-motion</span> &#123;</span><br><span class="line">if (hexo-config(&#x27;motion<span class="selector-class">.transition</span><span class="selector-class">.post_block</span>&#x27;)) &#123;</span><br><span class="line">    <span class="selector-class">.post-block</span> &#123;</span><br><span class="line">      <span class="attribute">visibility</span>: hidden;</span><br><span class="line">      <span class="attribute">margin-top</span>: <span class="number">60px</span>;</span><br><span class="line">      <span class="attribute">margin-bottom</span>: <span class="number">60px</span>;</span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">25px</span>;</span><br><span class="line">      <span class="attribute">border-radius</span>: <span class="number">20px</span> <span class="number">20px</span> <span class="number">20px</span> <span class="number">20px</span>;</span><br><span class="line">      -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">203</span>, .<span class="number">5</span>);</span><br><span class="line">      -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">204</span>, .<span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.pagination</span>, <span class="selector-class">.comments</span> &#123;</span><br><span class="line">      <span class="attribute">visibility</span>: hidden;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-7-显示当前浏览进度"><a href="#3-7-显示当前浏览进度" class="headerlink" title="3.7 显示当前浏览进度"></a>3.7 显示当前浏览进度</h3><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">back2top:</span></span><br><span class="line"><span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># Back to top in sidebar.</span></span><br><span class="line"><span class="attr">sidebar:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># Scroll percent label in b2t button.</span></span><br><span class="line"><span class="attr">scrollpercent:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h3 id="3-8-文章分享功能"><a href="#3-8-文章分享功能" class="headerlink" title="3.8 文章分享功能"></a>3.8 文章分享功能</h3><p>等有了域名以后才能在addthis中配置</p>
<h3 id="3-9-Local-Search本地搜索"><a href="#3-9-Local-Search本地搜索" class="headerlink" title="3.9 Local Search本地搜索"></a>3.9 Local Search本地搜索</h3><ul>
<li>安装插件 hexo-generator-searchdb，执行以下命令:</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-searchdb --save</span><br></pre></td></tr></table></figure>

<ul>
<li>修改 hexo&#x2F;_config.yml 站点配置文件，新增以下内容到末尾位置：</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">search:</span></span><br><span class="line"><span class="attr">path:</span> <span class="string">search.xml</span></span><br><span class="line"><span class="attr">field:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">format:</span> <span class="string">html</span></span><br><span class="line"><span class="attr">limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure>

<ul>
<li>修改 主题配置文件，启用本地搜索功能：</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line"><span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="comment"># 页面打开时预加载搜索数据</span></span><br><span class="line"><span class="attr">preload:</span> <span class="literal">true</span> </span><br></pre></td></tr></table></figure>
<p>我还将 页面打开时预加载搜索数据设置为了true 这个看个人需要。</p>
<h3 id="3-10-设置favicon-ico图标-TODO"><a href="#3-10-设置favicon-ico图标-TODO" class="headerlink" title="3.10 设置favicon.ico图标(TODO)"></a>3.10 设置favicon.ico图标(TODO)</h3><p>在 EasyIcon 中找一张（32 * 32）的 ico 图标，或者去别的网站下载或者制作，并将图标名称改为 favicon.ico，然后把图标放在 &#x2F;themes&#x2F;next&#x2F;source&#x2F;images 里，并且修改主题配置文件：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">favicon:</span></span><br><span class="line">  <span class="attr">small:</span> <span class="string">/images/favicon-16x16-next.png</span></span><br><span class="line">  <span class="attr">medium:</span> <span class="string">/images/favicon-32x32-next.png</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/images/apple-touch-icon-next.png</span></span><br><span class="line">  <span class="attr">safari_pinned_tab:</span> <span class="string">/images/logo.svg</span></span><br><span class="line">  <span class="comment">#android_manifest: /manifest.json</span></span><br></pre></td></tr></table></figure>

<h3 id="3-11-修改文章底部的-号的标签"><a href="#3-11-修改文章底部的-号的标签" class="headerlink" title="3.11 修改文章底部的#号的标签"></a>3.11 修改文章底部的#号的标签</h3><p>新版本的next无需修改</p>
<h3 id="3-12-增加文章字数统计和阅读时长"><a href="#3-12-增加文章字数统计和阅读时长" class="headerlink" title="3.12 增加文章字数统计和阅读时长"></a>3.12 增加文章字数统计和阅读时长</h3><ul>
<li>安装 hexo-word-counter 插件</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install hexo-word-counter</span><br><span class="line">npm install hexo-symbols-count-time --save</span><br><span class="line">npm install eslint --save</span><br></pre></td></tr></table></figure>
<ul>
<li>站点配置文件，将以下内容粘贴在末尾位置</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 增加文章字数统计及阅读时长功能</span></span><br><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">symbols:</span> <span class="literal">true</span>                <span class="comment"># 文章字数统计</span></span><br><span class="line">  <span class="attr">time:</span> <span class="literal">true</span>                   <span class="comment"># 文章阅读时长</span></span><br><span class="line">  <span class="attr">total_symbols:</span> <span class="literal">true</span>          <span class="comment"># 站点总字数统计</span></span><br><span class="line">  <span class="attr">total_time:</span> <span class="literal">true</span>             <span class="comment"># 站点总阅读时长</span></span><br><span class="line">  <span class="attr">exclude_codeblock:</span> <span class="literal">false</span>     <span class="comment"># 排除代码字数统计</span></span><br></pre></td></tr></table></figure>

<ul>
<li>在NexT主题配置文件添加如下配置（NexT主题已支持该插件，有的话无需再添加）</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Post wordcount display settings</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-symbols-count-time</span></span><br><span class="line"><span class="attr">symbols_count_time:</span></span><br><span class="line">  <span class="attr">separated_meta:</span> <span class="literal">true</span>     <span class="comment"># 是否另起一行（true的话不和发表时间等同一行）</span></span><br><span class="line">  <span class="attr">item_text_post:</span> <span class="literal">true</span>     <span class="comment"># 首页文章统计数量前是否显示文字描述（本文字数、阅读时长）</span></span><br><span class="line">  <span class="attr">item_text_total:</span> <span class="literal">false</span>   <span class="comment"># 页面底部统计数量前是否显示文字描述（站点总字数、站点阅读时长）</span></span><br><span class="line">  <span class="attr">awl:</span> <span class="number">4</span>                   <span class="comment"># Average Word Length</span></span><br><span class="line">  <span class="attr">wpm:</span> <span class="number">275</span>                 <span class="comment"># Words Per Minute（每分钟阅读词数）</span></span><br><span class="line">  <span class="attr">suffix:</span> <span class="string">mins.</span></span><br></pre></td></tr></table></figure>

<h3 id="3-13-阅读全文"><a href="#3-13-阅读全文" class="headerlink" title="3.13 阅读全文"></a>3.13 阅读全文</h3><p>直接在文章中添加 <!-- more --> 来精确控制摘要内容，即控制 Read More（阅读全文） 的位置</p>
<p>我们可以添加前言引用来对文章进行总结提炼 详情可点击阅读全文~<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.13%E9%98%85%E8%AF%BB%E5%85%A8%E6%96%87.png"></p>
<h3 id="3-14-添加作者头像"><a href="#3-14-添加作者头像" class="headerlink" title="3.14 添加作者头像"></a>3.14 添加作者头像</h3><p>进入主题配置文件，找到下面这行</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">avatar:</span> </span><br><span class="line">  <span class="comment"># Replace the default image and set the url here.</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/avatar.gif</span></span><br></pre></td></tr></table></figure>

<p>上传自定义的图片到下列目录：&#x2F;themes&#x2F;hexo-theme-next&#x2F;source&#x2F;images&#x2F;，更改 avatar 路径完成！ （我clone下来的next项目名是hexo-theme-next，有的是next，所以看清自己的路径）</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Sidebar Avatar</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># Replace the default image and set the url here.</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">/images/Ben.jpg</span></span><br><span class="line">  <span class="attr">rounded:</span> <span class="literal">true</span> <span class="comment"># 设置头像为圆形显示</span></span><br><span class="line">  <span class="attr">rotated:</span> <span class="literal">true</span> <span class="comment"># 当鼠标选中头像后 头像会旋转一周</span></span><br></pre></td></tr></table></figure>

<h3 id="3-15-添加页面顶部加载条-TODO"><a href="#3-15-添加页面顶部加载条-TODO" class="headerlink" title="3.15 添加页面顶部加载条(TODO)"></a>3.15 添加页面顶部加载条(TODO)</h3><p>全局搜索 pace 然后设置 pace: true 开启</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">pace:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># All available colors:</span></span><br><span class="line">  <span class="comment"># black | blue | green | orange | pink | purple | red | silver | white | yellow</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">blue</span></span><br><span class="line">  <span class="comment"># All available themes:</span></span><br><span class="line">  <span class="comment"># big-counter | bounce | barber-shop | center-atom | center-circle | center-radar | center-simple</span></span><br><span class="line">  <span class="comment"># corner-indicator | fill-left | flat-top | flash | loading-bar | mac-osx | material | minimal</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">bounce</span></span><br></pre></td></tr></table></figure>

<p>我看<strong>最新版本next没有这个color的参数</strong>，可以自行设置看看</p>
<h3 id="3-16-添加本站运行时间"><a href="#3-16-添加本站运行时间" class="headerlink" title="3.16 添加本站运行时间"></a>3.16 添加本站运行时间</h3><p>修改 &#x2F;blog&#x2F;themes&#x2F;hexo-theme-next&#x2F;layout&#x2F;_partials&#x2F;footer.swig 文件，在末尾加入如下代码：（我clone下来的next项目名是hexo-theme-next，有的是next，所以看清自己的路径）</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- 网站运行时间的设置 --&gt;</span><br><span class="line">&lt;span id=&quot;timeDate&quot;&gt;载入天数...&lt;/span&gt;</span><br><span class="line">&lt;span id=&quot;times&quot;&gt;载入时分秒...&lt;/span&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    var now = new Date();</span><br><span class="line">    function createtime() &#123;</span><br><span class="line">        var grt= new Date(&quot;03/01/2023 10:00:00&quot;); //此处修改你的建站时间或者网站上线时间</span><br><span class="line">        now.setTime(now.getTime()+250);</span><br><span class="line">        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);</span><br><span class="line">        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);</span><br><span class="line">        if(String(hnum).length ==1 )&#123;hnum = &quot;0&quot; + hnum;&#125; minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);</span><br><span class="line">        mnum = Math.floor(minutes); if(String(mnum).length ==1 )&#123;mnum = &quot;0&quot; + mnum;&#125;</span><br><span class="line">        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);</span><br><span class="line">        snum = Math.round(seconds); if(String(snum).length ==1 )&#123;snum = &quot;0&quot; + snum;&#125;</span><br><span class="line">        document.getElementById(&quot;timeDate&quot;).innerHTML = &quot;本站已安全运行 &quot;+dnum+&quot; 天 &quot;;</span><br><span class="line">        document.getElementById(&quot;times&quot;).innerHTML = hnum + &quot; 小时 &quot; + mnum + &quot; 分 &quot; + snum + &quot; 秒.&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">setInterval(&quot;createtime()&quot;,250);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-17-鼠标点击动画"><a href="#3-17-鼠标点击动画" class="headerlink" title="3.17 鼠标点击动画"></a>3.17 鼠标点击动画</h3><ol>
<li>爱心特效</li>
</ol>
<ul>
<li>在 &#x2F;themes&#x2F;hexo-theme-next&#x2F;source&#x2F;js&#x2F; 下新建文件 clicklove.js 并添加代码：（我clone下来的next项目名是hexo-theme-next，有的是next，所以看清自己的路径）</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">!<span class="keyword">function</span>(<span class="params">e,t,a</span>)&#123;<span class="keyword">function</span> <span class="title function_">n</span>(<span class="params"></span>)&#123;<span class="title function_">c</span>(<span class="string">&quot;.heart&#123;width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);&#125;.heart:after,.heart:before&#123;content: &#x27;&#x27;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;&#125;.heart:after&#123;top: -5px;&#125;.heart:before&#123;left: -5px;&#125;&quot;</span>),<span class="title function_">o</span>(),<span class="title function_">r</span>()&#125;<span class="keyword">function</span> <span class="title function_">r</span>(<span class="params"></span>)&#123;<span class="keyword">for</span>(<span class="keyword">var</span> e=<span class="number">0</span>;e&lt;d.<span class="property">length</span>;e++)d[e].<span class="property">alpha</span>&lt;=<span class="number">0</span>?(t.<span class="property">body</span>.<span class="title function_">removeChild</span>(d[e].<span class="property">el</span>),d.<span class="title function_">splice</span>(e,<span class="number">1</span>)):(d[e].<span class="property">y</span>--,d[e].<span class="property">scale</span>+=<span class="number">.004</span>,d[e].<span class="property">alpha</span>-=<span class="number">.013</span>,d[e].<span class="property">el</span>.<span class="property">style</span>.<span class="property">cssText</span>=<span class="string">&quot;left:&quot;</span>+d[e].<span class="property">x</span>+<span class="string">&quot;px;top:&quot;</span>+d[e].<span class="property">y</span>+<span class="string">&quot;px;opacity:&quot;</span>+d[e].<span class="property">alpha</span>+<span class="string">&quot;;transform:scale(&quot;</span>+d[e].<span class="property">scale</span>+<span class="string">&quot;,&quot;</span>+d[e].<span class="property">scale</span>+<span class="string">&quot;) rotate(45deg);background:&quot;</span>+d[e].<span class="property">color</span>+<span class="string">&quot;;z-index:99999&quot;</span>);<span class="title function_">requestAnimationFrame</span>(r)&#125;<span class="keyword">function</span> <span class="title function_">o</span>(<span class="params"></span>)&#123;<span class="keyword">var</span> t=<span class="string">&quot;function&quot;</span>==<span class="keyword">typeof</span> e.<span class="property">onclick</span>&amp;&amp;e.<span class="property">onclick</span>;e.<span class="property">onclick</span>=<span class="keyword">function</span>(<span class="params">e</span>)&#123;t&amp;&amp;<span class="title function_">t</span>(),<span class="title function_">i</span>(e)&#125;&#125;<span class="keyword">function</span> <span class="title function_">i</span>(<span class="params">e</span>)&#123;<span class="keyword">var</span> a=t.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);a.<span class="property">className</span>=<span class="string">&quot;heart&quot;</span>,d.<span class="title function_">push</span>(&#123;<span class="attr">el</span>:a,<span class="attr">x</span>:e.<span class="property">clientX</span>-<span class="number">5</span>,<span class="attr">y</span>:e.<span class="property">clientY</span>-<span class="number">5</span>,<span class="attr">scale</span>:<span class="number">1</span>,<span class="attr">alpha</span>:<span class="number">1</span>,<span class="attr">color</span>:<span class="title function_">s</span>()&#125;),t.<span class="property">body</span>.<span class="title function_">appendChild</span>(a)&#125;<span class="keyword">function</span> <span class="title function_">c</span>(<span class="params">e</span>)&#123;<span class="keyword">var</span> a=t.<span class="title function_">createElement</span>(<span class="string">&quot;style&quot;</span>);a.<span class="property">type</span>=<span class="string">&quot;text/css&quot;</span>;<span class="keyword">try</span>&#123;a.<span class="title function_">appendChild</span>(t.<span class="title function_">createTextNode</span>(e))&#125;<span class="keyword">catch</span>(t)&#123;a.<span class="property">styleSheet</span>.<span class="property">cssText</span>=e&#125;t.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;head&quot;</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(a)&#125;<span class="keyword">function</span> <span class="title function_">s</span>(<span class="params"></span>)&#123;<span class="keyword">return</span><span class="string">&quot;rgb(&quot;</span>+~~(<span class="number">255</span>*<span class="title class_">Math</span>.<span class="title function_">random</span>())+<span class="string">&quot;,&quot;</span>+~~(<span class="number">255</span>*<span class="title class_">Math</span>.<span class="title function_">random</span>())+<span class="string">&quot;,&quot;</span>+~~(<span class="number">255</span>*<span class="title class_">Math</span>.<span class="title function_">random</span>())+<span class="string">&quot;)&quot;</span>&#125;<span class="keyword">var</span> d=[];e.<span class="property">requestAnimationFrame</span>=<span class="keyword">function</span>(<span class="params"></span>)&#123;<span class="keyword">return</span> e.<span class="property">requestAnimationFrame</span>||e.<span class="property">webkitRequestAnimationFrame</span>||e.<span class="property">mozRequestAnimationFrame</span>||e.<span class="property">oRequestAnimationFrame</span>||e.<span class="property">msRequestAnimationFrame</span>||<span class="keyword">function</span>(<span class="params">e</span>)&#123;<span class="built_in">setTimeout</span>(e,<span class="number">1e3</span>/<span class="number">60</span>)&#125;&#125;(),<span class="title function_">n</span>()&#125;(<span class="variable language_">window</span>,<span class="variable language_">document</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li>在 \themes\hexo-theme-next\layout_layout.swig 文件末尾添加：（我clone下来的next项目名是hexo-theme-next，有的是next，所以看清自己的路径）</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;!-- 页面点击小红心 --&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;/js/clicklove.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.17%E7%88%B1%E5%BF%83%E5%8A%A8%E7%94%BB.gif"></p>
<ol start="2">
<li>在 themes&#x2F;hexo-theme-next&#x2F;source&#x2F;js&#x2F; 里面新建文件 fireworks.js 并添加代码：</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>; <span class="keyword">function</span> <span class="title function_">updateCoords</span>(<span class="params">e</span>) &#123; pointerX = (e.<span class="property">clientX</span> || e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientX</span>) - canvasEl.<span class="title function_">getBoundingClientRect</span>().<span class="property">left</span>, pointerY = e.<span class="property">clientY</span> || e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientY</span> - canvasEl.<span class="title function_">getBoundingClientRect</span>().<span class="property">top</span> &#125; <span class="keyword">function</span> <span class="title function_">setParticuleDirection</span>(<span class="params">e</span>) &#123; <span class="keyword">var</span> t = anime.<span class="title function_">random</span>(<span class="number">0</span>, <span class="number">360</span>) * <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">180</span>, a = anime.<span class="title function_">random</span>(<span class="number">50</span>, <span class="number">180</span>), n = [-<span class="number">1</span>, <span class="number">1</span>][anime.<span class="title function_">random</span>(<span class="number">0</span>, <span class="number">1</span>)] * a; <span class="keyword">return</span> &#123; <span class="attr">x</span>: e.<span class="property">x</span> + n * <span class="title class_">Math</span>.<span class="title function_">cos</span>(t), <span class="attr">y</span>: e.<span class="property">y</span> + n * <span class="title class_">Math</span>.<span class="title function_">sin</span>(t) &#125; &#125; <span class="keyword">function</span> <span class="title function_">createParticule</span>(<span class="params">e, t</span>) &#123; <span class="keyword">var</span> a = &#123;&#125;; <span class="keyword">return</span> a.<span class="property">x</span> = e, a.<span class="property">y</span> = t, a.<span class="property">color</span> = colors[anime.<span class="title function_">random</span>(<span class="number">0</span>, colors.<span class="property">length</span> - <span class="number">1</span>)], a.<span class="property">radius</span> = anime.<span class="title function_">random</span>(<span class="number">16</span>, <span class="number">32</span>), a.<span class="property">endPos</span> = <span class="title function_">setParticuleDirection</span>(a), a.<span class="property">draw</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; ctx.<span class="title function_">beginPath</span>(), ctx.<span class="title function_">arc</span>(a.<span class="property">x</span>, a.<span class="property">y</span>, a.<span class="property">radius</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>, !<span class="number">0</span>), ctx.<span class="property">fillStyle</span> = a.<span class="property">color</span>, ctx.<span class="title function_">fill</span>() &#125;, a &#125; <span class="keyword">function</span> <span class="title function_">createCircle</span>(<span class="params">e, t</span>) &#123; <span class="keyword">var</span> a = &#123;&#125;; <span class="keyword">return</span> a.<span class="property">x</span> = e, a.<span class="property">y</span> = t, a.<span class="property">color</span> = <span class="string">&quot;#F00&quot;</span>, a.<span class="property">radius</span> = <span class="number">0.1</span>, a.<span class="property">alpha</span> = <span class="number">0.5</span>, a.<span class="property">lineWidth</span> = <span class="number">6</span>, a.<span class="property">draw</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; ctx.<span class="property">globalAlpha</span> = a.<span class="property">alpha</span>, ctx.<span class="title function_">beginPath</span>(), ctx.<span class="title function_">arc</span>(a.<span class="property">x</span>, a.<span class="property">y</span>, a.<span class="property">radius</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>, !<span class="number">0</span>), ctx.<span class="property">lineWidth</span> = a.<span class="property">lineWidth</span>, ctx.<span class="property">strokeStyle</span> = a.<span class="property">color</span>, ctx.<span class="title function_">stroke</span>(), ctx.<span class="property">globalAlpha</span> = <span class="number">1</span> &#125;, a &#125; <span class="keyword">function</span> <span class="title function_">renderParticule</span>(<span class="params">e</span>) &#123; <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; e.<span class="property">animatables</span>.<span class="property">length</span>; t++) &#123; e.<span class="property">animatables</span>[t].<span class="property">target</span>.<span class="title function_">draw</span>() &#125; &#125; <span class="keyword">function</span> <span class="title function_">animateParticules</span>(<span class="params">e, t</span>) &#123; <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="title function_">createCircle</span>(e, t), n = [], i = <span class="number">0</span>; i &lt; numberOfParticules; i++) &#123; n.<span class="title function_">push</span>(<span class="title function_">createParticule</span>(e, t)) &#125; anime.<span class="title function_">timeline</span>().<span class="title function_">add</span>(&#123; <span class="attr">targets</span>: n, <span class="attr">x</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123; <span class="keyword">return</span> e.<span class="property">endPos</span>.<span class="property">x</span> &#125;, <span class="attr">y</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123; <span class="keyword">return</span> e.<span class="property">endPos</span>.<span class="property">y</span> &#125;, <span class="attr">radius</span>: <span class="number">0.1</span>, <span class="attr">duration</span>: anime.<span class="title function_">random</span>(<span class="number">1200</span>, <span class="number">1800</span>), <span class="attr">easing</span>: <span class="string">&quot;easeOutExpo&quot;</span>, <span class="attr">update</span>: renderParticule &#125;).<span class="title function_">add</span>(&#123; <span class="attr">targets</span>: a, <span class="attr">radius</span>: anime.<span class="title function_">random</span>(<span class="number">80</span>, <span class="number">160</span>), <span class="attr">lineWidth</span>: <span class="number">0</span>, <span class="attr">alpha</span>: &#123; <span class="attr">value</span>: <span class="number">0</span>, <span class="attr">easing</span>: <span class="string">&quot;linear&quot;</span>, <span class="attr">duration</span>: anime.<span class="title function_">random</span>(<span class="number">600</span>, <span class="number">800</span>) &#125;, <span class="attr">duration</span>: anime.<span class="title function_">random</span>(<span class="number">1200</span>, <span class="number">1800</span>), <span class="attr">easing</span>: <span class="string">&quot;easeOutExpo&quot;</span>, <span class="attr">update</span>: renderParticule, <span class="attr">offset</span>: <span class="number">0</span> &#125;) &#125; <span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">e, t</span>) &#123; <span class="keyword">var</span> a; <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">var</span> n = <span class="variable language_">this</span>, i = <span class="variable language_">arguments</span>; <span class="built_in">clearTimeout</span>(a), a = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; e.<span class="title function_">apply</span>(n, i) &#125;, t) &#125; &#125; <span class="keyword">var</span> canvasEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.fireworks&quot;</span>); <span class="keyword">if</span> (canvasEl) &#123; <span class="keyword">var</span> ctx = canvasEl.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>), numberOfParticules = <span class="number">30</span>, pointerX = <span class="number">0</span>, pointerY = <span class="number">0</span>, tap = <span class="string">&quot;mousedown&quot;</span>, colors = [<span class="string">&quot;#FF1461&quot;</span>, <span class="string">&quot;#18FF92&quot;</span>, <span class="string">&quot;#5A87FF&quot;</span>, <span class="string">&quot;#FBF38C&quot;</span>], setCanvasSize = <span class="title function_">debounce</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; canvasEl.<span class="property">width</span> = <span class="number">2</span> * <span class="variable language_">window</span>.<span class="property">innerWidth</span>, canvasEl.<span class="property">height</span> = <span class="number">2</span> * <span class="variable language_">window</span>.<span class="property">innerHeight</span>, canvasEl.<span class="property">style</span>.<span class="property">width</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span> + <span class="string">&quot;px&quot;</span>, canvasEl.<span class="property">style</span>.<span class="property">height</span> = <span class="variable language_">window</span>.<span class="property">innerHeight</span> + <span class="string">&quot;px&quot;</span>, canvasEl.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>).<span class="title function_">scale</span>(<span class="number">2</span>, <span class="number">2</span>) &#125;, <span class="number">500</span>), render = <span class="title function_">anime</span>(&#123; <span class="attr">duration</span>: <span class="number">1</span> / <span class="number">0</span>, <span class="attr">update</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvasEl.<span class="property">width</span>, canvasEl.<span class="property">height</span>) &#125; &#125;); <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(tap, <span class="keyword">function</span> (<span class="params">e</span>) &#123; <span class="string">&quot;sidebar&quot;</span> !== e.<span class="property">target</span>.<span class="property">id</span> &amp;&amp; <span class="string">&quot;toggle-sidebar&quot;</span> !== e.<span class="property">target</span>.<span class="property">id</span> &amp;&amp; <span class="string">&quot;A&quot;</span> !== e.<span class="property">target</span>.<span class="property">nodeName</span> &amp;&amp; <span class="string">&quot;IMG&quot;</span> !== e.<span class="property">target</span>.<span class="property">nodeName</span> &amp;&amp; (render.<span class="title function_">play</span>(), <span class="title function_">updateCoords</span>(e), <span class="title function_">animateParticules</span>(pointerX, pointerY)) &#125;, !<span class="number">1</span>), <span class="title function_">setCanvasSize</span>(), <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, setCanvasSize, !<span class="number">1</span>) &#125; <span class="string">&quot;use strict&quot;</span>; <span class="keyword">function</span> <span class="title function_">updateCoords</span>(<span class="params">e</span>) &#123; pointerX = (e.<span class="property">clientX</span> || e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientX</span>) - canvasEl.<span class="title function_">getBoundingClientRect</span>().<span class="property">left</span>, pointerY = e.<span class="property">clientY</span> || e.<span class="property">touches</span>[<span class="number">0</span>].<span class="property">clientY</span> - canvasEl.<span class="title function_">getBoundingClientRect</span>().<span class="property">top</span> &#125; <span class="keyword">function</span> <span class="title function_">setParticuleDirection</span>(<span class="params">e</span>) &#123; <span class="keyword">var</span> t = anime.<span class="title function_">random</span>(<span class="number">0</span>, <span class="number">360</span>) * <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">180</span>, a = anime.<span class="title function_">random</span>(<span class="number">50</span>, <span class="number">180</span>), n = [-<span class="number">1</span>, <span class="number">1</span>][anime.<span class="title function_">random</span>(<span class="number">0</span>, <span class="number">1</span>)] * a; <span class="keyword">return</span> &#123; <span class="attr">x</span>: e.<span class="property">x</span> + n * <span class="title class_">Math</span>.<span class="title function_">cos</span>(t), <span class="attr">y</span>: e.<span class="property">y</span> + n * <span class="title class_">Math</span>.<span class="title function_">sin</span>(t) &#125; &#125; <span class="keyword">function</span> <span class="title function_">createParticule</span>(<span class="params">e, t</span>) &#123; <span class="keyword">var</span> a = &#123;&#125;; <span class="keyword">return</span> a.<span class="property">x</span> = e, a.<span class="property">y</span> = t, a.<span class="property">color</span> = colors[anime.<span class="title function_">random</span>(<span class="number">0</span>, colors.<span class="property">length</span> - <span class="number">1</span>)], a.<span class="property">radius</span> = anime.<span class="title function_">random</span>(<span class="number">16</span>, <span class="number">32</span>), a.<span class="property">endPos</span> = <span class="title function_">setParticuleDirection</span>(a), a.<span class="property">draw</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; ctx.<span class="title function_">beginPath</span>(), ctx.<span class="title function_">arc</span>(a.<span class="property">x</span>, a.<span class="property">y</span>, a.<span class="property">radius</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>, !<span class="number">0</span>), ctx.<span class="property">fillStyle</span> = a.<span class="property">color</span>, ctx.<span class="title function_">fill</span>() &#125;, a &#125; <span class="keyword">function</span> <span class="title function_">createCircle</span>(<span class="params">e, t</span>) &#123; <span class="keyword">var</span> a = &#123;&#125;; <span class="keyword">return</span> a.<span class="property">x</span> = e, a.<span class="property">y</span> = t, a.<span class="property">color</span> = <span class="string">&quot;#F00&quot;</span>, a.<span class="property">radius</span> = <span class="number">0.1</span>, a.<span class="property">alpha</span> = <span class="number">0.5</span>, a.<span class="property">lineWidth</span> = <span class="number">6</span>, a.<span class="property">draw</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123; ctx.<span class="property">globalAlpha</span> = a.<span class="property">alpha</span>, ctx.<span class="title function_">beginPath</span>(), ctx.<span class="title function_">arc</span>(a.<span class="property">x</span>, a.<span class="property">y</span>, a.<span class="property">radius</span>, <span class="number">0</span>, <span class="number">2</span> * <span class="title class_">Math</span>.<span class="property">PI</span>, !<span class="number">0</span>), ctx.<span class="property">lineWidth</span> = a.<span class="property">lineWidth</span>, ctx.<span class="property">strokeStyle</span> = a.<span class="property">color</span>, ctx.<span class="title function_">stroke</span>(), ctx.<span class="property">globalAlpha</span> = <span class="number">1</span> &#125;, a &#125; <span class="keyword">function</span> <span class="title function_">renderParticule</span>(<span class="params">e</span>) &#123; <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">0</span>; t &lt; e.<span class="property">animatables</span>.<span class="property">length</span>; t++) &#123; e.<span class="property">animatables</span>[t].<span class="property">target</span>.<span class="title function_">draw</span>() &#125; &#125; <span class="keyword">function</span> <span class="title function_">animateParticules</span>(<span class="params">e, t</span>) &#123; <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="title function_">createCircle</span>(e, t), n = [], i = <span class="number">0</span>; i &lt; numberOfParticules; i++) &#123; n.<span class="title function_">push</span>(<span class="title function_">createParticule</span>(e, t)) &#125; anime.<span class="title function_">timeline</span>().<span class="title function_">add</span>(&#123; <span class="attr">targets</span>: n, <span class="attr">x</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123; <span class="keyword">return</span> e.<span class="property">endPos</span>.<span class="property">x</span> &#125;, <span class="attr">y</span>: <span class="keyword">function</span> (<span class="params">e</span>) &#123; <span class="keyword">return</span> e.<span class="property">endPos</span>.<span class="property">y</span> &#125;, <span class="attr">radius</span>: <span class="number">0.1</span>, <span class="attr">duration</span>: anime.<span class="title function_">random</span>(<span class="number">1200</span>, <span class="number">1800</span>), <span class="attr">easing</span>: <span class="string">&quot;easeOutExpo&quot;</span>, <span class="attr">update</span>: renderParticule &#125;).<span class="title function_">add</span>(&#123; <span class="attr">targets</span>: a, <span class="attr">radius</span>: anime.<span class="title function_">random</span>(<span class="number">80</span>, <span class="number">160</span>), <span class="attr">lineWidth</span>: <span class="number">0</span>, <span class="attr">alpha</span>: &#123; <span class="attr">value</span>: <span class="number">0</span>, <span class="attr">easing</span>: <span class="string">&quot;linear&quot;</span>, <span class="attr">duration</span>: anime.<span class="title function_">random</span>(<span class="number">600</span>, <span class="number">800</span>) &#125;, <span class="attr">duration</span>: anime.<span class="title function_">random</span>(<span class="number">1200</span>, <span class="number">1800</span>), <span class="attr">easing</span>: <span class="string">&quot;easeOutExpo&quot;</span>, <span class="attr">update</span>: renderParticule, <span class="attr">offset</span>: <span class="number">0</span> &#125;) &#125; <span class="keyword">function</span> <span class="title function_">debounce</span>(<span class="params">e, t</span>) &#123; <span class="keyword">var</span> a; <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">var</span> n = <span class="variable language_">this</span>, i = <span class="variable language_">arguments</span>; <span class="built_in">clearTimeout</span>(a), a = <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; e.<span class="title function_">apply</span>(n, i) &#125;, t) &#125; &#125; <span class="keyword">var</span> canvasEl = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.fireworks&quot;</span>); <span class="keyword">if</span> (canvasEl) &#123; <span class="keyword">var</span> ctx = canvasEl.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>), numberOfParticules = <span class="number">30</span>, pointerX = <span class="number">0</span>, pointerY = <span class="number">0</span>, tap = <span class="string">&quot;mousedown&quot;</span>, colors = [<span class="string">&quot;#FF1461&quot;</span>, <span class="string">&quot;#18FF92&quot;</span>, <span class="string">&quot;#5A87FF&quot;</span>, <span class="string">&quot;#FBF38C&quot;</span>], setCanvasSize = <span class="title function_">debounce</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; canvasEl.<span class="property">width</span> = <span class="number">2</span> * <span class="variable language_">window</span>.<span class="property">innerWidth</span>, canvasEl.<span class="property">height</span> = <span class="number">2</span> * <span class="variable language_">window</span>.<span class="property">innerHeight</span>, canvasEl.<span class="property">style</span>.<span class="property">width</span> = <span class="variable language_">window</span>.<span class="property">innerWidth</span> + <span class="string">&quot;px&quot;</span>, canvasEl.<span class="property">style</span>.<span class="property">height</span> = <span class="variable language_">window</span>.<span class="property">innerHeight</span> + <span class="string">&quot;px&quot;</span>, canvasEl.<span class="title function_">getContext</span>(<span class="string">&quot;2d&quot;</span>).<span class="title function_">scale</span>(<span class="number">2</span>, <span class="number">2</span>) &#125;, <span class="number">500</span>), render = <span class="title function_">anime</span>(&#123; <span class="attr">duration</span>: <span class="number">1</span> / <span class="number">0</span>, <span class="attr">update</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, canvasEl.<span class="property">width</span>, canvasEl.<span class="property">height</span>) &#125; &#125;); <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(tap, <span class="keyword">function</span> (<span class="params">e</span>) &#123; <span class="string">&quot;sidebar&quot;</span> !== e.<span class="property">target</span>.<span class="property">id</span> &amp;&amp; <span class="string">&quot;toggle-sidebar&quot;</span> !== e.<span class="property">target</span>.<span class="property">id</span> &amp;&amp; <span class="string">&quot;A&quot;</span> !== e.<span class="property">target</span>.<span class="property">nodeName</span> &amp;&amp; <span class="string">&quot;IMG&quot;</span> !== e.<span class="property">target</span>.<span class="property">nodeName</span> &amp;&amp; (render.<span class="title function_">play</span>(), <span class="title function_">updateCoords</span>(e), <span class="title function_">animateParticules</span>(pointerX, pointerY)) &#125;, !<span class="number">1</span>), <span class="title function_">setCanvasSize</span>(), <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, setCanvasSize, !<span class="number">1</span>) &#125;;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>打开 themes&#x2F;hexo-theme-next&#x2F;layout&#x2F;_layout.swig，在里添加如下代码：</li>
</ol>
<figure class="highlight django"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> theme.fireworks %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">&quot;fireworks&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span> </span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;//cdn.bootcss.com/animejs/2.2.0/anime.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/js/fireworks.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>打开主题配置文件，末尾添加：</li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 鼠标点击动画 Fireworks</span></span><br><span class="line"><span class="attr">fireworks:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>
<p><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.17%E7%83%9F%E8%8A%B1%E5%8A%A8%E7%94%BB.png"></p>
<h3 id="3-18-背景动画"><a href="#3-18-背景动画" class="headerlink" title="3.18 背景动画"></a>3.18 背景动画</h3><ol>
<li>丝带背景动画(TODO) 还未启用</li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 丝带背景动画</span></span><br><span class="line"><span class="comment"># Generate a ribbon in your website with HTML5 canvas.</span></span><br><span class="line"><span class="comment"># For more information: https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="attr">canvas_ribbon:</span> <span class="comment"># 丝带背景动画</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">300</span> <span class="comment"># The width of the ribbon</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span> <span class="comment"># The transparency of the ribbon</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># The display level of the ribbon</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>网格背景动画</li>
</ol>
<ul>
<li>打开 hexo-theme-next&#x2F;layout&#x2F;_layout.swig，在<body></body>标签内添加代码</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">if</span> <span class="string">theme.canvas_nest</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">&lt;script</span> <span class="string">type=&quot;text/javascript&quot;</span></span><br><span class="line">    <span class="string">count=&quot;150&quot;</span></span><br><span class="line">    <span class="attr">opacity:</span> <span class="number">1</span></span><br><span class="line">    <span class="string">src=&quot;//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endif</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure>
<p>原文怀疑src里的链接配置的 count&#x3D;99，所以设置了内联式 count&#x3D;150（默认也是150）, 设置后count的数量明显增加</p>
<ul>
<li>配置项<ul>
<li>color：线条颜色, 默认: ‘0,0,0’ ；三个数字分别为(R,G,B)，注意用, 分割</li>
<li>opacity：线条透明度（0～1），默认 0.5</li>
<li>count：线条的总数量，默认 150</li>
<li>zIndex：背景的z-index属性，css属性用于控制所在层的位置，默认：-1</li>
</ul>
</li>
</ul>
<ol start="3">
<li>打开主题配置文件，添加以下代码：</li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Canvas-nest</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-canvas-nest</span></span><br><span class="line"><span class="comment"># For more information: https://github.com/hustcc/canvas-nest.js</span></span><br><span class="line"><span class="comment"># canvas_nest</span></span><br><span class="line"><span class="attr">canvas_nest:</span> <span class="literal">true</span> <span class="comment"># 开启动画 老版的不能用enable: true</span></span><br><span class="line"><span class="comment"># canvas_nest: false # 关闭动画</span></span><br></pre></td></tr></table></figure>

<h3 id="3-19-文章结束标志"><a href="#3-19-文章结束标志" class="headerlink" title="3.19 文章结束标志"></a>3.19 文章结束标志</h3><ul>
<li>在路径 \themes\hexo-theme-next\layout\_macro 中新建 passage-end-tag.swig 文件,并添加以下内容</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        &lt;div style=&quot;text-align:center;color: #ccc;font-size:14px;&quot;&gt;-------------已经到底啦！&lt;i class=&quot;fa fa-paw&quot;&gt;&lt;/i&gt;-------------&lt;/div&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>打开 \themes\hexo-theme-next\layout\_macro\post.swig 文件，在post-body 之后(END POST BODY)，post-footer 之前添加以下代码：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  &#123;% if not is_index %&#125;</span><br><span class="line">    &#123;% include &#x27;passage-end-tag.swig&#x27; %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h3 id="3-20-配置live-2d模型"><a href="#3-20-配置live-2d模型" class="headerlink" title="3.20 配置live-2d模型"></a>3.20 配置live-2d模型</h3><ul>
<li>安装 hexo-helper-live2d 插件</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -save hexo-helper-live2d</span><br></pre></td></tr></table></figure>

<ul>
<li><p>这个默认是 shizuku 不用配置，安装后直接在站点显示，但如果想要性能优化，配置模型相关信息的话，需要再安装 shizuku。</p>
</li>
<li><p>在站点配置文件中添加参数：（想要配置参数的话，需要重新下载专门的模型包）</p>
</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">live2d:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">scriptFrom:</span> <span class="string">local</span></span><br><span class="line">  <span class="attr">pluginRootPath:</span> <span class="string">live2dw/</span></span><br><span class="line">  <span class="attr">pluginJsPath:</span> <span class="string">lib/</span></span><br><span class="line">  <span class="attr">pluginModelPath:</span> <span class="string">assets/</span></span><br><span class="line">  <span class="attr">tagMode:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">log:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">model:</span></span><br><span class="line">    <span class="attr">use:</span> <span class="string">live2d-widget-model-&lt;你喜欢的模型名字&gt;</span></span><br><span class="line">  <span class="attr">display:</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">right</span></span><br><span class="line">    <span class="comment"># width: 150 # 大小根据模型结构自己调整合适的</span></span><br><span class="line">    <span class="comment"># height: 300</span></span><br><span class="line">  <span class="attr">mobile:</span></span><br><span class="line">    <span class="attr">show:</span> <span class="literal">true</span> <span class="comment"># 是否在手机端显示</span></span><br></pre></td></tr></table></figure>
<ul>
<li>可供选择模型：</li>
</ul>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line">live2d-widget-<span class="keyword">model</span>-chitose</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-epsilon2_1</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-gf</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-haru/<span class="number">01</span> (use npm install --save live2d-widget-<span class="keyword">model</span>-haru)</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-haru/<span class="number">02</span> (use npm install --save live2d-widget-<span class="keyword">model</span>-haru)</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-haruto</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-hibiki</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-hijiki</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-izumi</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-koharu</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-miku</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-ni-j</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-nico</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-nietzsche</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-nipsilon</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-nito</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-shizuku</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-tororo</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-tsumiki</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-unitychan</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-wanko</span><br><span class="line"></span><br><span class="line">live2d-widget-<span class="keyword">model</span>-z16</span><br></pre></td></tr></table></figure>

<ul>
<li>上面模型的选择可在lived2d中选择，并下载相应的模型：（这里先选择了 wanko作为示例）</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install live2d-widget-model-wanko --save</span><br></pre></td></tr></table></figure>

<ul>
<li><p>安装 shizuku 模型时建议 cnpm，速度很快且用npm安装这个模型容易出现 network error</p>
</li>
<li><p>下载cnpm淘宝源(TODO)（我这里就没下载了,直接安装的）</p>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install -g cnpm --registry=https://registry.npm.taobao.org</span><br></pre></td></tr></table></figure>

<ul>
<li>安装 shizuku 模型</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install live2d-widget-model-shizuku --save</span><br></pre></td></tr></table></figure>

<ul>
<li>hexo-helper-live2d 相当于 live2d 的脚手架，不能只下载 model，删除了 hexo-helper-live2d，live2d 模型无法生成</li>
</ul>
<h3 id="3-21-侧边栏社交链接"><a href="#3-21-侧边栏社交链接" class="headerlink" title="3.21 侧边栏社交链接"></a>3.21 侧边栏社交链接</h3><p>在主题配置文件中，开启 social 并选择想要的社交链接，取消注释</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="comment"># GitHub: https://github.com/Benn314 || fab fa-github</span></span><br><span class="line">  <span class="attr">E-Mail:</span> <span class="number">936184713</span><span class="string">@qq.com</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-envelope</span></span><br><span class="line">  <span class="attr">Bilibili:</span> <span class="string">https://space.bilibili.com/8032462?spm_id_from=333.1007.0.0</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-envelope</span></span><br><span class="line">  <span class="attr">CSDN:</span> <span class="string">https://blog.csdn.net/qq_41234218?type=blog</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-envelope</span></span><br><span class="line">  <span class="comment">#Weibo: https://weibo.com/yourname || fab fa-weibo</span></span><br><span class="line">  <span class="comment">#Twitter: https://twitter.com/yourname || fab fa-twitter</span></span><br><span class="line">  <span class="comment">#FB Page: https://www.facebook.com/yourname || fab fa-facebook</span></span><br><span class="line">  <span class="comment">#StackOverflow: https://stackoverflow.com/yourname || fab fa-stack-overflow</span></span><br><span class="line">  <span class="comment">#YouTube: https://youtube.com/yourname || fab fa-youtube</span></span><br><span class="line">  <span class="comment">#Instagram: https://instagram.com/yourname || fab fa-instagram</span></span><br><span class="line">  <span class="comment">#Skype: skype:yourname?call|chat || fab fa-skype</span></span><br></pre></td></tr></table></figure>

<h4 id="3-21-1-自定义icon图标"><a href="#3-21-1-自定义icon图标" class="headerlink" title="3.21.1 自定义icon图标"></a>3.21.1 自定义icon图标</h4><ul>
<li><p>首先去 <a href="https://www.iconfont.cn/">iconfont-阿里巴巴矢量图库</a> 下载 svg 格式的图标，需要什么图标则搜索相应图标并下载，然后把图标放在 \themes\hexo-theme-next\source\images 目录下</p>
</li>
<li><p>在 \themes\hexo-theme-next\source\css 目录下的 main.styl 添加代码<br>这里以 bilibili 和 CSDN 为例： (记得把下载下来的图片名改为bilibili.svg和csdn.svg)</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* 侧边栏图标格式设置 */</span></span><br><span class="line"><span class="selector-class">.bilibili</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;/images/bilibili.svg&#x27;</span>);</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">1em</span> <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.55</span>;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0.05rem</span> <span class="number">0.2rem</span>;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1rem</span>; </span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0rem</span>;</span><br><span class="line">  <span class="comment">/*鼠标停留在图标上时，图标呈现发光效果*/</span></span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="selector-class">.csdn</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">&#x27;/images/csdn.svg&#x27;</span>);</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">1em</span> <span class="number">1em</span>; <span class="comment">/*第一个参数是宽 第二个是高*/</span></span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.55</span>;</span><br><span class="line">  <span class="attribute">background-position</span>: <span class="number">0.05rem</span> <span class="number">0.2rem</span>;</span><br><span class="line">  <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1rem</span>; </span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0rem</span>;</span><br><span class="line">  <span class="comment">/*鼠标停留在图标上时，图标呈现发光效果*/</span></span><br><span class="line">  &amp;<span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>在主题配置文件中，开启 social 并在 social 项下图片来源设置为 fa bilibili 和 fa csdn</p>
</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">social:</span></span><br><span class="line">  <span class="attr">GitHub:</span> <span class="string">https://github.com/ConanGentleman</span> <span class="string">||</span> <span class="string">fab</span> <span class="string">fa-github</span></span><br><span class="line">  <span class="attr">E-Mail:</span> <span class="number">936184713</span><span class="string">@qq.com</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">fa-envelope</span></span><br><span class="line">  <span class="attr">Bilibili:</span> <span class="string">https://space.bilibili.com/8032462?spm_id_from=333.1007.0.0</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">bilibili</span></span><br><span class="line">  <span class="attr">CSDN:</span> <span class="string">https://blog.csdn.net/qq_41234218?type=blog</span> <span class="string">||</span> <span class="string">fa</span> <span class="string">csdn</span></span><br><span class="line">  <span class="comment">#Weibo: https://weibo.com/yourname || fab fa-weibo</span></span><br><span class="line">  <span class="comment">#Twitter: https://twitter.com/yourname || fab fa-twitter</span></span><br><span class="line">  <span class="comment">#FB Page: https://www.facebook.com/yourname || fab fa-facebook</span></span><br><span class="line">  <span class="comment">#StackOverflow: https://stackoverflow.com/yourname || fab fa-stack-overflow</span></span><br><span class="line">  <span class="comment">#YouTube: https://youtube.com/yourname || fab fa-youtube</span></span><br><span class="line">  <span class="comment">#Instagram: https://instagram.com/yourname || fab fa-instagram</span></span><br><span class="line">  <span class="comment">#Skype: skype:yourname?call|chat || fab fa-skype</span></span><br></pre></td></tr></table></figure>

<h3 id="3-22-添加fork-me-on-github入口"><a href="#3-22-添加fork-me-on-github入口" class="headerlink" title="3.22 添加fork me on github入口"></a>3.22 添加fork me on github入口</h3><ul>
<li>首先到 GitHub Corners 或者 GitHub Ribbons 选择自己喜欢的图标，然后copy相应的代码粘贴到 themes&#x2F;hexo-theme-next&#x2F;layout&#x2F;_layout.swig 文件中，把代码中的href后面的值替换成你要跳转的地址，比如你的GitHub主页</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://github.com/ConanGentleman&quot;</span> <span class="attr">class</span>=<span class="string">&quot;github-corner&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;View source on GitHub&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">&quot;80&quot;</span> <span class="attr">height</span>=<span class="string">&quot;80&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 250 250&quot;</span> <span class="attr">style</span>=<span class="string">&quot;fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;currentColor&quot;</span> <span class="attr">style</span>=<span class="string">&quot;transform-origin: 130px 106px;&quot;</span> <span class="attr">class</span>=<span class="string">&quot;octo-arm&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span><span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;currentColor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;octo-body&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">path</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"><span class="selector-class">.github-corner</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.octo-arm</span>&#123;<span class="attribute">animation</span>:octocat-wave <span class="number">560ms</span> ease-in-out&#125;<span class="keyword">@keyframes</span> octocat-wave&#123;<span class="number">0%</span>,<span class="number">100%</span>&#123;<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">0</span>)&#125;<span class="number">20%</span>,<span class="number">60%</span>&#123;<span class="attribute">transform</span>:<span class="built_in">rotate</span>(-<span class="number">25deg</span>)&#125;<span class="number">40%</span>,<span class="number">80%</span>&#123;<span class="attribute">transform</span>:<span class="built_in">rotate</span>(<span class="number">10deg</span>)&#125;&#125;<span class="keyword">@media</span> (<span class="attribute">max-width</span>:<span class="number">500px</span>)&#123;<span class="selector-class">.github-corner</span><span class="selector-pseudo">:hover</span> <span class="selector-class">.octo-arm</span>&#123;<span class="attribute">animation</span>:none&#125;<span class="selector-class">.github-corner</span> <span class="selector-class">.octo-arm</span>&#123;<span class="attribute">animation</span>:octocat-wave <span class="number">560ms</span> ease-in-out&#125;&#125;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.23forkmeon%20github%E5%85%A5%E5%8F%A3.jpg"></p>
<h3 id="3-23-更换博客背景"><a href="#3-23-更换博客背景" class="headerlink" title="3.23 更换博客背景"></a>3.23 更换博客背景</h3><ol>
<li>更换主背景</li>
</ol>
<ul>
<li><p>把准备好的背景图放入 themes\hexo-theme-next\source\images 中</p>
</li>
<li><p>新版本需要新建 hexo&#x2F;source&#x2F;_data&#x2F;styles.styl，即在 hexo目录的 source文件夹下新建 _data 文件夹，文件夹中新建 styles.styl。<strong>注意：是新建在 hexo目录下 source文件夹里，而不是主题文件 next目录下的 source文件夹</strong>，如图：<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.22%E6%9B%B4%E6%8D%A2%E5%8D%9A%E5%AE%A2%E8%83%8C%E6%99%AF%E6%96%87%E4%BB%B6%E5%A4%B9.jpg"></p>
</li>
<li><p>打开 styles.styl，添加如下：</p>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//背景图片设置</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">/images/background.jpg</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-attachment</span>: fixed;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">    // <span class="attribute">background-size</span>: cover // 填充</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>配置项</p>
<ul>
<li>background-image:url 为图片路径，可以直接使用链接，也可以是图片路径（将自定义图片放入hexo-theme-next\public\images路径下或者之前提到的themes\hexo-theme-next\source\images中）</li>
<li>background-repeat：若果背景图片不能全屏，那么是否平铺显示，充满屏幕</li>
<li>background-attachment：背景是否随着网页上下滚动而滚动，fixed 为固定</li>
<li>background-size：图片展示大小，这里设置 100%，100% 的意义为：如果背景图片不能全屏，那么是否通过拉伸的方式将背景强制拉伸至全屏显示</li>
<li>background-size: cover &#x2F;&#x2F; 填充</li>
</ul>
</li>
<li><p>打开主题配置文件，将 custom_file_path 的 sytle 注释打开。(<strong>variable</strong>: source&#x2F;_data&#x2F;variables.styl是<strong>后面<a href="#325-%E8%BE%B9%E6%A1%86%E5%9C%86%E8%A7%92">3.25-边框圆角</a>才设置的</strong>这里可以先不用，但也可以先设置了)</p>
</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom_file_path:</span></span><br><span class="line">  <span class="comment">#head: source/_data/head.njk</span></span><br><span class="line">  <span class="comment">#header: source/_data/header.njk</span></span><br><span class="line">  <span class="comment">#sidebar: source/_data/sidebar.njk</span></span><br><span class="line">  <span class="comment">#postMeta: source/_data/post-meta.njk</span></span><br><span class="line">  <span class="comment">#postBodyEnd: source/_data/post-body-end.njk</span></span><br><span class="line">  <span class="comment">#footer: source/_data/footer.njk</span></span><br><span class="line">  <span class="comment">#bodyEnd: source/_data/body-end.njk</span></span><br><span class="line">  <span class="attr">variable:</span> <span class="string">source/_data/variables.styl</span></span><br><span class="line">  <span class="comment">#mixin: source/_data/mixins.styl</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">source/_data/styles.styl</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>添加侧边栏背景</li>
</ol>
<ul>
<li>对 themes\hexo-theme-next\source\css\_schemes\Pisces\_header.styl 中 site-brand-container的background进行修改</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.site-brand-container</span> &#123;</span><br><span class="line">  // <span class="attribute">background</span>: <span class="built_in">var</span>(--theme-color); // 默认背景</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;https://images.unsplash.com/photo-1668871333606-ef8461d43922?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHw0fHx8ZW58MHx8fHw%3D&amp;auto=format&amp;fit=crop&amp;w=600&amp;q=60&#x27;</span>);</span><br><span class="line">  // <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;https://images.unsplash.com/photo-1661961110144-12ac85918e40?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDF8MHxlZGl0b3JpYWwtZmVlZHw4NHx8fGVufDB8fHx8&amp;auto=format&amp;fit=crop&amp;w=600&amp;q=60&#x27;</span>);</span><br><span class="line">  // <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;https://images.unsplash.com/photo-1668735648397-9defaa967b15?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxMDV8fHxlbnwwfHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=600&amp;q=60&#x27;</span>);</span><br><span class="line">  // <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;https://images.unsplash.com/photo-1668765005700-021ea0bb9250?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxMDN8fHxlbnwwfHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=600&amp;q=60&#x27;</span>);</span><br><span class="line">  //<span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;https://images.unsplash.com/photo-1668681919287-7367677cdc4c?ixlib=rb-4.0.3&amp;ixid=MnwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwxNTV8fHxlbnwwfHx8fA%3D%3D&amp;auto=format&amp;fit=crop&amp;w=600&amp;q=60&#x27;</span>);</span><br><span class="line">  <span class="attribute">background-size</span>: cover; // 填充</span><br><span class="line">  //<span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.site-nav-on</span> &amp; &#123;</span><br><span class="line">    +tablet-mobile() &#123;</span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">16px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">5</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>扩展<br><a href="https://source.unsplash.com/">unsplash</a>是一个高清大图免费下载的好网站，提供了大量的图片和外链API，可以用来当作自己的博客背景</li>
</ul>
<h3 id="3-24-设置透明度"><a href="#3-24-设置透明度" class="headerlink" title="3.24 设置透明度"></a>3.24 设置透明度</h3><ul>
<li><p>单独给每个区域设置opacity会出现很多问题，例如搜索框弹出会被覆盖图层导致无法进行本地搜索</p>
</li>
<li><p>最理想是进行全局设置，在 blog\source\_data\styles.styl 中 直接设置body的透明度为0.85 全体透明化，opacity的值可以自行调整</p>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">//背景图片设置</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">/images/background.jpg</span>);</span><br><span class="line">    <span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-attachment</span>: fixed;</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">    // <span class="attribute">background-size</span>: cover // 填充</span><br><span class="line">    opacity: <span class="number">0.85</span>;</span><br><span class="line">    //可选(用于移动端显示)</span><br><span class="line">    +mobile()&#123;</span><br><span class="line">      <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">https://unsplash.com/photos/shooting-star-in-night-sky-5LOhydOtTKU</span>); //这里选用的是https://source.unsplash.com/上的在线图片，用于移动端显示（可选）</span><br><span class="line">      background-size: cover;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-24-1-文章区域位置调整-TODO-调整了会有问题，建议别调整了，或者查一下错误"><a href="#3-24-1-文章区域位置调整-TODO-调整了会有问题，建议别调整了，或者查一下错误" class="headerlink" title="3.24.1 文章区域位置调整(TODO,调整了会有问题，建议别调整了，或者查一下错误)"></a>3.24.1 文章区域位置调整(TODO,调整了会有问题，建议别调整了，或者查一下错误)</h4><ul>
<li>在\themes\hexo-theme-next\source\css_common\components\post\post.styl （旧版可能是index.styl文件）设置了布局（调整位置信息） ,不需要的话可以删掉下面的margin和padding（默认值没有设置margin和padding）或者修改其值</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.use-motion</span> &#123;</span><br><span class="line">  if (hexo-config(&#x27;motion<span class="selector-class">.transition</span><span class="selector-class">.post_block</span>&#x27;)) &#123;</span><br><span class="line">    <span class="selector-class">.post-block</span> &#123;</span><br><span class="line">      <span class="attribute">visibility</span>: hidden;</span><br><span class="line">      <span class="attribute">margin-top</span>: <span class="number">60px</span>;</span><br><span class="line">      <span class="attribute">margin-bottom</span>: <span class="number">60px</span>;</span><br><span class="line">      <span class="attribute">margin-left</span>: <span class="number">2px</span>;</span><br><span class="line">      <span class="attribute">padding-top</span>: <span class="number">45px</span>;</span><br><span class="line">      // <span class="attribute">border-radius</span>: <span class="number">20px</span> <span class="number">20px</span> <span class="number">20px</span> <span class="number">20px</span>;</span><br><span class="line">      -webkit-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">203</span>, .<span class="number">5</span>);</span><br><span class="line">      -moz-<span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(<span class="number">202</span>, <span class="number">203</span>, <span class="number">204</span>, .<span class="number">5</span>);</span><br><span class="line">      <span class="attribute">opacity</span>: <span class="number">0.95</span>; // 添加透明度</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.pagination</span>, <span class="selector-class">.comments</span> &#123;</span><br><span class="line">      <span class="attribute">visibility</span>: hidden;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;//文章位置调整</span><br></pre></td></tr></table></figure>

<h3 id="3-25-边框圆角"><a href="#3-25-边框圆角" class="headerlink" title="3.25 边框圆角"></a>3.25 边框圆角</h3><ul>
<li>在之前新建的 _data 目录下新建 variables.styl，类似新建 styles.styl。打开 variables.styl，添加如下：</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">// 圆角设置</span><br><span class="line">$<span class="attribute">border-radius</span>-inner     = <span class="number">20px</span> <span class="number">20px</span> <span class="number">20px</span> <span class="number">20px</span>;</span><br><span class="line">$<span class="attribute">border-radius</span>           = <span class="number">20px</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>打开主题配置文件, custom_file_path 中 variable 的注释 这个已经在<a href="#323-%E6%9B%B4%E6%8D%A2%E5%8D%9A%E5%AE%A2%E8%83%8C%E6%99%AF">3.23 更换博客背景</a>中设置过了</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">custom_file_path:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">variable:</span> <span class="string">source/_data/variables.styl</span></span><br></pre></td></tr></table></figure>

<ul>
<li>此时有一个问题就是 侧边栏-分类左下&#x2F;右下 的圆角明显有一层阴影，下图是修正过的（图片只是为了指明位置）<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.25%E8%BE%B9%E6%A1%86%E5%9C%86%E8%A7%92%E9%97%AE%E9%A2%98.jpg"></li>
<li>原因是开启 主题配置文件中back2top 的 sidebar 和 scrollpercent，back2top的阴影背景覆盖了圆角，把阴影背景改为透明便可解决，因为我们需要的只是scrollpercent。打开&#x2F;themes&#x2F;hexo-theme-next&#x2F;source&#x2F;css&#x2F;_variables&#x2F;Gemini.styl 内代码,将 $body-bg-color 赋值为透明 transparent</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">// Variables of Gemini scheme</span><br><span class="line">// ==================================================</span><br><span class="line"></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;Pisces.styl&quot;</span>;</span><br><span class="line"></span><br><span class="line">// Settings for some of the most global styles.</span><br><span class="line">// --------------------------------------------------</span><br><span class="line">// $<span class="selector-tag">body</span>-bg-<span class="attribute">color</span>           = <span class="selector-id">#eee</span>;</span><br><span class="line">//将 $<span class="selector-tag">body</span>-bg-<span class="attribute">color</span> 赋值为透明 transparent 解决back2top的阴影背景覆盖边框圆角的问题</span><br><span class="line">$<span class="selector-tag">body</span>-bg-<span class="attribute">color</span>           = transparent; </span><br><span class="line"></span><br><span class="line">// Borders.</span><br><span class="line">// --------------------------------------------------</span><br><span class="line">$<span class="attribute">box-shadow</span>-inner        = <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">12</span>), <span class="number">0</span> <span class="number">3px</span> <span class="number">1px</span> -<span class="number">2px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">06</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">12</span>);</span><br><span class="line">$<span class="attribute">box-shadow</span>              = <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">12</span>), <span class="number">0</span> <span class="number">3px</span> <span class="number">1px</span> -<span class="number">2px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">06</span>), <span class="number">0</span> <span class="number">1px</span> <span class="number">5px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">12</span>), <span class="number">0</span> -<span class="number">1px</span> .<span class="number">5px</span> <span class="number">0</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">09</span>);</span><br><span class="line"></span><br><span class="line">$<span class="attribute">border-radius</span>-inner     = initial;</span><br><span class="line">$<span class="attribute">border-radius</span>           = initial;</span><br><span class="line">// $<span class="attribute">border-radius</span>-inner     = <span class="number">0</span> <span class="number">0</span> <span class="number">3px</span> <span class="number">3px</span>;</span><br><span class="line">// $<span class="attribute">border-radius</span>           = <span class="number">3px</span>;</span><br></pre></td></tr></table></figure>

<h4 id="3-25-1-修改侧边栏顶部圆角"><a href="#3-25-1-修改侧边栏顶部圆角" class="headerlink" title="3.25.1 修改侧边栏顶部圆角"></a>3.25.1 修改侧边栏顶部圆角</h4><p>在 blog\themes\hexo-theme-next\source\css\_common\outline\header\header.styl (旧版可能是index.styl) 中对 site-brand-container（审查元素得知） 进行修改</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.site-brand-container</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">flex-shrink</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">18.8px</span> <span class="number">18.8px</span> <span class="number">0</span> <span class="number">0</span>; // 上边圆角 下边尖角 不设置<span class="number">20px</span> <span class="number">20px</span> <span class="number">0</span> <span class="number">0</span>的原因是因为下面的sidebar的class=&quot;<span class="selector-tag">header</span>&quot;有一点白色溢出 所以把圆角设置小点对其进行覆盖</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>左下&#x2F;右下角不需要设置圆角，不然反而不美观</p>
<h3 id="3-26-调整back2top透明度和位置"><a href="#3-26-调整back2top透明度和位置" class="headerlink" title="3.26 调整back2top透明度和位置"></a>3.26 调整back2top透明度和位置</h3><ol>
<li>调整透明度<br>进入 blog\themes\hexo-theme-next\source\css\_variables\Pisces.styl，根据自身博客修改透明度至满意值。（$b2t-opacity-hover 新版没有这个属性 ，看有没有必要设置）</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">// Back <span class="selector-tag">to</span> <span class="attribute">top</span></span><br><span class="line">$b2t-<span class="attribute">opacity</span>  = .<span class="number">94</span>; // 默认 .<span class="number">6</span> // 调整透明度</span><br><span class="line">$b2t-<span class="attribute">opacity</span>-hover  = .<span class="number">99</span>; // 默认 .<span class="number">8</span>   这个新版没有 ，看有没有必要设置</span><br><span class="line">$b2t-<span class="attribute">position</span>-<span class="attribute">bottom</span>          = -<span class="number">100px</span>;</span><br><span class="line">$b2t-<span class="attribute">position</span>-<span class="attribute">bottom</span>-on       = <span class="number">30px</span>;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>调整位置靠左</li>
</ol>
<p>调整位置靠左的原因是设计把live-2d放到右边，而此时back2top按钮不管是在live-2d图层上方(不美观)还是下方(按钮无法被点击且看不到百分比)效果都不理想，故把按钮调整至靠左位置</p>
<ul>
<li>在 blog\themes\hexo-theme-next\source\css\_variables\base.styl 中有Back to top的基本参数信息，我们把 $b2t-position-right 和 $b2t-position-right-mobile 注释掉，使其默认靠左</li>
</ul>
<figure class="highlight mel"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Components</span></span><br><span class="line"><span class="comment">// --------------------------------------------------</span></span><br><span class="line"><span class="comment">// Back to top</span></span><br><span class="line">$b2t-opacity                  = <span class="number">.8</span>;</span><br><span class="line">$b2t-opacity-hover            = <span class="number">1</span>;</span><br><span class="line">$b2t-position-bottom          = <span class="number">-100</span>px;</span><br><span class="line">$b2t-position-bottom-on       = <span class="number">30</span>px;</span><br><span class="line"><span class="comment">// $b2t-position-right           = 30px; //注释掉 themes\hexo-theme-next\source\css\_mixins.styl的逻辑也可以注释掉 不然可能有warnning</span></span><br><span class="line"><span class="comment">// $b2t-position-right-mobile    = 20px;//注释掉 themes\hexo-theme-next\source\css\_mixins.styl的逻辑也可以注释掉 不然可能有warnning</span></span><br><span class="line">$b2t-font-<span class="keyword">size</span>                = <span class="number">12</span>px;</span><br><span class="line">$b2t-<span class="keyword">color</span>                    = white;</span><br><span class="line">$b2t-bg-<span class="keyword">color</span>                 = $black-deep;</span><br><span class="line"></span><br><span class="line">$sidebar-<span class="keyword">toggle</span>-inner-<span class="keyword">size</span>    = <span class="number">16</span>px;</span><br><span class="line">$sidebar-<span class="keyword">toggle</span>-padding       = <span class="number">5</span>px;</span><br><span class="line">$sidebar-<span class="keyword">toggle</span>-<span class="keyword">size</span>          = $sidebar-<span class="keyword">toggle</span>-inner-<span class="keyword">size</span> + $sidebar-<span class="keyword">toggle</span>-padding * <span class="number">2</span>;</span><br></pre></td></tr></table></figure>

<p>这里从right修改成left无效的原因是值没有变 只是换了个变量名<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.26%E8%B0%83%E6%95%B4back2top%E7%9A%84%E4%BD%8D%E7%BD%AE.jpeg"></p>
<ul>
<li>然后在 themes\hexo-theme-next\source\css\_common\components\back-to-top.styl 末尾(保证在body里)添加如下两行代码并注释 margin-right: 8px;</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">hexo-config</span>(<span class="string">&#x27;back2top.enable&#x27;</span>)) &#123;</span><br><span class="line">  <span class="selector-class">.back-to-top</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="variable">$b2t</span>-font-size;</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">span</span> &#123;</span><br><span class="line">      <span class="comment">//margin-right: 8px; // 注释掉（默认设置是这个 给改成末尾两行）</span></span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">    <span class="attribute">padding-right</span>: <span class="number">5px</span>; <span class="comment">// 新添加的代码</span></span><br><span class="line">    <span class="attribute">left</span>: <span class="number">30px</span>; <span class="comment">// // 新添加的代码</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-27-添加README-md文件-TODO"><a href="#3-27-添加README-md文件-TODO" class="headerlink" title="3.27 添加README.md文件(TODO)"></a>3.27 添加README.md文件(TODO)</h3><p>每个项目下一般都有一个 README.md 文件，但是使用 hexo 部署到仓库后，项目下是没有 README.md 文件的 <strong>（最新的项目好像有了）</strong></p>
<ol>
<li>在 Hexo 目录下的 source 根目录下添加一个 README.md文件，修改站点配置文件 _config.yml，将 skip_render 参数的值设置为（这个需要设置）</li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">skip_render:</span> <span class="string">README.md</span></span><br></pre></td></tr></table></figure>
<p>保存退出即可 再次使用 hexo d 命令部署博客的时候就不会在渲染 README.md 文件了</p>
<h3 id="3-28-侧栏Celeste-旋转的小人"><a href="#3-28-侧栏Celeste-旋转的小人" class="headerlink" title="3.28 侧栏Celeste(旋转的小人)"></a>3.28 侧栏Celeste(旋转的小人)</h3><ol>
<li>这里罗列两种位置摆放效果</li>
</ol>
<ul>
<li>放在 blog\themes\hexo-theme-next\layout\_macro\sidebar.swig  （我选的这种，我觉得这种更好看，而且第二种没有找到合适的位置放，老有问题）</li>
</ul>
<p>文件中找到以下内容</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;%- if theme.back2top.enable and theme.back2top.sidebar %&#125;</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;back-to-top motion-element&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-arrow-up&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>0%<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>
<p>然后替换成以下内容</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;twopeople&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height:200px;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">&quot;illo&quot;</span> <span class="attr">width</span>=<span class="string">&quot;800&quot;</span> <span class="attr">height</span>=<span class="string">&quot;800&quot;</span> <span class="attr">style</span>=<span class="string">&quot;max-width: 200px; max-height: 200px; touch-action: none; width: 640px; height: 640px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople1.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/zdog.dist.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">id</span>=<span class="string">&quot;rendered-js&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.twopeople</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">canvas</span> &#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">cursor</span>: move;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      &#123;%- if theme.back2top.enable and theme.back2top.sidebar %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;back-to-top animated&quot;</span> <span class="attr">role</span>=<span class="string">&quot;button&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;&#123;&#123; __(&#x27;accessibility.back_to_top&#x27;) &#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-arrow-up&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span>0%<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      &#123;%- endif %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">aside</span>&gt;</span></span><br><span class="line">&#123;% endmacro %&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>放在 blog\themes\hexo-theme-next\layout_layout.njk</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;column&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;header&quot;</span> <span class="attr">itemscope</span> <span class="attr">itemtype</span>=<span class="string">&quot;http://schema.org/WPHeader&quot;</span>&gt;</span></span><br><span class="line">        &#123;%- include &#x27;_partials/header/index.njk&#x27; -%&#125;</span><br><span class="line">      <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">      &#123;%- if theme.sidebar.display !== &#x27;remove&#x27; %&#125;</span><br><span class="line">        &#123;% block sidebar %&#125;&#123;% endblock %&#125;</span><br><span class="line">      &#123;%- endif %&#125;</span><br><span class="line"></span><br><span class="line">      &lt;-- 旋转的小人 --&gt;</span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;twopeople&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height:200px;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">&quot;illo&quot;</span> <span class="attr">width</span>=<span class="string">&quot;800&quot;</span> <span class="attr">height</span>=<span class="string">&quot;800&quot;</span> <span class="attr">style</span>=<span class="string">&quot;max-width: 200px; max-height: 200px; touch-action: none; width: 640px; height: 640px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople1.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/zdog.dist.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">id</span>=<span class="string">&quot;rendered-js&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.twopeople</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">canvas</span> &#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">cursor</span>: move;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>这种方式的动画位置不会固定在浏览器窗口位置，而是会随着滚动而消失</p>
<h3 id="3-29-懒加载开启-性能优化-TODO"><a href="#3-29-懒加载开启-性能优化-TODO" class="headerlink" title="3.29 懒加载开启(性能优化)(TODO)"></a>3.29 懒加载开启(性能优化)(TODO)</h3><p>进入 主题配置文件找到lazyload，修改为true：**(我开启后加载不出来界面了不知道为什么，所以就没开了)**</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Vanilla JavaScript plugin for lazyloading images.</span></span><br><span class="line"><span class="comment"># For more information: https://apoorv.pro/lozad.js/demo/</span></span><br><span class="line"><span class="attr">lazyload:</span> <span class="literal">true</span> <span class="comment"># 懒加载开启</span></span><br></pre></td></tr></table></figure>

<h3 id="3-30-加入网易云音乐播放器"><a href="#3-30-加入网易云音乐播放器" class="headerlink" title="3.30 加入网易云音乐播放器"></a>3.30 加入网易云音乐播放器</h3><p>在网页搜索网易云音乐，选择音乐，并生成外链播放器，获取 iframe 标签</p>
<figure class="highlight xml"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 外链播放器 溯（钢琴版）--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">marginwidth</span>=<span class="string">&quot;0&quot;</span> <span class="attr">marginheight</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">330</span> <span class="attr">height</span>=<span class="string">86</span> <span class="attr">src</span>=<span class="string">&quot;//music.163.com/outchain/player?type=2&amp;id=1433584979&amp;auto=1&amp;height=66&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>建议把标签放到侧边栏，在 Blog&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_macro&#x2F;sidebar.njk 或 themes\hexo-theme-next\layout_layout.njk 文件下，同理 <a href="#328-%E4%BE%A7%E6%A0%8Fceleste%E6%97%8B%E8%BD%AC%E7%9A%84%E5%B0%8F%E4%BA%BA">3.28 celeste旋转的小人</a>的方式选择位置粘贴进去，不同位置效果不同。<br>我依旧是在blog\themes\hexo-theme-next\layout\_macro\sidebar.swig里面设置的，放在了小人和back2top的按钮中间</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;twopeople&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span> <span class="attr">style</span>=<span class="string">&quot;height:200px;&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">class</span>=<span class="string">&quot;illo&quot;</span> <span class="attr">width</span>=<span class="string">&quot;800&quot;</span> <span class="attr">height</span>=<span class="string">&quot;800&quot;</span> <span class="attr">style</span>=<span class="string">&quot;max-width: 200px; max-height: 200px; touch-action: none; width: 640px; height: 640px;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople1.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/zdog.dist.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">script</span> <span class="attr">id</span>=<span class="string">&quot;rendered-js&quot;</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">            <span class="selector-class">.twopeople</span>&#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">align-items</span>: center;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">            <span class="selector-tag">canvas</span> &#123;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">margin</span>: <span class="number">0</span> auto;</span></span><br><span class="line"><span class="language-css">                <span class="attribute">cursor</span>: move;</span></span><br><span class="line"><span class="language-css">            &#125;</span></span><br><span class="line"><span class="language-css">        </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 放在了这里start！！！--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 外链播放器 溯（钢琴版）--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">&quot;no&quot;</span> <span class="attr">border</span>=<span class="string">&quot;0&quot;</span> <span class="attr">marginwidth</span>=<span class="string">&quot;0&quot;</span> <span class="attr">marginheight</span>=<span class="string">&quot;0&quot;</span> <span class="attr">width</span>=<span class="string">330</span> <span class="attr">height</span>=<span class="string">86</span> <span class="attr">src</span>=<span class="string">&quot;//music.163.com/outchain/player?type=2&amp;id=1433584979&amp;auto=1&amp;height=66&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 放在了这里end！！！--&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      &#123;%- if theme.back2top.enable and theme.back2top.sidebar %&#125;</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;back-to-top animated&quot;</span> <span class="attr">role</span>=<span class="string">&quot;button&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;&#123;&#123; __(&#x27;accessibility.back_to_top&#x27;) &#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-arrow-up&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">span</span>&gt;</span>0%<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      &#123;%- endif %&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.30%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8.jpg"></p>
<h3 id="3-31-添加Aplayer音乐播放器-进阶"><a href="#3-31-添加Aplayer音乐播放器-进阶" class="headerlink" title="3.31 添加Aplayer音乐播放器(进阶)"></a>3.31 添加Aplayer音乐播放器(进阶)</h3><p>由于网易云外链播放器每次只能选择一首歌，如果想要让播放器的功能更加全面丰富，我们可以通过安装插件 Aplayer来满足我们的需求</p>
<ul>
<li>首先，先下载Aplayer源码：APlayer 或者执行以下命令</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install aplayer --save</span><br></pre></td></tr></table></figure>
<p>如果通过命令执行则在 blog&#x2F;node_modules&#x2F;aplayer中找到dist文件夹</p>
<ul>
<li>​将文件中的dist文件夹复制到路径：blog&#x2F;themes&#x2F;next&#x2F;source</li>
</ul>
<ol>
<li>在目录 blog&#x2F;themes&#x2F;next&#x2F;source&#x2F;dist 下新建 music.js 文件，内容是：</li>
</ol>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ap = <span class="keyword">new</span> <span class="title class_">APlayer</span>(&#123;</span><br><span class="line">  <span class="attr">container</span>: <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;aplayer&#x27;</span>),</span><br><span class="line">  <span class="attr">fixed</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// autoplay: true,</span></span><br><span class="line">  <span class="attr">audio</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&#x27;溯（钢琴版）&#x27;</span>,</span><br><span class="line">      <span class="attr">artist</span>: <span class="string">&#x27;柳轻颂&#x27;</span>,</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;http://music.163.com/song/media/outer/url?id=1433584979.mp3&#x27;</span>,</span><br><span class="line">      <span class="attr">cover</span>: <span class="string">&#x27;http://p1.music.126.net/qX7knUIlpmbJ34UBzCCS6w==/109951164802366812.jpg?param=130y130&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;夢灯籠&quot;</span>,</span><br><span class="line">      <span class="attr">artist</span>: <span class="string">&#x27;RADWIMPS&#x27;</span>,</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&#x27;/images/夢灯籠.mp3&#x27;</span>,</span><br><span class="line">      <span class="attr">cover</span>: <span class="string">&#x27;http://p2.music.126.net/sSxbRt9RpC6s_MaewyDJfA==/18597139672292692.jpg?param=130y130&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>歌曲信息可自行添加自己喜欢的</p>
<ol start="2">
<li>配置项（记得都要加引号）</li>
</ol>
<ul>
<li>name：歌曲名称</li>
<li>artist：作者</li>
<li>url：连接（具体怎样操作看下面步骤），</li>
<li>cover：是图片连接，可以是本地图片，也可以是在线图片，本地放在 source&#x2F;images然后修改路径即可</li>
</ul>
<p>更多参数(⭐)：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> ap = <span class="keyword">new</span> <span class="title class_">APlayer</span>(&#123;</span><br><span class="line">    <span class="attr">container</span>: <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;aplayer&#x27;</span>), <span class="comment">//播放器容器元素</span></span><br><span class="line">    <span class="attr">mini</span>: <span class="literal">false</span>, <span class="comment">//迷你模式</span></span><br><span class="line">    <span class="attr">autoplay</span>: <span class="literal">false</span>, <span class="comment">//自动播放</span></span><br><span class="line">    <span class="attr">theme</span>: <span class="string">&#x27;#FADFA3&#x27;</span>, <span class="comment">//主题色</span></span><br><span class="line">    <span class="attr">loop</span>: <span class="string">&#x27;all&#x27;</span>, <span class="comment">//音频循环播放, 可选值: &#x27;all&#x27;全部循环, &#x27;one&#x27;单曲循环, &#x27;none&#x27;不循环</span></span><br><span class="line">    <span class="attr">order</span>: <span class="string">&#x27;random&#x27;</span>, <span class="comment">//音频循环顺序, 可选值: &#x27;list&#x27;列表循环, &#x27;random&#x27;随机循环</span></span><br><span class="line">    <span class="attr">preload</span>: <span class="string">&#x27;auto&#x27;</span>, <span class="comment">//预加载，可选值: &#x27;none&#x27;, &#x27;metadata&#x27;, &#x27;auto&#x27;</span></span><br><span class="line">    <span class="attr">volume</span>: <span class="number">0.7</span>, <span class="comment">//默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效</span></span><br><span class="line">    <span class="attr">mutex</span>: <span class="literal">true</span>, <span class="comment">//互斥，阻止多个播放器同时播放，当前播放器播放时暂停其他播放器</span></span><br><span class="line">    <span class="attr">listFolded</span>: <span class="literal">false</span>, <span class="comment">//列表默认折叠</span></span><br><span class="line">    <span class="attr">listMaxHeight</span>: <span class="number">90</span>, <span class="comment">//列表最大高度</span></span><br><span class="line">    <span class="attr">lrcType</span>: <span class="number">3</span>, <span class="comment">//歌词传递方式</span></span><br><span class="line">    <span class="attr">audio</span>: [ <span class="comment">//音频信息,包含以下</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;name1&#x27;</span>, <span class="comment">//音频名称</span></span><br><span class="line">            <span class="attr">artist</span>: <span class="string">&#x27;artist1&#x27;</span>, <span class="comment">//音频艺术家</span></span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;url1.mp3&#x27;</span>, <span class="comment">//音频外链</span></span><br><span class="line">            <span class="attr">cover</span>: <span class="string">&#x27;cover1.jpg&#x27;</span>, <span class="comment">//音频封面</span></span><br><span class="line">            <span class="attr">lrc</span>: <span class="string">&#x27;lrc1.lrc&#x27;</span>, <span class="comment">//音频歌词，配合上面的lrcType使用</span></span><br><span class="line">            <span class="attr">theme</span>: <span class="string">&#x27;#ebd0c2&#x27;</span> <span class="comment">//切换到此音频时的主题色，比上面的 theme 优先级高</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&#x27;name2&#x27;</span>, <span class="comment">//如果只有一首歌，删掉这一块，如有更多歌曲按此格式逐渐往下添加</span></span><br><span class="line">            <span class="attr">artist</span>: <span class="string">&#x27;artist2&#x27;</span>,</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&#x27;url2.mp3&#x27;</span>,</span><br><span class="line">            <span class="attr">cover</span>: <span class="string">&#x27;cover2.jpg&#x27;</span>,</span><br><span class="line">            <span class="attr">lrc</span>: <span class="string">&#x27;lrc2.lrc&#x27;</span>,</span><br><span class="line">            <span class="attr">theme</span>: <span class="string">&#x27;#46718b&#x27;</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>url添加歌曲方法</li>
</ol>
<ul>
<li>链接方式url<ul>
<li>网易云网页播放一首歌曲</li>
<li>将网址中的 id 进行复制：<a href="https://music.163.com/#/song?id=1411358329%EF%BC%8C%E4%B9%9F%E5%B0%B1%E6%98%AF1411358329">https://music.163.com/#/song?id=1411358329，也就是1411358329</a></li>
<li>将下面代码中的 id 修改为你想添加歌曲的 id：<a href="http://music.163.com/song/media/outer/url?id=xxx.mp3">http://music.163.com/song/media/outer/url?id=xxx.mp3</a> （网易云音乐在线播放歌曲模板），即<a href="http://music.163.com/song/media/outer/url?id=1411358329.mp3">http://music.163.com/song/media/outer/url?id=1411358329.mp3</a></li>
</ul>
</li>
<li>本地方式url<ul>
<li>先下载好音频问价</li>
<li>然后放在themes\hexo-theme-next\source\images里 </li>
<li>url为 ‘&#x2F;images&#x2F;音频名字.mp3’</li>
</ul>
</li>
</ul>
<ol start="4">
<li>引用头文件<br>我仍然把播放器放在了原来外链播放器的位置blog\themes\hexo-theme-next\layout\_macro\sidebar.swig,内容为：</li>
</ol>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;/dist/APlayer.min.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;aplayer&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/dist/APlayer.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">src</span>=<span class="string">&quot;/dist/music.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>（也可以放在在路径：blog&#x2F;themes&#x2F;hexo-theme-next&#x2F;layout&#x2F;_layout.swig 文件，然后将下面的代码添加到：&lt;body itemscope …&gt; （在body里面就可以）)</p>
<p>完成后需要重新部署才能看到效果</p>
<p>aplayer我采用的是默认的效果，详细信息请查阅 <a href="https://aplayer.js.org/#/home">官方文档</a></p>
<ol start="5">
<li>因为了有了 aplayer 插件 所有原先的 back2top 会被遮挡 需要重新调整位置。 没有影响则可不调整(TODO)，放到sidebar没有影响，如果放在llayout中，修改如下：</li>
</ol>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="attribute">padding-right</span>: <span class="number">5px</span>;</span><br><span class="line">// <span class="attribute">left</span>: <span class="number">30px</span>; // 原先修改过后的位置 加了aplayer后 重新定义位置如下</span><br><span class="line"><span class="attribute">left</span>: <span class="number">15%</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-32-删除了默认的landscope主题-性能优化-TODO"><a href="#3-32-删除了默认的landscope主题-性能优化-TODO" class="headerlink" title="3.32 删除了默认的landscope主题(性能优化)(TODO)"></a>3.32 删除了默认的landscope主题(性能优化)(TODO)</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line">压缩内存</span><br></pre></td></tr></table></figure>

<h3 id="3-33-评论系统"><a href="#3-33-评论系统" class="headerlink" title="3.33 评论系统"></a>3.33 评论系统</h3><p>根据网上对国内国外的评价系统对比，可知Valine是近几年大受欢迎的博客评价系统，但由于作者已经放弃了对 Valine 的维护，bug一堆尚未解决，所以最终敲定用基于Valine开发的新版本<a href="https://waline.js.org/">Waline</a>作为本博客的评价系统。</p>
<ol>
<li>LeanCloud 设置 (数据库)</li>
</ol>
<ul>
<li>(1) 登录或注册<a href="https://console.leancloud.app/login">LeanCloud</a> 并进入 <a href="https://console.leancloud.app/apps">控制台</a></li>
<li>(2) 点击左上角 创建应用 并起一个你喜欢的名字 (请选择免费的开发版): </li>
<li>(3) 进入应用，选择左下角的 设置 &gt; 应用凭证。你可以看到你的 APP ID,APP Key 和 Master Key。请记录它们，以便后续使用。<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.33%E8%AF%84%E8%AE%BA%E7%B3%BB%E7%BB%9F.png"></li>
</ul>
<ol start="2">
<li>Vercel 部署 (服务端)</li>
</ol>
<ul>
<li>(1) 点击进入<a href="https://vercel.com/new/clone?repository-url=https://github.com/walinejs/waline/tree/main/example">Vercel</a>,注册登录</li>
<li>(2) 选择git 作用域以及输入仓库名（最终我的仓库名为midoli_blog）,并点击 Create 继续:<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.33%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2.jpg"><br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.33%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B21.jpg"></li>
<li>(3) 此时 Vercel 会基于 Waline 模板帮助你新建并初始化仓库，仓库名为你之前输入的项目名，请等待一会儿</li>
<li>(4) 构建结束后，点击顶部信息，并点击仓库，找到Settings - Environment Variables 进入环境变量配置页，并配置三个环境变量 <strong>LEAN_ID, LEAN_KEY 和 LEAN_MASTER_KEY</strong>。它们的值分别对应上一步在 LeanCloud 中获得的 <strong>APP ID, APP KEY, Master Key</strong>。（需要进入项目中的 Settings，而不是总设置里，总设置里没有 Environment Variables 选项配置）<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.33%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B22.jpg"><br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.33%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B23.png"><br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.33%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B24.png"></li>
</ul>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">如果你使用 LeanCloud 国内版，请额外配置 LEAN_SERVER 环境变量，值为你绑定好的域名。</span><br></pre></td></tr></table></figure>

<ul>
<li>(5) 环境变量配置完成之后点击顶部的 Deployments 点击顶部最新的一次部署右侧的 Redeploy 按钮进行重新部署。该步骤是为了让刚才设置的环境变量生效。</li>
<li>(6) 此时会跳转到 Overview 界面开始部署，等待片刻后 STATUS 会变成 Ready。此时请点击 Visit ，即可跳转到部署好的网站地址，此地址即为你的服务端地址</li>
</ul>
<ol>
<li>绑定域名 (可选)(TODO)</li>
</ol>
<ul>
<li>(1) 点击顶部的 Settings - Domains 进入域名配置页</li>
<li>(2) 输入需要绑定的域名并点击 Add<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.33%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B25.png"></li>
<li>(3) 在域名服务器商处添加新的 CNAME 解析记录</li>
</ul>
<table>
<thead>
<tr>
<th>Type</th>
<th>Name</th>
<th>Value</th>
</tr>
</thead>
<tbody><tr>
<td>CNAME</td>
<td>example</td>
<td>cname.vercel-dns.com</td>
</tr>
</tbody></table>
<ul>
<li>(4) 等待生效，你可以通过自己的域名来访问了<ul>
<li>评论系统：example.yourdomain.com</li>
<li>评论管理：example.yourdomain.com&#x2F;ui<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.33%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B26.png"></li>
</ul>
</li>
</ul>
<ol start="4">
<li>在Next中配置</li>
</ol>
<ul>
<li>先到你hexo的站点目录下安装waline：</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">npm install @waline/hexo-next --save</span><br></pre></td></tr></table></figure>

<ul>
<li>找到Next主题配置文件，_config.yml进行如下配置，方便日后升级覆盖：</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Waline 评论</span></span><br><span class="line"><span class="comment"># For more information: https://waline.js.org, https://github.com/walinejs/waline</span></span><br><span class="line"><span class="attr">waline:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#是否开启</span></span><br><span class="line">  <span class="attr">serverURL:</span> <span class="string">blog-waline-comment.vercel.app</span> <span class="comment"># Waline #服务端地址，我们这里就是上面部署的 Vercel 地址</span></span><br><span class="line">  <span class="attr">placeholder:</span> <span class="string">欢迎评论呀~</span> <span class="comment"># #评论框的默认文字</span></span><br><span class="line">  <span class="attr">avatar:</span> <span class="string">mm</span> <span class="comment"># 头像风格</span></span><br><span class="line">  <span class="attr">meta:</span> [<span class="string">nick</span>, <span class="string">mail</span>, <span class="string">link</span>] <span class="comment"># 自定义评论框上面的三个输入框的内容</span></span><br><span class="line">  <span class="attr">pageSize:</span> <span class="number">10</span> <span class="comment"># 评论数量多少时显示分页</span></span><br><span class="line">  <span class="attr">lang:</span> <span class="string">zh-cn</span> <span class="comment"># 语言, 可选值: en, zh-cn</span></span><br><span class="line">  <span class="comment"># Warning: 不要同时启用 `waline.visitor` 以及 `leancloud_visitors`.</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">true</span> <span class="comment"># 文章阅读统计</span></span><br><span class="line">  <span class="attr">comment_count:</span> <span class="literal">true</span> <span class="comment"># 如果为 false , 评论数量只会在当前评论页面显示, 主页则不显示</span></span><br><span class="line">  <span class="attr">requiredFields:</span> [<span class="string">nick</span>, <span class="string">mail</span>] <span class="comment"># 设置用户评论时必填的信息，[nick,mail]: [nick] | [nick, mail]</span></span><br><span class="line">  <span class="attr">libUrl:</span> <span class="comment"># Set custom library cdn url</span></span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<ol start="5">
<li>添加评论表情包<br>在主题配置文件下的 waline 添加如下 emoji 代码<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Waline 评论</span></span><br><span class="line"><span class="comment"># For more information: https://waline.js.org, https://github.com/walinejs/waline</span></span><br><span class="line"><span class="attr">waline:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#是否开启</span></span><br><span class="line">  <span class="string">......</span></span><br><span class="line">  <span class="attr">emoji:</span> [</span><br><span class="line">      <span class="string">https://unpkg.com/@waline/emojis@1.1.0/tw-emoji</span>, <span class="comment"># 加不加https头都可以</span></span><br><span class="line">      <span class="string">//unpkg.com/@waline/emojis@1.1.0/bilibili</span>,</span><br><span class="line">      <span class="string">//unpkg.com/@waline/emojis@1.1.0/alus</span>,</span><br><span class="line">      <span class="string">https://unpkg.com/@waline/emojis@1.1.0/weibo</span>,</span><br><span class="line">    ]</span><br><span class="line"></span><br></pre></td></tr></table></figure>
更多表情参考 <a href="https://waline.js.org/guide/client/emoji.html">自定义表情</a></li>
</ol>
<p>还有一个问题 就是大伙评论的东西 不翻墙刷新不出来</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">原因 jsdeliver被墙 参考链接🔗: [jsdelivr被墙,hexo-<span class="keyword">next</span>切换为自定义CDN](https:<span class="regexp">//</span>www.xygblog.com<span class="regexp">/p/</span><span class="number">8</span>ebdba58/)</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>leanClound作为数据库，同时可以用来作为图床存储文件，使其文件添加url地址<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.33%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B27.png"></li>
</ol>
<h3 id="3-33-1-评论-邮箱通知-TODO"><a href="#3-33-1-评论-邮箱通知-TODO" class="headerlink" title="3.33.1 评论-邮箱通知(TODO)"></a>3.33.1 评论-邮箱通知(TODO)</h3><p><a href="https://waline.js.org/guide/get-started/">详细可查看官方文档</a><br>当网站有用户发布评论或者用户回复评论时，Waline 支持对博主和回复评论作者进行通知。</p>
<ul>
<li>博主通知支持多种方式，包括 QQ、微信、邮件等。</li>
<li>当访客的评论收到回复时，我们会对访客进行邮件通知。</li>
</ul>
<p>具体步骤 可看 <a href="https://blog.csdn.net/Bennnnnnn/article/details/128000842?spm=1001.2101.3001.6650.12&utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-12-128000842-blog-83094693.235%5Ev43%5Epc_blog_bottom_relevance_base8&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~Rate-12-128000842-blog-83094693.235%5Ev43%5Epc_blog_bottom_relevance_base8&utm_relevant_index=18">Hexo-Next主题搭建个人博客最新配置教程！</a>的<strong>评论-邮箱通知</strong></p>
<h3 id="3-34-背景图上传CDN图床-性能优化-TODO"><a href="#3-34-背景图上传CDN图床-性能优化-TODO" class="headerlink" title="3.34 背景图上传CDN图床(性能优化) (TODO)"></a>3.34 背景图上传CDN图床(性能优化) (TODO)</h3><p>由于无缓存刷新（或者第一次加载页面）的时候 背景图片加载很慢（只有900多k）所以上传到CDN图床 <a href="https://cdnjson.com/">https://cdnjson.com/</a></p>
<p>背景图链接：<a href="https://cdnjson.com/images/2022/11/21/bg1.jpg">https://cdnjson.com/images/2022/11/21/bg1.jpg</a></p>
<h3 id="3-35-通过修改-busuanzi-的解决-TODO"><a href="#3-35-通过修改-busuanzi-的解决-TODO" class="headerlink" title="3.35 通过修改 busuanzi 的解决(TODO)"></a>3.35 通过修改 busuanzi 的解决(TODO)</h3><ul>
<li>新建 busuanzi.js 到 themes\hexo-theme-next\source\js\ 目录下，并copy</li>
</ul>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> bszCaller, bszTag; !<span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">var</span> c, d, e, a = !<span class="number">1</span>, b = []; ready = <span class="keyword">function</span> (<span class="params">c</span>) &#123; <span class="keyword">return</span> a || <span class="string">&quot;interactive&quot;</span> === <span class="variable language_">document</span>.<span class="property">readyState</span> || <span class="string">&quot;complete&quot;</span> === <span class="variable language_">document</span>.<span class="property">readyState</span> ? c.<span class="title function_">call</span>(<span class="variable language_">document</span>) : b.<span class="title function_">push</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">return</span> c.<span class="title function_">call</span>(<span class="variable language_">this</span>) &#125;), <span class="variable language_">this</span> &#125;, d = <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">for</span> (<span class="keyword">var</span> a = <span class="number">0</span>, c = b.<span class="property">length</span>; c &gt; a; a++)b[a].<span class="title function_">apply</span>(<span class="variable language_">document</span>); b = [] &#125;, e = <span class="keyword">function</span> (<span class="params"></span>) &#123; a || (a = !<span class="number">0</span>, d.<span class="title function_">call</span>(<span class="variable language_">window</span>), <span class="variable language_">document</span>.<span class="property">removeEventListener</span> ? <span class="variable language_">document</span>.<span class="title function_">removeEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, e, !<span class="number">1</span>) : <span class="variable language_">document</span>.<span class="property">attachEvent</span> &amp;&amp; (<span class="variable language_">document</span>.<span class="title function_">detachEvent</span>(<span class="string">&quot;onreadystatechange&quot;</span>, e), <span class="variable language_">window</span> == <span class="variable language_">window</span>.<span class="property">top</span> &amp;&amp; (<span class="built_in">clearInterval</span>(c), c = <span class="literal">null</span>))) &#125;, <span class="variable language_">document</span>.<span class="property">addEventListener</span> ? <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, e, !<span class="number">1</span>) : <span class="variable language_">document</span>.<span class="property">attachEvent</span> &amp;&amp; (<span class="variable language_">document</span>.<span class="title function_">attachEvent</span>(<span class="string">&quot;onreadystatechange&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="regexp">/loaded|complete/</span>.<span class="title function_">test</span>(<span class="variable language_">document</span>.<span class="property">readyState</span>) &amp;&amp; <span class="title function_">e</span>() &#125;), <span class="variable language_">window</span> == <span class="variable language_">window</span>.<span class="property">top</span> &amp;&amp; (c = <span class="built_in">setInterval</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">try</span> &#123; a || <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">doScroll</span>(<span class="string">&quot;left&quot;</span>) &#125; <span class="keyword">catch</span> (b) &#123; <span class="keyword">return</span> &#125; <span class="title function_">e</span>() &#125;, <span class="number">5</span>))) &#125;(), bszCaller = &#123; <span class="attr">fetch</span>: <span class="keyword">function</span> (<span class="params">a, b</span>) &#123; <span class="keyword">var</span> c = <span class="string">&quot;BusuanziCallback_&quot;</span> + <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="number">1099511627776</span> * <span class="title class_">Math</span>.<span class="title function_">random</span>()); <span class="variable language_">window</span>[c] = <span class="variable language_">this</span>.<span class="title function_">evalCall</span>(b), a = a.<span class="title function_">replace</span>(<span class="string">&quot;=BusuanziCallback&quot;</span>, <span class="string">&quot;=&quot;</span> + c), scriptTag = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;SCRIPT&quot;</span>), scriptTag.<span class="property">type</span> = <span class="string">&quot;text/javascript&quot;</span>, scriptTag.<span class="property">defer</span> = !<span class="number">0</span>, scriptTag.<span class="property">src</span> = a, scriptTag.<span class="property">referrerPolicy</span> = <span class="string">&quot;no-referrer-when-downgrade&quot;</span>, <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;HEAD&quot;</span>)[<span class="number">0</span>].<span class="title function_">appendChild</span>(scriptTag) &#125;, <span class="attr">evalCall</span>: <span class="keyword">function</span> (<span class="params">a</span>) &#123; <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">b</span>) &#123; <span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="keyword">try</span> &#123; <span class="title function_">a</span>(b), s = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;[src*=BusuanziCallback]&#x27;</span>), s.<span class="property">parentElement</span>.<span class="title function_">removeChild</span>(s) &#125; <span class="keyword">catch</span> (c) &#123; bszTag.<span class="title function_">hides</span>() &#125; &#125;) &#125; &#125; &#125;, bszCaller.<span class="title function_">fetch</span>(<span class="string">&quot;//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback&quot;</span>, <span class="keyword">function</span> (<span class="params">a</span>) &#123; bszTag.<span class="title function_">texts</span>(a), bszTag.<span class="title function_">shows</span>() &#125;), bszTag = &#123; <span class="attr">bszs</span>: [<span class="string">&quot;site_pv&quot;</span>, <span class="string">&quot;page_pv&quot;</span>, <span class="string">&quot;site_uv&quot;</span>], <span class="attr">texts</span>: <span class="keyword">function</span> (<span class="params">a</span>) &#123; <span class="variable language_">this</span>.<span class="property">bszs</span>.<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">b</span>) &#123; <span class="keyword">var</span> c = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;busuanzi_value_&quot;</span> + b); c &amp;&amp; (c.<span class="property">innerHTML</span> = a[b]) &#125;) &#125;, <span class="attr">hides</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="variable language_">this</span>.<span class="property">bszs</span>.<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">a</span>) &#123; <span class="keyword">var</span> b = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;busuanzi_container_&quot;</span> + a); b &amp;&amp; (b.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>) &#125;) &#125;, <span class="attr">shows</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="variable language_">this</span>.<span class="property">bszs</span>.<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">a</span>) &#123; <span class="keyword">var</span> b = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;busuanzi_container_&quot;</span> + a); b &amp;&amp; (b.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;inline&quot;</span>) &#125;) &#125; &#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>可以把修改后的静态文件放在博客里，然后修改 themes\hexo-theme-next\layout_third-party\statistics\busuanzi-counter.njk &lt;script&gt; 中的 src</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;%- if theme.busuanzi_count.enable %&#125;</span><br><span class="line">  &lt;script&#123;&#123; pjax &#125;&#125; async src=&quot;/js/busuanzi.js&quot;&gt;<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;%- endif %&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>冲突解决原理参考链接🔗：<a href="https://ouuan.moe/post/2022/08/busuanzi-and-live2d">https://ouuan.moe/post/2022/08/busuanzi-and-live2d</a></p>
<h3 id="3-36-不蒜子的访客人数和文章阅读统计功能"><a href="#3-36-不蒜子的访客人数和文章阅读统计功能" class="headerlink" title="3.36 不蒜子的访客人数和文章阅读统计功能"></a>3.36 不蒜子的访客人数和文章阅读统计功能</h3><p>NexT主题已集成了不蒜子的访客人数和文章阅读统计功能</p>
<ul>
<li>在主题配置文件中</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Show Views / Visitors of the website / page with busuanzi.</span></span><br><span class="line"><span class="comment"># For more information: http://ibruce.info/2015/04/04/busuanzi/</span></span><br><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">total_visitors:</span> <span class="literal">true</span> <span class="comment"># 总访问人数</span></span><br><span class="line">  <span class="attr">total_visitors_icon:</span> <span class="string">fa</span> <span class="string">fa-user</span></span><br><span class="line">  <span class="attr">total_views:</span> <span class="literal">true</span> <span class="comment"># 总访问次数</span></span><br><span class="line">  <span class="attr">total_views_icon:</span> <span class="string">fa</span> <span class="string">fa-eye</span></span><br><span class="line">  <span class="attr">post_views:</span> <span class="literal">true</span> <span class="comment"># 文章访问次数 注意：不在首页显示每篇文章的阅读次数，点击全文阅读即显示阅读次数（起初以为是与live-2d代码冲突的问题）</span></span><br><span class="line">  <span class="attr">post_views_icon:</span> <span class="string">far</span> <span class="string">fa-eye</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>只开启了文章访问次数 总访问人数和总访问次数有bug尚未修复 如需开启请先修复</p>
<p>修复参考链接🔗: <a href="https://muyuuuu.github.io/2019/11/22/busuanzi-notdisplay/">https://muyuuuu.github.io/2019/11/22/busuanzi-notdisplay/</a></p>
<h3 id="3-37-文末尾版权声明"><a href="#3-37-文末尾版权声明" class="headerlink" title="3.37 文末尾版权声明"></a>3.37 文末尾版权声明</h3><p>主题配置文件中直接搜索并且修改以下内容即可：</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">creative_commons:</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">by-nc-sa</span></span><br><span class="line">  <span class="attr">sidebar:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">post:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">language:</span> <span class="string">zh-CN</span></span><br></pre></td></tr></table></figure>

<h3 id="3-37-友情链接"><a href="#3-37-友情链接" class="headerlink" title="3.37 友情链接"></a>3.37 友情链接</h3><p>主题配置文件中直接搜索关键字 Blog rolls,设置即可：</p>
<ul>
<li>icon：设置图标</li>
<li>title：标题</li>
<li>links：输入你的友情链接，可以直接修改或者添加</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Blog rolls</span></span><br><span class="line"><span class="attr">links_settings:</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">fa</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">Links</span></span><br><span class="line">  <span class="comment"># Available values: block | inline</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="string">block</span></span><br><span class="line"></span><br><span class="line"><span class="attr">links:</span></span><br><span class="line">  <span class="comment">#Title: http://yoursite.com</span></span><br><span class="line">  </span><br><span class="line">  <span class="attr">CSDN:</span> <span class="string">https://blog.csdn.net/jj6666djdbbd?type=blog</span></span><br><span class="line">  <span class="attr">Luogu:</span> <span class="string">https://www.luogu.com.cn/user/914079</span></span><br></pre></td></tr></table></figure>

<h3 id="3-38-添加RSS订阅-TODO-没有设置"><a href="#3-38-添加RSS订阅-TODO-没有设置" class="headerlink" title="3.38 添加RSS订阅(TODO,没有设置)"></a>3.38 添加RSS订阅(TODO,没有设置)</h3><ul>
<li>首先执行命令</li>
</ul>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">npm install hexo-generator-feed <span class="comment">--save</span></span><br></pre></td></tr></table></figure>

<ul>
<li>打开 Hexo 站点下的 _config.yml ,添加如下配置：<br>直接在底部复制粘贴以下内容即可</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># feed</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/hexojs/hexo-generator-feed</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span></span><br><span class="line">  <span class="attr">hub:</span></span><br><span class="line">  <span class="attr">content:</span></span><br></pre></td></tr></table></figure>

<h3 id="3-39-打赏功能-TODO"><a href="#3-39-打赏功能-TODO" class="headerlink" title="3.39 打赏功能(TODO)"></a>3.39 打赏功能(TODO)</h3><p>在 主题的 config中找到如下的 raward功能</p>
<p>enable选择打开，comment输入文字<br>在缀主题的images文件夹中把你的付款码的图片放到 &#x2F;blog &#x2F;themes &#x2F;next &#x2F;source &#x2F;images&#x2F; 中，它会按照这个路径寻找图片<br><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/3.39%E6%89%93%E8%B5%8F.png"></p>
<h3 id="3-40-博客基本信息"><a href="#3-40-博客基本信息" class="headerlink" title="3.40 博客基本信息"></a>3.40 博客基本信息</h3><p>修改 博客的标题，副标题，描述，等等基本信息。。。</p>
<ul>
<li>在 blog根目录下打开 _config.yml 配置文件，直接修改以下信息即可<br>注意，语言要改成 zh-CN即中国，其他的自己随便改改</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">```</span></span><br><span class="line"></span><br><span class="line"><span class="comment">### 3.41 文章分享功能(TODO，找不到该属性)</span></span><br><span class="line"></span><br><span class="line"><span class="string">打开themes/next/_config.yml</span> <span class="string">搜索关键字needmoreshare2</span> <span class="string">修改为下面设置</span></span><br><span class="line"></span><br><span class="line"><span class="string">```yml</span></span><br><span class="line"><span class="attr">needmoreshare2:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">postbottom:</span> <span class="comment">#postbottom为文章末尾分享 float则是在页面侧端分享</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">options:</span></span><br><span class="line">      <span class="attr">iconStyle:</span> <span class="string">default</span></span><br><span class="line">      <span class="attr">boxForm:</span> <span class="string">horizontal</span></span><br><span class="line">      <span class="comment">#位置</span></span><br><span class="line">      <span class="attr">position:</span> <span class="string">bottomCenter</span></span><br><span class="line">      <span class="comment">#可分享网站</span></span><br><span class="line">      <span class="attr">networks:</span> <span class="string">Weibo,Wechat,Douban,QQZone,Twitter,Facebook</span></span><br><span class="line">  <span class="attr">float:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">options:</span></span><br><span class="line">      <span class="attr">iconStyle:</span> <span class="string">default</span></span><br><span class="line">      <span class="attr">boxForm:</span> <span class="string">vertical</span></span><br><span class="line">      <span class="comment">#位置</span></span><br><span class="line">      <span class="attr">position:</span> <span class="string">topRight</span></span><br><span class="line">       <span class="comment">#可分享网站</span></span><br><span class="line">      <span class="attr">networks:</span> <span class="string">Weibo,Wechat,Douban,QQZone,Twitter,Facebook</span></span><br></pre></td></tr></table></figure>

<h3 id="3-42-修改文章底部的-号的标签，改为图标-TODO"><a href="#3-42-修改文章底部的-号的标签，改为图标-TODO" class="headerlink" title="3.42 修改文章底部的#号的标签，改为图标(TODO)"></a>3.42 修改文章底部的#号的标签，改为图标(TODO)</h3><p>修改模板&#x2F;themes&#x2F;next&#x2F;layout&#x2F;_macro&#x2F;post.swig</p>
<p>搜索 rel&#x3D;“tag”&gt;#，将 # 换成<i class="fa fa-tag"></i></p>
<h3 id="3-43-文章加密访问-encrypt"><a href="#3-43-文章加密访问-encrypt" class="headerlink" title="3.43 文章加密访问(encrypt)"></a>3.43 文章加密访问(encrypt)</h3><p>参考：<a href="https://blog.csdn.net/weixin_58068682/article/details/116614622">https://blog.csdn.net/weixin_58068682/article/details/116614622</a></p>
<ol>
<li>安装</li>
</ol>
<ul>
<li>使用hexo-blog-encrypt插件进行加密</li>
<li>安装如下命令</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="string">npm</span> <span class="string">install</span> <span class="string">--save</span> <span class="string">hexo-blog-encrypt</span></span><br></pre></td></tr></table></figure>

<ul>
<li>快速使用</li>
<li>将 “password” 字段添加到您文章信息头就像这样</li>
</ul>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">date: 2016/7/13 20:46:25</span><br><span class="line">categories:</span><br><span class="line"><span class="bullet">-</span> Diary</span><br><span class="line">tags:</span><br><span class="line"><span class="bullet">  -</span> Testing</span><br><span class="line"><span class="bullet">  -</span> Another Tag</span><br><span class="line"><span class="section">password: 123456</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure>

<p>再使用 hexo clean &amp;&amp; hexo g &amp;&amp; hexo s 在本地预览加密的文章</p>
<ol start="2">
<li><p>设置优先级<br>文章信息头 &gt; 按标签加密</p>
</li>
<li><p>高级设置<br>文章信息头</p>
</li>
</ol>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Hello World</span><br><span class="line">tags:</span><br><span class="line"><span class="bullet">-</span> 作为日记加密</span><br><span class="line">date: 2016-03-30 21:12:21</span><br><span class="line">password: mikemessi</span><br><span class="line">abstract: 有东西被加密了, 请输入密码查看.</span><br><span class="line">message: 您好, 这里需要密码.</span><br><span class="line">wrong<span class="emphasis">_pass_</span>message: 抱歉, 这个密码看着不太对, 请再试试.</span><br><span class="line"><span class="section">wrong<span class="emphasis">_hash_</span>message: 抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> abstract：用于设置加密文章显示的摘要。</span><br><span class="line"><span class="bullet">-</span> message：输入密码提示。</span><br><span class="line"><span class="bullet">-</span> wrong<span class="emphasis">_pass_</span>message: 输入错误提示</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>_config.yml</p>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Security</span></span><br><span class="line"><span class="attr">encrypt:</span> <span class="comment"># hexo-blog-encrypt</span></span><br><span class="line">  <span class="attr">abstract:</span> <span class="string">有东西被加密了,</span> <span class="string">请输入密码查看.</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">您好,</span> <span class="string">这里需要密码.</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">tagName</span>, <span class="attr">password:</span> <span class="string">密码A</span>&#125;</span><br><span class="line">  <span class="bullet">-</span> &#123;<span class="attr">name:</span> <span class="string">tagName</span>, <span class="attr">password:</span> <span class="string">密码B</span>&#125;</span><br><span class="line">  <span class="attr">wrong_pass_message:</span> <span class="string">抱歉,</span> <span class="string">这个密码看着不太对,</span> <span class="string">请再试试.</span></span><br><span class="line">  <span class="attr">wrong_hash_message:</span> <span class="string">抱歉,</span> <span class="string">这个文章不能被校验,</span> <span class="string">不过您还是能看看解密后的内容.</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>对博文禁用 Tag 加密</li>
</ol>
<p>只需要将博文头部的 password 设置为 “” 即可取消 Tag 加密.</p>
<figure class="highlight md"><table><tr><td class="code"><pre><span class="line">---</span><br><span class="line">title: Callback Test</span><br><span class="line">date: 2019-12-21 11:54:07</span><br><span class="line">tags:</span><br><span class="line"><span class="bullet">    -</span> A Tag should be encrypted</span><br><span class="line"><span class="section">password: &quot;&quot;</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line"></span><br><span class="line">Use a &quot;&quot; to diable tag encryption.</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="3-44-全局播放背景音乐（使用-Pajx-实现）-切换页面不打断"><a href="#3-44-全局播放背景音乐（使用-Pajx-实现）-切换页面不打断" class="headerlink" title="3.44 全局播放背景音乐（使用 Pajx 实现）-切换页面不打断"></a>3.44 全局播放背景音乐（使用 Pajx 实现）-切换页面不打断</h3><p>即实现页面跳转刷新后音乐不间断播放 （在博客文章中的网易云插件无法实现全局播放。）</p>
<ul>
<li><p>打开themes\hexo-theme-next\layout文件夹找到_layout.swig</p>
</li>
<li><p>在&lt;\head&gt;标签前添加下面代码，并保存。</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span>   //粘贴到这里 </span><br><span class="line">  <span class="comment">&lt;!--pjax：防止跳转页面音乐暂停--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span> </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>在主题的配置文件中找到pajx，将它设置为true，并保存。</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Easily enable fast Ajax navigation on your website.</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/theme-next-pjax</span></span><br><span class="line"><span class="attr">pjax:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h1 id="四、部署到github"><a href="#四、部署到github" class="headerlink" title="四、部署到github"></a>四、部署到github</h1><h3 id="4-1-新建Repository"><a href="#4-1-新建Repository" class="headerlink" title="4.1 新建Repository"></a>4.1 新建Repository</h3><p>在github上新建一个 Repository，Repository name一定要是 <strong>你的用户名</strong>.github.io</p>
<p><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/4.1%20%E6%96%B0%E5%BB%BA%E4%BB%93%E5%BA%93.jpg"></p>
<h3 id="4-2-复制仓库地址"><a href="#4-2-复制仓库地址" class="headerlink" title="4.2 复制仓库地址"></a>4.2 复制仓库地址</h3><p>建议复制ssh，</p>
<p><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/4.2%E5%A4%8D%E5%88%B6%E4%BB%93%E5%BA%93%E5%9C%B0%E5%9D%80.jpg"></p>
<h3 id="4-3-修改站点配置文件"><a href="#4-3-修改站点配置文件" class="headerlink" title="4.3 修改站点配置文件"></a>4.3 修改站点配置文件</h3><p><img src="/2024/08/07/Hexo-next%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0github/4.3%20%E9%83%A8%E7%BD%B2%E7%AB%99%E7%82%B9%E6%96%87%E4%BB%B6%E9%85%8D%E7%BD%AE.jpg"></p>
<h3 id="4-4-安装插件"><a href="#4-4-安装插件" class="headerlink" title="4.4 安装插件"></a>4.4 安装插件</h3><p>在Blog目录打开cmd命令输入如下命令：</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<h3 id="4-5-部署到github"><a href="#4-5-部署到github" class="headerlink" title="4.5 部署到github"></a>4.5 部署到github</h3><p>继续在cmd里面分别运行一下命令</p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo g</span><br><span class="line">hexo d  # hexo d 表示执行部署</span><br></pre></td></tr></table></figure>

<h3 id="4-6-访问站点"><a href="#4-6-访问站点" class="headerlink" title="4.6 访问站点"></a>4.6 访问站点</h3><p>通过 <strong>你的用户名</strong>.github.io 访问你部署在github的博客</p>
<h3 id="4-7-绑定个人域名"><a href="#4-7-绑定个人域名" class="headerlink" title="4.7 绑定个人域名"></a>4.7 绑定个人域名</h3><p>参考：<a href="https://blog.csdn.net/qq_44161695/article/details/117605288">https://blog.csdn.net/qq_44161695/article/details/117605288</a></p>
<hr>
<p>本片大部分参考的该博文，但有些地方存在问题，因此做重新梳理。<a href="https://blog.csdn.net/loze/article/details/94208742">https://blog.csdn.net/loze/article/details/94208742</a></p>
<p>文中带(TODO)表示我未进行设置</p>
]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2024/07/21/hello-world-1/</url>
    <content><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="抱歉, 这个密码看着不太对, 请再试试." data-whm="抱歉, 这个文章不能被校验, 不过您还是能看看解密后的内容.">
  <script id="hbeData" type="hbeData" data-hmacdigest="a21223aa25b98d7f8aba61d7c704b425a11524de034dcb63c97de03c4e941f73">8857952509ef9895f61625fe2d594ef339e937d6685a3f98341208c8d2d367f4ed12a2b0860d69df027c92cb2108d6dfadf558d07b3d804c3bad8bcbb17e88ac</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">您好, 这里需要密码.</span>
      </label>
    </div>
  </div>
</div>
<script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      <tags>
        <tag>作为日记加密</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2024/07/20/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
</search>
