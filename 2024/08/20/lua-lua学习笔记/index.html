<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-bounce.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":true,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="luaÂ≠¶‰π†Á¨îËÆ∞">
<meta property="og:type" content="article">
<meta property="og:title" content="luaÂ≠¶‰π†Á¨îËÆ∞1">
<meta property="og:url" content="http://example.com/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="MiDoLi&#39;s Blog">
<meta property="og:description" content="luaÂ≠¶‰π†Á¨îËÆ∞">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AE%89%E8%A3%85%E6%88%AA%E5%9B%BE.jpg">
<meta property="og:image" content="http://example.com/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%85%B3%E9%94%AE%E5%AD%97.png">
<meta property="og:image" content="http://example.com/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6%E7%9A%84%E6%84%8F%E4%B9%89.png">
<meta property="article:published_time" content="2024-08-20T13:46:11.000Z">
<meta property="article:modified_time" content="2024-10-06T14:52:49.233Z">
<meta property="article:author" content="MiDoLi">
<meta property="article:tag" content="ÁÉ≠Êõ¥Êñ∞Áõ∏ÂÖ≥">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AE%89%E8%A3%85%E6%88%AA%E5%9B%BE.jpg">

<link rel="canonical" href="http://example.com/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>luaÂ≠¶‰π†Á¨îËÆ∞1 | MiDoLi's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

  <!--pjaxÔºöÈò≤Ê≠¢Ë∑≥ËΩ¨È°µÈù¢Èü≥‰πêÊöÇÂÅú-->
  <script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.js"></script> 
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><link rel="alternate" href="/atom.xml" title="MiDoLi's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="ÂàáÊç¢ÂØºËà™Ê†è">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">MiDoLi's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Code builds world !</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>È¶ñÈ°µ</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>ÂÖ≥‰∫é</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Ê†áÁ≠æ</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>ÂàÜÁ±ª</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>ÂΩíÊ°£</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>ÊêúÁ¥¢
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="ÊêúÁ¥¢..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/midoli.jpg">
      <meta itemprop="name" content="MiDoLi">
      <meta itemprop="description" content="Ê¨¢ËøéÊù•Âà∞ÊàëÁöÑ‰∏ñÁïåüíú">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="MiDoLi's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          luaÂ≠¶‰π†Á¨îËÆ∞1
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">ÂèëË°®‰∫é</span>

              <time title="ÂàõÂª∫Êó∂Èó¥Ôºö2024-08-20 21:46:11" itemprop="dateCreated datePublished" datetime="2024-08-20T21:46:11+08:00">2024-08-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Êõ¥Êñ∞‰∫é</span>
                <time title="‰øÆÊîπÊó∂Èó¥Ôºö2024-10-06 22:52:49" itemprop="dateModified" datetime="2024-10-06T22:52:49+08:00">2024-10-06</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">ÂàÜÁ±ª‰∫é</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%83%AD%E6%9B%B4%E6%96%B0%E7%9B%B8%E5%85%B3/" itemprop="url" rel="index"><span itemprop="name">ÁÉ≠Êõ¥Êñ∞Áõ∏ÂÖ≥</span></a>
                </span>
            </span>

          
            <span id="/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="post-meta-item leancloud_visitors" data-flag-title="luaÂ≠¶‰π†Á¨îËÆ∞1" title="ÈòÖËØªÊ¨°Êï∞">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">ÈòÖËØªÊ¨°Êï∞Ôºö</span>
              <span class="leancloud-visitors-count"></span>
            </span>
            <span class="post-meta-item" title="ÈòÖËØªÊ¨°Êï∞" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">ÈòÖËØªÊ¨°Êï∞Ôºö</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">ValineÔºö</span>
    
    <a title="valine" href="/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="Êú¨ÊñáÂ≠óÊï∞">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">Êú¨ÊñáÂ≠óÊï∞Ôºö</span>
              <span>25k</span>
            </span>
            <span class="post-meta-item" title="ÈòÖËØªÊó∂Èïø">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">ÈòÖËØªÊó∂Èïø &asymp;</span>
              <span>1:30</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>luaÂ≠¶‰π†Á¨îËÆ∞</p>
<span id="more"></span>
<ul>
<li><a href="#%E9%9B%B6-%E5%BC%95%E7%94%A8">Èõ∂ ÂºïÁî®</a></li>
<li><a href="#%E4%B8%80-%E6%A6%82%E8%BF%B0">‰∏Ä Ê¶ÇËø∞</a></li>
<li><a href="#%E4%BA%8C-%E5%AE%89%E8%A3%85">‰∫å ÂÆâË£Ö</a></li>
<li><a href="#%E4%B8%89-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">‰∏â Âü∫Êú¨ËØ≠Ê≥ï</a>
<ul>
<li><a href="#31-%E4%BA%A4%E4%BA%92%E5%BC%8F%E7%BC%96%E7%A8%8B">3.1 ‰∫§‰∫íÂºèÁºñÁ®ã</a></li>
<li><a href="#32-%E8%84%9A%E6%9C%AC%E5%BC%8F%E7%BC%96%E7%A8%8B">3.2 ËÑöÊú¨ÂºèÁºñÁ®ã</a></li>
<li><a href="#33-%E6%B3%A8%E9%87%8A">3.3 Ê≥®Èáä</a></li>
<li><a href="#34-%E6%A0%87%E8%AF%86%E7%AC%A6">3.4 Ê†áËØÜÁ¨¶</a></li>
</ul>
</li>
<li><a href="#%E5%9B%9B-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B">Âõõ Êï∞ÊçÆÁ±ªÂûã</a>
<ul>
<li><a href="#41-nil%E7%A9%BA">4.1 nil(Á©∫)</a></li>
<li><a href="#42-boolean%E5%B8%83%E5%B0%94">4.2 booleanÔºàÂ∏ÉÂ∞îÔºâ</a></li>
<li><a href="#43-number%E6%95%B0%E5%AD%97">4.3 numberÔºàÊï∞Â≠óÔºâ</a></li>
<li><a href="#44-string%E5%AD%97%E7%AC%A6%E4%B8%B2">4.4 stringÔºàÂ≠óÁ¨¶‰∏≤Ôºâ</a></li>
<li><a href="#45-%E8%A1%A8">4.5 Ë°®</a></li>
<li><a href="#46-function%E5%87%BD%E6%95%B0">4.6 functionÔºàÂáΩÊï∞Ôºâ</a></li>
<li><a href="#47-thread%E7%BA%BF%E7%A8%8B">4.7 threadÔºàÁ∫øÁ®ãÔºâ</a></li>
<li><a href="#48-userdata%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B">4.8 userdataÔºàËá™ÂÆö‰πâÁ±ªÂûãÔºâ</a></li>
</ul>
</li>
<li><a href="#%E4%BA%94-%E5%8F%98%E9%87%8F">‰∫î ÂèòÈáè</a>
<ul>
<li><a href="#51-%E5%8F%98%E9%87%8F">5.1 ÂèòÈáè</a></li>
<li><a href="#52-%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5">5.2 ËµãÂÄºËØ≠Âè•</a></li>
<li><a href="#53-%E7%B4%A2%E5%BC%95">5.3 Á¥¢Âºï</a></li>
</ul>
</li>
<li><a href="#%E5%85%AD-%E5%BE%AA%E7%8E%AF">ÂÖ≠ Âæ™ÁéØ</a>
<ul>
<li><a href="#61-%E5%BE%AA%E7%8E%AF%E6%96%B9%E5%BC%8F">6.1 Âæ™ÁéØÊñπÂºè</a></li>
<li><a href="#62-%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5">6.2 Âæ™ÁéØÊéßÂà∂ËØ≠Âè•</a></li>
<li><a href="#63-%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF">6.3 Êó†ÈôêÂæ™ÁéØ</a></li>
</ul>
</li>
<li><a href="#%E4%B8%83-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-if-else">‰∏É ÊµÅÁ®ãÊéßÂà∂ Ôºàif elseÔºâ</a></li>
<li><a href="#%E5%85%AB-%E5%87%BD%E6%95%B0">ÂÖ´ ÂáΩÊï∞</a>
<ul>
<li><a href="#81-%E6%A6%82%E8%BF%B0">8.1 Ê¶ÇËø∞</a></li>
<li><a href="#82-%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89">8.2 ÂáΩÊï∞ÁöÑÂÆö‰πâ</a></li>
<li><a href="#83-%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC">8.3 Â§öËøîÂõûÂÄº</a></li>
<li><a href="#84-%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0">8.4 ÂèØÂèòÂèÇÊï∞</a></li>
</ul>
</li>
<li><a href="#%E4%B9%9D-%E8%BF%90%E7%AE%97%E7%AC%A6">‰πù ËøêÁÆóÁ¨¶</a>
<ul>
<li><a href="#91-%E8%BF%90%E7%AE%97%E7%AC%A6%E7%B1%BB%E5%9E%8B">9.1 ËøêÁÆóÁ¨¶Á±ªÂûã</a></li>
<li><a href="#92-%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6">9.2 ÁÆóÊï∞ËøêÁÆóÁ¨¶</a></li>
<li><a href="#93-%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6">9.3 ÂÖ≥Á≥ªËøêÁÆóÁ¨¶</a></li>
<li><a href="#94-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6">9.4 ÈÄªËæëËøêÁÆóÁ¨¶</a></li>
<li><a href="#95-%E5%85%B6%E4%BB%96%E8%BF%90%E7%AE%97%E7%AC%A6">9.5 ÂÖ∂‰ªñËøêÁÆóÁ¨¶</a></li>
<li><a href="#96-%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7">9.6 ËøêÁÆóÁ¨¶‰ºòÂÖàÁ∫ß</a></li>
</ul>
</li>
<li><a href="#%E5%8D%81-%E5%AD%97%E7%AC%A6%E4%B8%B2">ÂçÅ Â≠óÁ¨¶‰∏≤</a>
<ul>
<li><a href="#101-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E8%A1%A8%E7%A4%BA">10.1 Â≠óÁ¨¶‰∏≤ÁöÑË°®Á§∫</a></li>
<li><a href="#102-%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%E8%AE%A1%E7%AE%97">10.2 Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶ËÆ°ÁÆó</a></li>
<li><a href="#103-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0">10.3 Â≠óÁ¨¶‰∏≤ÁöÑÊìç‰ΩúÔºàÂáΩÊï∞Ôºâ</a></li>
<li><a href="#104-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96">10.4 Â≠óÁ¨¶‰∏≤Êà™Âèñ</a></li>
<li><a href="#105-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%A7%E5%B0%8F%E5%86%99%E8%BD%AC%E6%8D%A2">10.5 Â≠óÁ¨¶‰∏≤Â§ßÂ∞èÂÜôËΩ¨Êç¢</a></li>
<li><a href="#106-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9F%A5%E6%89%BE%E4%B8%8E%E5%8F%8D%E8%BD%AC">10.6 Â≠óÁ¨¶‰∏≤Êü•Êâæ‰∏éÂèçËΩ¨</a></li>
<li><a href="#107-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96">10.7 Â≠óÁ¨¶‰∏≤Ê†ºÂºèÂåñ</a></li>
<li><a href="#108-%E5%AD%97%E7%AC%A6%E4%B8%8E%E6%95%B4%E6%95%B0%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2">10.8 Â≠óÁ¨¶‰∏éÊï¥Êï∞Áõ∏‰∫íËΩ¨Êç¢</a></li>
<li><a href="#109-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9E%E6%8E%A5%E4%B8%8E%E5%A4%8D%E5%88%B6">10.9 Â≠óÁ¨¶‰∏≤ËøûÊé•‰∏éÂ§çÂà∂</a></li>
<li><a href="#1010-%E5%8C%B9%E9%85%8D%E6%A8%A1%E5%BC%8F">10.10 ÂåπÈÖçÊ®°Âºè</a></li>
</ul>
</li>
<li><a href="#%E5%8D%81%E4%B8%80-lua%E6%95%B0%E7%BB%84">ÂçÅ‰∏Ä LuaÊï∞ÁªÑ</a>
<ul>
<li><a href="#111-%E6%A6%82%E8%BF%B0">11.1 Ê¶ÇËø∞</a></li>
<li><a href="#112-%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84">11.2 ‰∏ÄÁª¥Êï∞ÁªÑ</a></li>
<li><a href="#113-%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84">11.3 Â§öÁª¥Êï∞ÁªÑ</a></li>
</ul>
</li>
<li><a href="#%E5%8D%81%E4%BA%8C-%E8%BF%AD%E4%BB%A3%E5%99%A8">ÂçÅ‰∫å Ëø≠‰ª£Âô®Ôºà‚≠êÔºâ</a>
<ul>
<li><a href="#121-%E6%A6%82%E8%BF%B0">12.1 Ê¶ÇËø∞</a></li>
<li><a href="#122-%E6%B3%9B%E5%9E%8Bfor%E8%BF%AD%E4%BB%A3%E5%99%A8">12.2 Ê≥õÂûãforËø≠‰ª£Âô®</a></li>
<li><a href="#122-%E6%97%A0%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8">12.2 Êó†Áä∂ÊÄÅÁöÑËø≠‰ª£Âô®</a></li>
<li><a href="#123-%E5%A4%9A%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8">12.3 Â§öÁä∂ÊÄÅÁöÑËø≠‰ª£Âô®</a></li>
</ul>
</li>
<li><a href="#%E5%8D%81%E4%B8%89-table%E8%A1%A8">ÂçÅ‰∏â tableÔºàË°®ÔºâÔºà‚≠êÔºâ</a>
<ul>
<li><a href="#131-%E6%A6%82%E8%BF%B0">13.1 Ê¶ÇËø∞</a></li>
<li><a href="#132-%E8%A1%A8table%E7%9A%84%E6%9E%84%E9%80%A0">13.2 Ë°®ÔºàTableÔºâÁöÑÊûÑÈÄ†</a></li>
<li><a href="#133-table%E6%93%8D%E4%BD%9C">13.3 TableÊìç‰Ωú</a></li>
</ul>
</li>
<li><a href="#%E5%8D%81%E5%9B%9B-%E6%A8%A1%E5%9D%97%E4%B8%8E%E5%8C%85">ÂçÅÂõõ Ê®°Âùó‰∏éÂåÖÔºà‚≠êÔºâ</a>
<ul>
<li><a href="#141-%E6%A6%82%E8%BF%B0%E5%8F%8A%E5%AE%9A%E4%B9%89">14.1 Ê¶ÇËø∞ÂèäÂÆö‰πâ</a></li>
<li><a href="#142-%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%9D%97require%E5%87%BD%E6%95%B0">14.2 Âä†ËΩΩÊ®°ÂùóÔºàrequireÂáΩÊï∞Ôºâ</a></li>
<li><a href="#143-c%E5%8C%85">14.3 CÂåÖ</a></li>
</ul>
</li>
<li><a href="#%E5%8D%81%E4%BA%94-%E5%85%83%E8%A1%A8metatable">ÂçÅ‰∫î ÂÖÉË°®(Metatable)Ôºà‚≠êÔºâ</a>
<ul>
<li><a href="#151-%E6%A6%82%E8%BF%B0">15.1 Ê¶ÇËø∞</a></li>
<li><a href="#152-__index-%E5%85%83%E6%96%B9%E6%B3%95">15.2 __index ÂÖÉÊñπÊ≥ïÔºà‚≠ê‚≠ê‚≠êÔºâ</a></li>
<li><a href="#153-__newindex-%E5%85%83%E6%96%B9%E6%B3%95">15.3 __newindex ÂÖÉÊñπÊ≥ïÔºà‚≠êÔºâ</a></li>
<li><a href="#154-rawget%E5%92%8Crawset">15.4 rawgetÂíårawset</a></li>
<li><a href="#155-%E8%BF%90%E7%AE%97%E5%85%83%E6%96%B9%E6%B3%95-%E4%B8%BA%E8%A1%A8%E6%B7%BB%E5%8A%A0%E6%93%8D%E4%BD%9C%E7%AC%A6">15.5 ËøêÁÆóÂÖÉÊñπÊ≥ï-‰∏∫Ë°®Ê∑ªÂä†Êìç‰ΩúÁ¨¶</a></li>
<li><a href="#156-__call%E5%85%83%E6%96%B9%E6%B3%95">15.6 __callÂÖÉÊñπÊ≥ï</a></li>
<li><a href="#157-__tostring-%E5%85%83%E6%96%B9%E6%B3%95">15.7 __tostring ÂÖÉÊñπÊ≥ï</a></li>
</ul>
</li>
<li><a href="#%E5%8D%81%E5%85%AD-%E5%8D%8F%E5%90%8C%E7%A8%8B%E5%BA%8Fcoroutine">ÂçÅÂÖ≠ ÂçèÂêåÁ®ãÂ∫èÔºàcoroutineÔºâÔºà‚≠ê‚≠ê‚≠êÔºâ</a>
<ul>
<li><a href="#161-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%8F%E5%90%8Ccoroutine">16.1 ‰ªÄ‰πàÊòØÂçèÂêåÔºàcoroutineÔºâ</a></li>
<li><a href="#162-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95">16.2 Âü∫Êú¨ËØ≠Ê≥ï</a></li>
<li><a href="#163-%E5%90%84%E4%B8%AA%E8%AF%AD%E6%B3%95%E7%9A%84%E7%94%A8%E6%B3%95%E5%AE%9E%E4%BE%8B">16.3 ÂêÑ‰∏™ËØ≠Ê≥ïÁöÑÁî®Ê≥ïÂÆû‰æã</a></li>
<li><a href="#164-%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98">16.4 Áîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖÈóÆÈ¢ò</a></li>
<li><a href="#165-%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%8D%8F%E5%90%8C%E7%A8%8B%E5%BA%8F%E5%8C%BA%E5%88%AB">16.5 Á∫øÁ®ãÂíåÂçèÂêåÁ®ãÂ∫èÂå∫Âà´</a></li>
</ul>
</li>
<li><a href="#%E5%8D%81%E4%B8%83-%E6%96%87%E4%BB%B6io">ÂçÅ‰∏É Êñá‰ª∂I/O</a>
<ul>
<li><a href="#171-%E6%A6%82%E8%BF%B0%E5%8F%8A%E7%94%A8%E6%B3%95">17.1 Ê¶ÇËø∞ÂèäÁî®Ê≥ï</a></li>
<li><a href="#172-%E7%AE%80%E5%8D%95%E6%A8%A1%E5%BC%8Fio%E8%B0%83%E7%94%A8">17.2 ÁÆÄÂçïÊ®°ÂºèÔºàio.Ë∞ÉÁî®Ôºâ</a></li>
<li><a href="#173-%E5%AE%8C%E5%85%A8%E6%A8%A1%E5%BC%8Ffile%E8%B0%83%E7%94%A8">17.3 ÂÆåÂÖ®Ê®°ÂºèÔºàfile:Ë∞ÉÁî®Ôºâ</a></li>
</ul>
</li>
<li><a href="#%E5%8D%81%E5%85%AB-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86">ÂçÅÂÖ´ ÈîôËØØÂ§ÑÁêÜ</a>
<ul>
<li><a href="#181-%E6%A6%82%E8%BF%B0">18.1 Ê¶ÇËø∞</a></li>
<li><a href="#182-%E8%AF%AD%E6%B3%95%E9%94%99%E8%AF%AF">18.2 ËØ≠Ê≥ïÈîôËØØ</a></li>
<li><a href="#183-%E8%BF%90%E8%A1%8C%E9%94%99%E8%AF%AF">18.3 ËøêË°åÈîôËØØ</a></li>
<li><a href="#184-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86">18.4 ÈîôËØØÂ§ÑÁêÜ</a></li>
<li><a href="#185-pcall-%E5%92%8C-xpcalldebug">18.5 pcall Âíå xpcall„ÄÅdebug</a></li>
</ul>
</li>
<li><a href="#%E5%8D%81%E4%B9%9D-%E8%B0%83%E8%AF%95debug">ÂçÅ‰πù Ë∞ÉËØï(Debug)</a>
<ul>
<li><a href="#191-%E6%A6%82%E8%BF%B0%E5%8F%8Adebug%E7%9A%84%E6%96%B9%E6%B3%95">19.1 Ê¶ÇËø∞ÂèäDebugÁöÑÊñπÊ≥ï</a></li>
<li><a href="#192-%E8%B0%83%E8%AF%95%E7%B1%BB%E5%9E%8B">19.2 Ë∞ÉËØïÁ±ªÂûã</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8C%E5%8D%81-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6">‰∫åÂçÅ ÂûÉÂúæÂõûÊî∂</a>
<ul>
<li><a href="#201-%E6%A6%82%E8%BF%B0">20.1 Ê¶ÇËø∞</a></li>
<li><a href="#202-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8%E5%87%BD%E6%95%B0">20.2 ÂûÉÂúæÂõûÊî∂Âô®ÂáΩÊï∞</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8C%E5%8D%81%E4%B8%80-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1">‰∫åÂçÅ‰∏Ä Èù¢ÂêëÂØπË±°Ôºà‚≠êÔºâ</a>
<ul>
<li><a href="#211-%E6%A6%82%E8%BF%B0">21.1 Ê¶ÇËø∞</a></li>
<li><a href="#212-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%89%B9%E5%BE%81">21.2 Èù¢ÂêëÂØπË±°ÁâπÂæÅ</a></li>
<li><a href="#213-lua-%E4%B8%AD%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1">21.3 Lua ‰∏≠Èù¢ÂêëÂØπË±°</a></li>
<li><a href="#214-%E7%AE%80%E5%8D%95%E5%AE%9E%E4%BE%8B">21.4 ÁÆÄÂçïÂÆû‰æãÔºà‚≠êÔºâ</a></li>
<li><a href="#215-%E7%82%B9%E8%B0%83%E7%94%A8%E5%92%8C%E5%86%92%E5%8F%B7%E8%B0%83%E7%94%A8%E7%9A%84%E5%8C%BA%E5%88%AB">21.5 ÁÇπË∞ÉÁî®ÂíåÂÜíÂè∑Ë∞ÉÁî®ÁöÑÂå∫Âà´Ôºà‚≠ê‚≠ê‚≠êÔºâ</a></li>
<li><a href="#216-lua-%E7%BB%A7%E6%89%BF">21.6 Lua ÁªßÊâø(‚≠ê‚≠ê‚≠ê)</a></li>
<li><a href="#217-lua%E5%A4%9A%E6%80%81%E5%87%BD%E6%95%B0%E9%87%8D%E5%86%99">21.7 LuaÂ§öÊÄÅÔºàÂáΩÊï∞ÈáçÂÜôÔºâ</a></li>
</ul>
</li>
<li><a href="#%E4%BA%8C%E5%8D%81%E4%BA%8C-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BF%E9%97%AEluasql">‰∫åÂçÅ‰∫å Êï∞ÊçÆÂ∫ìËÆøÈóÆÔºàLuaSQLÔºâ</a>
<ul>
<li><a href="#221-%E6%A6%82%E8%BF%B0">22.1 Ê¶ÇËø∞</a></li>
<li><a href="#222-%E5%AE%89%E8%A3%85">22.2 ÂÆâË£Ö</a></li>
<li><a href="#223-%E5%AE%9E%E4%BE%8B">22.3 ÂÆû‰æã</a></li>
</ul>
</li>
</ul>
<h1 id="%E9%9B%B6-%E5%BC%95%E7%94%A8" tabindex="-1">Èõ∂ ÂºïÁî®</h1>
<p>Êú¨Êñá‰ª∂ÂÜÖÂÆπÊù•Ëá™‰ª•‰∏ãÁΩëÂùÄÔºö</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/lua/lua-tutorial.html">Lua ÊïôÁ®ã | ËèúÈ∏üÊïôÁ®ã (runoob.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.runoob.com/manual/lua53doc/contents.html">Lua 5.3 ‰∏≠ÊñáÂèÇËÄÉÊâãÂÜå(ËèúÈ∏üÊïôÁ®ãÁøªËØë)</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/duanxuyun/article/details/4751118">lua ÁöÑioÊìç‰ΩúÔºåÈùûÂ∏∏ËØ¶ÁªÜ„ÄÇ</a></li>
</ol>
<h1 id="%E4%B8%80-%E6%A6%82%E8%BF%B0" tabindex="-1">‰∏Ä Ê¶ÇËø∞</h1>
<ol>
<li>Lua ÊòØ‰∏ÄÁßçËΩªÈáèÂ∞èÂ∑ßÁöÑËÑöÊú¨ËØ≠Ë®ÄÔºåÁî®Ê†áÂáÜCËØ≠Ë®ÄÁºñÂÜôÂπ∂‰ª•Ê∫ê‰ª£Á†ÅÂΩ¢ÂºèÂºÄÊîæÔºå ÂÖ∂ËÆæËÆ°ÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂµåÂÖ•Â∫îÁî®Á®ãÂ∫è‰∏≠Ôºå‰ªéËÄå‰∏∫Â∫îÁî®Á®ãÂ∫èÊèê‰æõÁÅµÊ¥ªÁöÑÊâ©Â±ïÂíåÂÆöÂà∂ÂäüËÉΩ„ÄÇ<br>
Lua ÊòØÂ∑¥Ë•øÈáåÁ∫¶ÁÉ≠ÂÜÖÂç¢Â§©‰∏ªÊïôÂ§ßÂ≠¶ÔºàPontifical Catholic University of Rio de JaneiroÔºâÈáåÁöÑ‰∏Ä‰∏™Á†îÁ©∂Â∞èÁªÑ‰∫é 1993 Âπ¥ÂºÄÂèëÁöÑÔºåËØ•Â∞èÁªÑÊàêÂëòÊúâÔºöRoberto Ierusalimschy„ÄÅWaldemar Celes Âíå Luiz Henrique de Figueiredo„ÄÇ</li>
<li>ËÆæËÆ°ÁõÆÁöÑ<br>
ÂÖ∂ËÆæËÆ°ÁõÆÁöÑÊòØ‰∏∫‰∫ÜÂµåÂÖ•Â∫îÁî®Á®ãÂ∫è‰∏≠Ôºå‰ªéËÄå‰∏∫Â∫îÁî®Á®ãÂ∫èÊèê‰æõÁÅµÊ¥ªÁöÑÊâ©Â±ïÂíåÂÆöÂà∂ÂäüËÉΩ„ÄÇ</li>
<li>ÁâπÊÄß</li>
</ol>
<ul>
<li>ËΩªÈáèÁ∫ß: ÂÆÉÁî®Ê†áÂáÜCËØ≠Ë®ÄÁºñÂÜôÂπ∂‰ª•Ê∫ê‰ª£Á†ÅÂΩ¢ÂºèÂºÄÊîæÔºåÁºñËØëÂêé‰ªÖ‰ªÖ‰∏ÄÁôæ‰ΩôKÔºåÂèØ‰ª•ÂæàÊñπ‰æøÁöÑÂµåÂÖ•Âà´ÁöÑÁ®ãÂ∫èÈáå„ÄÇ</li>
<li>ÂèØÊâ©Â±ï: LuaÊèê‰æõ‰∫ÜÈùûÂ∏∏Êòì‰∫é‰ΩøÁî®ÁöÑÊâ©Â±ïÊé•Âè£ÂíåÊú∫Âà∂ÔºöÁî±ÂÆø‰∏ªËØ≠Ë®Ä(ÈÄöÂ∏∏ÊòØCÊàñC++)Êèê‰æõËøô‰∫õÂäüËÉΩÔºåLuaÂèØ‰ª•‰ΩøÁî®ÂÆÉ‰ª¨ÔºåÂ∞±ÂÉèÊòØÊú¨Êù•Â∞±ÂÜÖÁΩÆÁöÑÂäüËÉΩ‰∏ÄÊ†∑„ÄÇ</li>
<li>ÂÖ∂ÂÆÉÁâπÊÄß:</li>
<li>
<ul>
<li>ÊîØÊåÅÈù¢ÂêëËøáÁ®ã(procedure-oriented)ÁºñÁ®ãÂíåÂáΩÊï∞ÂºèÁºñÁ®ã(functional programming)Ôºõ</li>
<li>Ëá™Âä®ÂÜÖÂ≠òÁÆ°ÁêÜÔºõÂè™Êèê‰æõ‰∫Ü‰∏ÄÁßçÈÄöÁî®Á±ªÂûãÁöÑË°®ÔºàtableÔºâÔºåÁî®ÂÆÉÂèØ‰ª•ÂÆûÁé∞Êï∞ÁªÑÔºåÂìàÂ∏åË°®ÔºåÈõÜÂêàÔºåÂØπË±°Ôºõ</li>
<li>ËØ≠Ë®ÄÂÜÖÁΩÆÊ®°ÂºèÂåπÈÖçÔºõÈó≠ÂåÖ(closure)ÔºõÂáΩÊï∞‰πüÂèØ‰ª•ÁúãÂÅö‰∏Ä‰∏™ÂÄºÔºõÊèê‰æõÂ§öÁ∫øÁ®ãÔºàÂçèÂêåËøõÁ®ãÔºåÂπ∂ÈùûÊìç‰ΩúÁ≥ªÁªüÊâÄÊîØÊåÅÁöÑÁ∫øÁ®ãÔºâÊîØÊåÅÔºõ</li>
<li>ÈÄöËøáÈó≠ÂåÖÂíåtableÂèØ‰ª•ÂæàÊñπ‰æøÂú∞ÊîØÊåÅÈù¢ÂêëÂØπË±°ÁºñÁ®ãÊâÄÈúÄË¶ÅÁöÑ‰∏Ä‰∫õÂÖ≥ÈîÆÊú∫Âà∂ÔºåÊØîÂ¶ÇÊï∞ÊçÆÊäΩË±°ÔºåËôöÂáΩÊï∞ÔºåÁªßÊâøÂíåÈáçËΩΩÁ≠â„ÄÇ</li>
</ul>
</li>
</ul>
<ol start="4">
<li>Â∫îÁî®Âú∫ÊôØ
<ul>
<li>Ê∏∏ÊàèÂºÄÂèë</li>
<li>Áã¨Á´ãÂ∫îÁî®ËÑöÊú¨</li>
<li>Web Â∫îÁî®ËÑöÊú¨</li>
<li>Êâ©Â±ïÂíåÊï∞ÊçÆÂ∫ìÊèí‰ª∂Â¶ÇÔºöMySQL Proxy Âíå MySQL WorkBenchÂÆâÂÖ®Á≥ªÁªüÔºåÂ¶ÇÂÖ•‰æµÊ£ÄÊµãÁ≥ªÁªü</li>
</ul>
</li>
</ol>
<h1 id="%E4%BA%8C-%E5%AE%89%E8%A3%85" tabindex="-1">‰∫å ÂÆâË£Ö</h1>
<p>È¶ñÂÖàÂÆâË£ÖLua for Windows(exeÂåÖ)Ôºö <a target="_blank" rel="noopener" href="https://github.com/rjpcomputing/luaforwindows/releases">Releases ¬∑ rjpcomputing/luaforwindows (github.com)</a><br>
<img src="/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%AE%89%E8%A3%85%E6%88%AA%E5%9B%BE.jpg" alt><br>
‰ΩøÁî®IDEÔºöVSCode„ÄÅIDEA„ÄÅLuaStudio„ÄÇËøôÈáåÊàë‰ΩøÁî®VSCodeËøõË°åÂºÄÂèëÈÖçÁΩÆÔºåÁõ∏ÂÖ≥ÈÖçÁΩÆÂÜÖÂÆπÔºàËØ•ÂÜÖÂÆπÊàë‰ª¨ÂøΩÁï• 4. Lua ÁºñËØëÁéØÂ¢ÉÈÖçÁΩÆ‰∏≠ÁöÑ1-6ÔºåÂõ†‰∏∫Êàë‰ª¨‰∏ãËΩΩÁöÑexeÂÆâË£ÖÁõ¥Êé•Â∏ÆÊàë‰ª¨ÈÖçÁΩÆÂ•Ω‰∫ÜÁéØÂ¢ÉÂèòÈáè‰∫ÜÔºâÔºö <a target="_blank" rel="noopener" href="https://blog.csdn.net/yanwennian/article/details/103480938">(3Êù°Ê∂àÊÅØ) Visual Studio Code -&gt; VSCode ÂºÄÂèëÁéØÂ¢ÉÊê≠Âª∫ ---- Lua ÂºÄÂèëÁéØÂ¢ÉÊê≠Âª∫ Âèä ‰ª£Á†ÅËøêË°åÔºàcode runner Êèí‰ª∂Ôºâ_vscodeÂÆâË£Ölua_YanWennianÁöÑÂçöÂÆ¢-CSDNÂçöÂÆ¢</a></p>
<h1 id="%E4%B8%89-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95" tabindex="-1">‰∏â Âü∫Êú¨ËØ≠Ê≥ï</h1>
<h3 id="3.1-%E4%BA%A4%E4%BA%92%E5%BC%8F%E7%BC%96%E7%A8%8B" tabindex="-1">3.1 ‰∫§‰∫íÂºèÁºñÁ®ã</h3>
<p>Áõ¥Êé•Âú®ÂëΩ‰ª§Ë°å‰∏≠ËæìÂÖ•Á®ãÂ∫èÂπ∂Á´ãÂç≥Êü•ÁúãÊïàÊûúÔºåÈÄöËøálua -iÊàñluaÊù•ÂêØÁî®</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ lua -i </span><br><span class="line">$ Lua <span class="number">5.3</span><span class="number">.0</span>  Copyright (C) <span class="number">1994</span><span class="number">-2015</span> Lua.org, PUC-Rio</span><br><span class="line">&gt; </span><br><span class="line"><span class="comment">-- ÊâßË°åÂëΩ‰ª§</span></span><br><span class="line">&gt; <span class="built_in">print</span>(<span class="string">&quot;Hello WorldÔºÅ&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="3.2-%E8%84%9A%E6%9C%AC%E5%BC%8F%E7%BC%96%E7%A8%8B" tabindex="-1">3.2 ËÑöÊú¨ÂºèÁºñÁ®ã</h3>
<ol>
<li>Â∞Ü‰ª£Á†ÅÂ≠òÂÇ®Âú®Êú¨Âú∞‰ª•.lua‰∏∫Êâ©Â±ïÂêçÁöÑÊñá‰ª∂‰∏≠Ôºà hello.lua ÔºâÔºåÂÖ∂‰∏≠ÂÜÖÂÆπ‰∏∫Ôºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello World!&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;www.runoob.com&quot;</span>)</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Âú®Êñá‰ª∂ÊâÄÂú®ÁõÆÂΩïÁöÑÁªàÁ´Ø(Êàñcmd)ÊâßË°åËÑöÊú¨</li>
</ol>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ lua hello.lua</span><br><span class="line">Hello WorldÔºÅ</span><br><span class="line">www.runoob.com</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>Êàë‰ª¨‰πüÂèØ‰ª•Â∞Ü‰ª£Á†Å‰øÆÊîπ‰∏∫Â¶Ç‰∏ãÂΩ¢ÂºèÊù•ÊâßË°åËÑöÊú¨ÔºàÂú®ÂºÄÂ§¥Ê∑ªÂä†Ôºö#!/usr/local/bin/luaÔºâÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/<span class="keyword">local</span>/bin/lua</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello World!&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;www.runoob.com&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>‰ª•‰∏ä‰ª£Á†Å‰∏≠ÔºåÊàë‰ª¨ÊåáÂÆö‰∫Ü Lua ÁöÑËß£ÈáäÂô® /usr/local/bin Â∞±ÊòØÊåá‰Ω†Êú¨Âú∞luaÁöÑ‰ΩçÁΩÆ„ÄÇwindowÂÆâË£ÖÂêéÁöÑluaÂèØËÉΩ‰∏çÂ§™ÈúÄË¶ÅÔºå‰ΩÜÂú®linux‰∏ãÈúÄË¶ÅÂú®Â§¥ÈÉ®Ê∑ªÂä†#!/usr/local/bin/lua„ÄÇ</p>
<h3 id="3.3-%E6%B3%A8%E9%87%8A" tabindex="-1">3.3 Ê≥®Èáä</h3>
<ol>
<li>ÂçïË°åÊ≥®Èáä<br>
‰∏§‰∏™ÂáèÂè∑</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Â§öË°åÊ≥®Èáä</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment"> Â§öË°åÊ≥®Èáä</span></span><br><span class="line"><span class="comment"> Â§öË°åÊ≥®Èáä</span></span><br><span class="line"><span class="comment"> --]]</span></span><br></pre></td></tr></table></figure>
<h3 id="3.4-%E6%A0%87%E8%AF%86%E7%AC%A6" tabindex="-1">3.4 Ê†áËØÜÁ¨¶</h3>
<ol>
<li>‰ª•Â≠óÊØçÊàñ‰∏ãÂàíÁ∫øÂºÄÂ§¥ + 0‰∏™ÊàñËÄÖÂ§ö‰∏™Â≠óÊØç„ÄÅ‰∏ãÂàíÁ∫ø„ÄÅÊï∞Â≠ó</li>
<li>ÊúÄÂ•Ω‰∏çË¶Å‰ΩøÁî®‰∏ãÂàíÁ∫øÂä†Â§ßÂÜôÂ≠óÊØçÁöÑÊ†áÁ§∫Á¨¶ÔºåÂõ†‰∏∫LuaÁöÑ‰øùÁïôÂ≠ó‰πüÊòØËøôÊ†∑ÁöÑ„ÄÇ</li>
<li>Lua ‰∏çÂÖÅËÆ∏‰ΩøÁî®ÁâπÊÆäÂ≠óÁ¨¶Â¶Ç @, $, Âíå % Êù•ÂÆö‰πâÊ†áÁ§∫Á¨¶</li>
<li>Lua Âå∫ÂàÜÂ§ßÂ∞èÂÜô„ÄÇ</li>
<li>‰∏Ä‰∫õÊ≠£Á°ÆÁöÑÂÆö‰πâ</li>
</ol>
<figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mohd         zara      abc     move<span class="emphasis">_name    a_</span>123</span><br><span class="line">myname50     <span class="emphasis">_temp     j       a23b9        retVal</span></span><br></pre></td></tr></table></figure>
<ol start="6">
<li>ÂÖ≥ÈîÆÂ≠ó</li>
</ol>
<p><img src="/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E5%85%B3%E9%94%AE%E5%AD%97.png" alt="ÂÖ≥ÈîÆÂ≠ó"><br>
‰∏ÄËà¨Á∫¶ÂÆöÔºå‰ª•‰∏ãÂàíÁ∫øÂºÄÂ§¥ËøûÊé•‰∏Ä‰∏≤Â§ßÂÜôÂ≠óÊØçÁöÑÂêçÂ≠óÔºàÊØîÂ¶Ç _VERSIONÔºâË¢´‰øùÁïôÁî®‰∫é Lua ÂÜÖÈÉ®ÂÖ®Â±ÄÂèòÈáè„ÄÇ</p>
<h1 id="%E5%9B%9B-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B" tabindex="-1">Âõõ Êï∞ÊçÆÁ±ªÂûã</h1>
<table>
<thead>
<tr>
<th>Êï∞ÊçÆÁ±ªÂûã</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>nil</td>
<td>Ëøô‰∏™ÊúÄÁÆÄÂçïÔºåÂè™ÊúâÂÄºnilÂ±û‰∫éËØ•Á±ªÔºå<strong>Ë°®Á§∫‰∏Ä‰∏™Êó†ÊïàÂÄº</strong>ÔºàÂú®Êù°‰ª∂Ë°®ËææÂºè‰∏≠Áõ∏ÂΩì‰∫éfalseÔºâ„ÄÇ</td>
</tr>
<tr>
<td>boolean</td>
<td>ÂåÖÂê´‰∏§‰∏™ÂÄºÔºöfalseÂíåtrue„ÄÇ</td>
</tr>
<tr>
<td>number</td>
<td>Ë°®Á§∫ÂèåÁ≤æÂ∫¶Á±ªÂûãÁöÑ<strong>ÂÆûÊµÆÁÇπÊï∞</strong></td>
</tr>
<tr>
<td>string</td>
<td>Â≠óÁ¨¶‰∏≤Áî±‰∏ÄÂØπ<strong>ÂèåÂºïÂè∑ÊàñÂçïÂºïÂè∑</strong>Êù•Ë°®Á§∫</td>
</tr>
<tr>
<td>function</td>
<td>Áî± C Êàñ Lua ÁºñÂÜôÁöÑ<strong>ÂáΩÊï∞</strong></td>
</tr>
<tr>
<td>userdata</td>
<td>Ë°®Á§∫‰ªªÊÑèÂ≠òÂÇ®Âú®ÂèòÈáè‰∏≠ÁöÑ<strong>CÊï∞ÊçÆÁªìÊûÑ</strong></td>
</tr>
<tr>
<td>thread</td>
<td>Ë°®Á§∫ÊâßË°åÁöÑ<strong>Áã¨Á´ãÁ∫øË∑Ø</strong>ÔºåÁî®‰∫éÊâßË°å<strong>ÂçèÂêåÁ®ãÂ∫è</strong></td>
</tr>
<tr>
<td>table</td>
<td>Lua ‰∏≠ÁöÑË°®ÔºàtableÔºâÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™&quot;<strong>ÂÖ≥ËÅîÊï∞ÁªÑ</strong>&quot;Ôºàassociative arraysÔºâÔºåÊï∞ÁªÑÁöÑ<strong>Á¥¢Âºï</strong>ÂèØ‰ª•ÊòØÊï∞Â≠ó„ÄÅÂ≠óÁ¨¶‰∏≤ÊàñË°®Á±ªÂûã„ÄÇÂú® Lua ÈáåÔºåtable ÁöÑÂàõÂª∫ÊòØÈÄöËøá&quot;<strong>ÊûÑÈÄ†Ë°®ËææÂºè</strong>&quot;Êù•ÂÆåÊàêÔºå<strong>ÊúÄÁÆÄÂçïÊûÑÈÄ†Ë°®ËææÂºèÊòØ{}</strong>ÔºåÁî®Êù•ÂàõÂª∫‰∏Ä‰∏™<strong>Á©∫Ë°®</strong>„ÄÇ</td>
</tr>
</tbody>
</table>
<h3 id="4.1-nil(%E7%A9%BA)" tabindex="-1">4.1 nil(Á©∫)</h3>
<ol>
<li>Áªô<strong>ÂÖ®Â±Ä</strong>ÂèòÈáèÊàñËÄÖ <strong>table Ë°®</strong>ÈáåÁöÑÂèòÈáè<strong>Ëµã‰∏Ä‰∏™ nil</strong> ÂÄºÔºåÁ≠âÂêå‰∫éÊääÂÆÉ‰ª¨<strong>Âà†Êéâ</strong></li>
<li>nil ‰ΩúÊØîËæÉÊó∂Â∫îËØ•Âä†‰∏äÂèåÂºïÂè∑ &quot;Ôºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">type</span>(X)</span><br><span class="line"><span class="literal">nil</span></span><br><span class="line">&gt; <span class="built_in">type</span>(X)==<span class="literal">nil</span></span><br><span class="line"><span class="literal">false</span></span><br><span class="line">&gt; <span class="built_in">type</span>(X)==<span class="string">&quot;nil&quot;</span></span><br><span class="line"><span class="literal">true</span></span><br><span class="line"><span class="comment">--- Âõ†ÊòØ type(X) ÂÆûË¥®ÊòØËøîÂõûÁöÑ &quot;nil&quot; Â≠óÁ¨¶‰∏≤ÔºåÊòØ‰∏Ä‰∏™ string Á±ªÂûãÔºö</span></span><br><span class="line"><span class="comment">--- type(type(X))==string</span></span><br></pre></td></tr></table></figure>
<h3 id="4.2-boolean%EF%BC%88%E5%B8%83%E5%B0%94%EF%BC%89" tabindex="-1">4.2 booleanÔºàÂ∏ÉÂ∞îÔºâ</h3>
<p>boolean Á±ªÂûãÂè™Êúâ‰∏§‰∏™ÂèØÈÄâÂÄºÔºötrueÔºàÁúüÔºâ Âíå falseÔºàÂÅáÔºâÔºå<strong>Lua Êää false Âíå nil Áúã‰ΩúÊòØ falseÔºåÂÖ∂‰ªñÁöÑÈÉΩ‰∏∫ trueÔºå<font color="red">Êï∞Â≠ó 0 ‰πüÊòØ true</font></strong></p>
<h3 id="4.3-number%EF%BC%88%E6%95%B0%E5%AD%97%EF%BC%89" tabindex="-1">4.3 numberÔºàÊï∞Â≠óÔºâ</h3>
<p>Lua ÈªòËÆ§Âè™Êúâ‰∏ÄÁßç number Á±ªÂûã ‚Äì doubleÔºàÂèåÁ≤æÂ∫¶ÔºâÁ±ªÂûã <strong>ÔºàÈªòËÆ§Á±ªÂûãÂèØ‰ª•‰øÆÊîπ luaconf.h ÈáåÁöÑÂÆö‰πâÔºâ</strong></p>
<h3 id="4.4-string%EF%BC%88%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%89" tabindex="-1">4.4 stringÔºàÂ≠óÁ¨¶‰∏≤Ôºâ</h3>
<ol>
<li>Â≠óÁ¨¶‰∏≤Áî±‰∏ÄÂØπÂèåÂºïÂè∑ÊàñÂçïÂºïÂè∑Êù•Ë°®Á§∫</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">string1 = <span class="string">&quot;this is string1&quot;</span></span><br><span class="line">string2 = <span class="string">&#x27;this is string2&#x27;</span></span><br><span class="line"></span><br><span class="line">html = <span class="string">[[</span></span><br><span class="line"><span class="string">&lt;html&gt;</span></span><br><span class="line"><span class="string">&lt;head&gt;&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">    &lt;a href=&quot;http://www.runoob.com/&quot;&gt;ËèúÈ∏üÊïôÁ®ã&lt;/a&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;</span></span><br><span class="line"><span class="string">]]</span></span><br><span class="line"><span class="built_in">print</span>(html)</span><br></pre></td></tr></table></figure>
<ol>
<li>Âú®ÂØπ‰∏Ä‰∏™Êï∞Â≠óÂ≠óÁ¨¶‰∏≤‰∏äËøõË°åÁÆóÊúØÊìç‰ΩúÊó∂ÔºåLua ‰ºöÂ∞ùËØïÂ∞ÜËøô‰∏™Êï∞Â≠óÂ≠óÁ¨¶‰∏≤ËΩ¨Êàê‰∏Ä‰∏™Êï∞Â≠ó:</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">print</span>(<span class="string">&quot;2&quot;</span> + <span class="number">6</span>)</span><br><span class="line"><span class="number">8.0</span></span><br><span class="line">&gt; <span class="built_in">print</span>(<span class="string">&quot;2&quot;</span> + <span class="string">&quot;6&quot;</span>)</span><br><span class="line"><span class="number">8.0</span></span><br><span class="line">&gt; <span class="built_in">print</span>(<span class="string">&quot;2 + 6&quot;</span>)</span><br><span class="line"><span class="number">2</span> + <span class="number">6</span></span><br><span class="line">&gt; <span class="built_in">print</span>(<span class="string">&quot;-2e2&quot;</span> * <span class="string">&quot;6&quot;</span>)</span><br><span class="line"><span class="number">-1200.0</span></span><br><span class="line">&gt; <span class="built_in">print</span>(<span class="string">&quot;error&quot;</span> + <span class="number">1</span>)</span><br><span class="line"><span class="built_in">stdin</span>:<span class="number">1</span>: attempt to perform arithmetic on a <span class="built_in">string</span> value</span><br><span class="line">stack <span class="built_in">traceback</span>:</span><br><span class="line">        <span class="built_in">stdin</span>:<span class="number">1</span>: <span class="keyword">in</span> main chunk</span><br><span class="line">        [C]: <span class="keyword">in</span> ?</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
<ol>
<li>ËøûÊé•Â≠óÁ¨¶‰∏≤‰ΩøÁî® ‚Ä¶</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">print</span>(<span class="string">&quot;a&quot;</span> .. <span class="string">&#x27;b&#x27;</span>)</span><br><span class="line">ab</span><br><span class="line">&gt; <span class="built_in">print</span>(<span class="number">157</span> .. <span class="number">428</span>)</span><br><span class="line"><span class="number">157428</span></span><br><span class="line">&gt; </span><br></pre></td></tr></table></figure>
<ol>
<li>‰ΩøÁî®#Êù•ËÆ°ÁÆóÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">len</span> = <span class="string">&quot;www.runoob.com&quot;</span></span><br><span class="line">&gt; <span class="built_in">print</span>(#<span class="built_in">len</span>)</span><br><span class="line"><span class="number">14</span></span><br><span class="line">&gt; <span class="built_in">print</span>(#<span class="string">&quot;www.runoob.com&quot;</span>)</span><br><span class="line"><span class="number">14</span></span><br></pre></td></tr></table></figure>
<h3 id="4.5-%E8%A1%A8" tabindex="-1">4.5 Ë°®</h3>
<p>Âú® Lua ÈáåÔºåtable ÁöÑÂàõÂª∫ÊòØÈÄöËøá&quot;ÊûÑÈÄ†Ë°®ËææÂºè&quot;Êù•ÂÆåÊàêÔºåÊúÄÁÆÄÂçïÊûÑÈÄ†Ë°®ËææÂºèÊòØ{}ÔºåÁî®Êù•ÂàõÂª∫‰∏Ä‰∏™Á©∫Ë°®„ÄÇ</p>
<ol>
<li>Áõ¥Êé•ÂàùÂßãÂåñË°®:</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ÂàõÂª∫‰∏Ä‰∏™Á©∫ÁöÑ table</span></span><br><span class="line"><span class="keyword">local</span> tbl1 = &#123;&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- Áõ¥Êé•ÂàùÂßãË°®</span></span><br><span class="line"><span class="keyword">local</span> tbl2 = &#123;<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;pear&quot;</span>, <span class="string">&quot;orange&quot;</span>, <span class="string">&quot;grape&quot;</span>&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Lua ‰∏≠ÁöÑË°®ÔºàtableÔºâÂÖ∂ÂÆûÊòØ‰∏Ä‰∏™&quot;ÂÖ≥ËÅîÊï∞ÁªÑ&quot;Ôºàassociative arraysÔºâÔºåÊï∞ÁªÑÁöÑÁ¥¢ÂºïÂèØ‰ª•ÊòØÊï∞Â≠óÊàñËÄÖÊòØÂ≠óÁ¨¶‰∏≤</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- table_test.lua ËÑöÊú¨Êñá‰ª∂</span></span><br><span class="line">a = &#123;&#125;</span><br><span class="line">a[<span class="string">&quot;key&quot;</span>] = <span class="string">&quot;value&quot;</span></span><br><span class="line">key = <span class="number">10</span></span><br><span class="line">a[key] = <span class="number">22</span></span><br><span class="line">a[key] = a[key] + <span class="number">11</span></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(a) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k .. <span class="string">&quot; : &quot;</span> .. v)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>‰∏çÂêå‰∫éÂÖ∂‰ªñËØ≠Ë®ÄÁöÑÊï∞ÁªÑÊää 0 ‰Ωú‰∏∫Êï∞ÁªÑÁöÑÂàùÂßãÁ¥¢ÂºïÔºå<strong>Âú® Lua ÈáåË°®ÁöÑÈªòËÆ§ÂàùÂßãÁ¥¢Âºï‰∏ÄËà¨‰ª• 1 ÂºÄÂßã</strong>„ÄÇ</li>
<li>table <strong>‰∏ç‰ºöÂõ∫ÂÆöÈïøÂ∫¶Â§ßÂ∞è</strong>ÔºåÊúâ<strong>Êñ∞Êï∞ÊçÆÊ∑ªÂä†</strong>Êó∂ table ÈïøÂ∫¶‰ºö<strong>Ëá™Âä®Â¢ûÈïø</strong>ÔºåÊ≤°<strong>ÂàùÂßãÁöÑ table ÈÉΩÊòØ nil</strong></li>
</ol>
<h3 id="4.6-function%EF%BC%88%E5%87%BD%E6%95%B0%EF%BC%89" tabindex="-1">4.6 functionÔºàÂáΩÊï∞Ôºâ</h3>
<ol>
<li>Âú® Lua ‰∏≠ÔºåÂáΩÊï∞ÊòØË¢´Áúã‰ΩúÊòØ&quot;Á¨¨‰∏ÄÁ±ªÂÄºÔºàFirst-Class ValueÔºâ&quot;ÔºåÂáΩÊï∞ÂèØ‰ª•Â≠òÂú®ÂèòÈáèÈáå:</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- function_test.lua ËÑöÊú¨Êñá‰ª∂</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial1</span><span class="params">(n)</span></span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">then</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> n * factorial1(n - <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="built_in">print</span>(factorial1(<span class="number">5</span>))</span><br><span class="line">factorial2 = factorial1</span><br><span class="line"><span class="built_in">print</span>(factorial2(<span class="number">5</span>))</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>function ÂèØ‰ª•‰ª•ÂåøÂêçÂáΩÊï∞Ôºàanonymous functionÔºâÁöÑÊñπÂºèÈÄöËøáÂèÇÊï∞‰º†ÈÄí:</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- function_test2.lua ËÑöÊú¨Êñá‰ª∂</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testFun</span><span class="params">(tab,fun)</span></span></span><br><span class="line">        <span class="keyword">for</span> k ,v <span class="keyword">in</span> <span class="built_in">pairs</span>(tab) <span class="keyword">do</span></span><br><span class="line">                <span class="built_in">print</span>(fun(k,v));</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">tab=&#123;key1=<span class="string">&quot;val1&quot;</span>,key2=<span class="string">&quot;val2&quot;</span>&#125;;</span><br><span class="line">testFun(tab,</span><br><span class="line"><span class="function"><span class="keyword">function</span><span class="params">(key,val)</span></span><span class="comment">--ÂåøÂêçÂáΩÊï∞</span></span><br><span class="line">        <span class="keyword">return</span> key..<span class="string">&quot;=&quot;</span>..val;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h3 id="4.7-thread%EF%BC%88%E7%BA%BF%E7%A8%8B%EF%BC%89" tabindex="-1">4.7 threadÔºàÁ∫øÁ®ãÔºâ</h3>
<p>Âú® Lua ÈáåÔºåÊúÄ‰∏ªË¶ÅÁöÑÁ∫øÁ®ãÊòØÂçèÂêåÁ®ãÂ∫èÔºàcoroutineÔºâ„ÄÇÂÆÉË∑üÁ∫øÁ®ãÔºàthreadÔºâÂ∑Æ‰∏çÂ§öÔºå<strong>Êã•ÊúâËá™Â∑±Áã¨Á´ãÁöÑÊ†à„ÄÅÂ±ÄÈÉ®ÂèòÈáèÂíåÊåá‰ª§ÊåáÈíàÔºåÂèØ‰ª•Ë∑üÂÖ∂‰ªñÂçèÂêåÁ®ãÂ∫èÂÖ±‰∫´ÂÖ®Â±ÄÂèòÈáèÂíåÂÖ∂‰ªñÂ§ßÈÉ®ÂàÜ‰∏úË•ø</strong>„ÄÇ</p>
<p>Á∫øÁ®ãË∑üÂçèÁ®ãÁöÑÂå∫Âà´Ôºö<strong>Á∫øÁ®ãÂèØ‰ª•ÂêåÊó∂Â§ö‰∏™ËøêË°åÔºåËÄåÂçèÁ®ã‰ªªÊÑèÊó∂ÂàªÂè™ËÉΩËøêË°å‰∏Ä‰∏™</strong>ÔºåÂπ∂‰∏îÂ§Ñ‰∫é<strong>ËøêË°åÁä∂ÊÄÅÁöÑÂçèÁ®ãÂè™ÊúâË¢´ÊåÇËµ∑ÔºàsuspendÔºâÊó∂Êâç‰ºöÊöÇÂÅú</strong>„ÄÇ</p>
<h3 id="4.8-userdata%EF%BC%88%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%EF%BC%89" tabindex="-1">4.8 userdataÔºàËá™ÂÆö‰πâÁ±ªÂûãÔºâ</h3>
<p>userdata ÊòØ‰∏ÄÁßç<strong>Áî®Êà∑Ëá™ÂÆö‰πâÊï∞ÊçÆ</strong>ÔºåÁî®‰∫éË°®Á§∫‰∏ÄÁßç<strong>Áî±Â∫îÁî®Á®ãÂ∫èÊàñ C/C++ ËØ≠Ë®ÄÂ∫ìÊâÄÂàõÂª∫ÁöÑÁ±ªÂûã</strong>ÔºåÂèØ‰ª•Â∞Ü‰ªªÊÑè C/C++ ÁöÑ‰ªªÊÑèÊï∞ÊçÆÁ±ªÂûãÁöÑÊï∞ÊçÆÔºàÈÄöÂ∏∏ÊòØ struct Âíå ÊåáÈíàÔºâ<strong>Â≠òÂÇ®Âà∞ Lua ÂèòÈáè‰∏≠Ë∞ÉÁî®</strong>„ÄÇ</p>
<h1 id="%E4%BA%94-%E5%8F%98%E9%87%8F" tabindex="-1">‰∫î ÂèòÈáè</h1>
<h3 id="5.1-%E5%8F%98%E9%87%8F" tabindex="-1">5.1 ÂèòÈáè</h3>
<ol>
<li>ÂèòÈáèÂú®‰ΩøÁî®ÂâçÔºåÈúÄË¶ÅÂú®‰ª£Á†Å‰∏≠ËøõË°åÂ£∞ÊòéÔºåÂç≥ÂàõÂª∫ËØ•ÂèòÈáè„ÄÇ</li>
<li>Lua ÂèòÈáèÊúâ‰∏âÁßçÁ±ªÂûãÔºöÂÖ®Â±ÄÂèòÈáè„ÄÅÂ±ÄÈÉ®ÂèòÈáè„ÄÅË°®‰∏≠ÁöÑÂüü„ÄÇ
<ul>
<li>Lua ‰∏≠ÁöÑ<strong>ÂèòÈáèÂÖ®ÊòØÂÖ®Â±ÄÂèòÈáè</strong>ÔºåÂì™ÊÄïÊòØËØ≠Âè•ÂùóÊàñÊòØÂáΩÊï∞ÈáåÔºåÈô§Èùû<strong>Áî® local ÊòæÂºèÂ£∞Êòé‰∏∫Â±ÄÈÉ®ÂèòÈáè</strong>„ÄÇ</li>
<li><strong>Â±ÄÈÉ®ÂèòÈáèÁöÑ‰ΩúÁî®Âüü</strong>‰∏∫‰ªéÂ£∞Êòé‰ΩçÁΩÆÂºÄÂßãÂà∞ÊâÄÂú®ËØ≠Âè•ÂùóÁªìÊùü„ÄÇ</li>
</ul>
</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- test.lua Êñá‰ª∂ËÑöÊú¨</span></span><br><span class="line">a = <span class="number">5</span>               <span class="comment">-- ÂÖ®Â±ÄÂèòÈáè</span></span><br><span class="line"><span class="keyword">local</span> b = <span class="number">5</span>         <span class="comment">-- Â±ÄÈÉ®ÂèòÈáè</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">joke</span><span class="params">()</span></span></span><br><span class="line">    c = <span class="number">5</span>           <span class="comment">-- ÂÖ®Â±ÄÂèòÈáè</span></span><br><span class="line">    <span class="keyword">local</span> d = <span class="number">6</span>     <span class="comment">-- Â±ÄÈÉ®ÂèòÈáè</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">joke()</span><br><span class="line"><span class="built_in">print</span>(c,d)          <span class="comment">--&gt; 5 nil</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span> </span><br><span class="line">    <span class="keyword">local</span> a = <span class="number">6</span>     <span class="comment">-- Â±ÄÈÉ®ÂèòÈáè</span></span><br><span class="line">    b = <span class="number">6</span>           <span class="comment">-- ÂØπÂ±ÄÈÉ®ÂèòÈáèÈáçÊñ∞ËµãÂÄº</span></span><br><span class="line">    <span class="built_in">print</span>(a,b);     <span class="comment">--&gt; 6 6</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(a,b)      <span class="comment">--&gt; 5 6</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>ÂèòÈáèÁöÑÈªòËÆ§ÂÄºÂùá‰∏∫ nil</li>
</ol>
<h3 id="5.2-%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5" tabindex="-1">5.2 ËµãÂÄºËØ≠Âè•</h3>
<ol>
<li>ËµãÂÄºÊòØÊîπÂèò‰∏Ä‰∏™ÂèòÈáèÁöÑÂÄºÂíåÊîπÂèòË°®ÂüüÁöÑÊúÄÂü∫Êú¨ÁöÑÊñπÊ≥ï„ÄÇ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="string">&quot;hello&quot;</span> .. <span class="string">&quot;world&quot;</span></span><br><span class="line">t.n = t.n + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Lua ÂèØ‰ª•ÂØπ<strong>Â§ö‰∏™ÂèòÈáèÂêåÊó∂ËµãÂÄº</strong>ÔºåÂèòÈáèÂàóË°®ÂíåÂÄºÂàóË°®ÁöÑÂêÑ‰∏™ÂÖÉÁ¥†Áî®ÈÄóÂè∑ÂàÜÂºÄÔºå<strong>ËµãÂÄºËØ≠Âè•Âè≥ËæπÁöÑÂÄº‰ºö‰æùÊ¨°ËµãÁªôÂ∑¶ËæπÁöÑÂèòÈáè</strong>„ÄÇ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a, b = <span class="number">10</span>, <span class="number">2</span>*x       &lt;<span class="comment">--&gt;       a=10; b=2*x</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>ÈÅáÂà∞ËµãÂÄºËØ≠Âè•<strong>Lua‰ºöÂÖàËÆ°ÁÆóÂè≥ËæπÊâÄÊúâÁöÑÂÄºÁÑ∂ÂêéÂÜçÊâßË°åËµãÂÄºÊìç‰Ωú</strong>ÔºåÊâÄ‰ª•Êàë‰ª¨ÂèØ‰ª•<strong>ËøôÊ†∑ËøõË°å‰∫§Êç¢ÂèòÈáèÁöÑÂÄºÔºö</strong>(‚≠ê)</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x, y = y, x                     <span class="comment">-- swap &#x27;x&#x27; for &#x27;y&#x27;</span></span><br><span class="line">a[i], a[j] = a[j], a[i]         <span class="comment">-- swap &#x27;a[i]&#x27; for &#x27;a[j]&#x27;</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li>ÂΩìÂèòÈáè‰∏™Êï∞ÂíåÂÄºÁöÑ‰∏™Êï∞‰∏ç‰∏ÄËá¥Êó∂ÔºåLua‰ºö‰∏ÄÁõ¥‰ª•ÂèòÈáè‰∏™Êï∞‰∏∫Âü∫Á°ÄÈááÂèñ‰ª•‰∏ãÁ≠ñÁï•Ôºö
<ul>
<li>a. ÂèòÈáè‰∏™Êï∞ &gt; ÂÄºÁöÑ‰∏™Êï∞             ÊåâÂèòÈáè‰∏™Êï∞Ë°•Ë∂≥nil</li>
<li>b. ÂèòÈáè‰∏™Êï∞ &lt; ÂÄºÁöÑ‰∏™Êï∞             Â§ö‰ΩôÁöÑÂÄº‰ºöË¢´ÂøΩÁï•</li>
</ul>
</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a, b, c = <span class="number">0</span>, <span class="number">1</span></span><br><span class="line"><span class="built_in">print</span>(a,b,c)             <span class="comment">--&gt; 0   1   nil</span></span><br><span class="line"> </span><br><span class="line">a, b = a+<span class="number">1</span>, b+<span class="number">1</span>, b+<span class="number">2</span>     <span class="comment">-- value of b+2 is ignored</span></span><br><span class="line"><span class="built_in">print</span>(a,b)               <span class="comment">--&gt; 1   2</span></span><br><span class="line"> </span><br><span class="line">a, b, c = <span class="number">0</span></span><br><span class="line"><span class="built_in">print</span>(a,b,c)             <span class="comment">--&gt; 0   nil   nil</span></span><br></pre></td></tr></table></figure>
<ol start="5">
<li><strong>Â∫îËØ•Â∞ΩÂèØËÉΩÁöÑ‰ΩøÁî®Â±ÄÈÉ®ÂèòÈáèÔºåÊúâ‰∏§‰∏™Â•ΩÂ§ÑÔºö</strong>
<ul>
<li><strong>ÈÅøÂÖçÂëΩÂêçÂÜ≤Á™Å</strong>„ÄÇ</li>
<li>ËÆøÈóÆÂ±ÄÈÉ®ÂèòÈáèÁöÑ<strong>ÈÄüÂ∫¶</strong>ÊØîÂÖ®Â±ÄÂèòÈáè<strong>Êõ¥Âø´</strong>„ÄÇ</li>
</ul>
</li>
</ol>
<h3 id="5.3-%E7%B4%A2%E5%BC%95" tabindex="-1">5.3 Á¥¢Âºï</h3>
<ol>
<li>ÂØπ table ÁöÑÁ¥¢Âºï‰ΩøÁî®ÊñπÊã¨Âè∑ []„ÄÇLua ‰πüÊèê‰æõ‰∫Ü <strong>. Êìç‰Ωú</strong>„ÄÇ</li>
</ol>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">t[i]</span><br><span class="line">t.i                 -- ÂΩìÁ¥¢Âºï‰∏∫Â≠óÁ¨¶‰∏≤Á±ªÂûãÊó∂ÁöÑ‰∏ÄÁßçÁÆÄÂåñÂÜôÊ≥ï</span><br><span class="line">gettable<span class="emphasis">_event(t,i) -- ÈááÁî®Á¥¢ÂºïËÆøÈóÆÊú¨Ë¥®‰∏äÊòØ‰∏Ä‰∏™Á±ª‰ººËøôÊ†∑ÁöÑÂáΩÊï∞Ë∞ÉÁî®</span></span><br></pre></td></tr></table></figure>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt; site = &#123;&#125;</span><br><span class="line">&gt; site[<span class="string">&quot;key&quot;</span>] = <span class="string">&quot;www.runoob.com&quot;</span></span><br><span class="line">&gt; <span class="built_in">print</span>(site[<span class="string">&quot;key&quot;</span>])</span><br><span class="line">www.runoob.com</span><br><span class="line">&gt; <span class="built_in">print</span>(site.key)</span><br><span class="line">www.runoob.com</span><br></pre></td></tr></table></figure>
<h1 id="%E5%85%AD-%E5%BE%AA%E7%8E%AF" tabindex="-1">ÂÖ≠ Âæ™ÁéØ</h1>
<h3 id="6.1-%E5%BE%AA%E7%8E%AF%E6%96%B9%E5%BC%8F" tabindex="-1">6.1 Âæ™ÁéØÊñπÂºè</h3>
<ol>
<li>Lua ËØ≠Ë®ÄÊèê‰æõ‰∫Ü‰ª•‰∏ãÂá†ÁßçÂæ™ÁéØÂ§ÑÁêÜÊñπÂºèÔºö</li>
</ol>
<table>
<thead>
<tr>
<th>Âæ™ÁéØÁ±ªÂûã</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>while Âæ™ÁéØ</td>
<td>Âú®Êù°‰ª∂‰∏∫ true Êó∂ÔºåËÆ©Á®ãÂ∫èÈáçÂ§çÂú∞ÊâßË°åÊüê‰∫õËØ≠Âè•„ÄÇÊâßË°åËØ≠Âè•Ââç‰ºöÂÖàÊ£ÄÊü•Êù°‰ª∂ÊòØÂê¶‰∏∫ true„ÄÇ</td>
</tr>
<tr>
<td>for Âæ™ÁéØ</td>
<td>ÈáçÂ§çÊâßË°åÊåáÂÆöËØ≠Âè•ÔºåÈáçÂ§çÊ¨°Êï∞ÂèØÂú® for ËØ≠Âè•‰∏≠ÊéßÂà∂„ÄÇ</td>
</tr>
<tr>
<td>repeat‚Ä¶until</td>
<td>ÈáçÂ§çÊâßË°åÂæ™ÁéØÔºåÁõ¥Âà∞ ÊåáÂÆöÁöÑÊù°‰ª∂‰∏∫ÁúüÊó∂‰∏∫Ê≠¢</td>
</tr>
<tr>
<td>Âæ™ÁéØÂµåÂ•ó</td>
<td>ÂèØ‰ª•Âú®Âæ™ÁéØÂÜÖÂµåÂ•ó‰∏Ä‰∏™ÊàñÂ§ö‰∏™Âæ™ÁéØËØ≠Âè•Ôºàwhile do ‚Ä¶ end;for ‚Ä¶ do ‚Ä¶ end;repeat ‚Ä¶ until;Ôºâ</td>
</tr>
</tbody>
</table>
<h3 id="6.2-%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5" tabindex="-1">6.2 Âæ™ÁéØÊéßÂà∂ËØ≠Âè•</h3>
<ol>
<li>Lua ÊîØÊåÅ‰ª•‰∏ãÂæ™ÁéØÊéßÂà∂ËØ≠Âè•Ôºö</li>
</ol>
<table>
<thead>
<tr>
<th>ÊéßÂà∂ËØ≠Âè•</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>break ËØ≠Âè•</td>
<td>ÈÄÄÂá∫ÂΩìÂâçÂæ™ÁéØÊàñËØ≠Âè•ÔºåÂπ∂ÂºÄÂßãËÑöÊú¨ÊâßË°åÁ¥ßÊé•ÁùÄÁöÑËØ≠Âè•„ÄÇ</td>
</tr>
<tr>
<td>goto ËØ≠Âè•</td>
<td>Â∞ÜÁ®ãÂ∫èÁöÑÊéßÂà∂ÁÇπËΩ¨ÁßªÂà∞‰∏Ä‰∏™Ê†áÁ≠æÂ§Ñ„ÄÇ</td>
</tr>
</tbody>
</table>
<ol start="2">
<li>
<p>Lua‰∏çÊîØÊåÅcontinueÔºå‰ΩÜÂèØ‰ª•Áî®‰ª•‰∏ãÊñπÂºèÂÆûÁé∞continueÂäüËÉΩÔºö</p>
<ul>
<li>‰ΩøÁî®repeat untilÂÆûÁé∞</li>
</ul>
 <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i = <span class="number">10</span>, <span class="number">1</span>, <span class="number">-1</span> <span class="keyword">do</span></span><br><span class="line"><span class="keyword">repeat</span></span><br><span class="line">    <span class="keyword">if</span> i == <span class="number">5</span> <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;continue code here&quot;</span>)</span><br><span class="line">    <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">print</span>(i, <span class="string">&quot;loop code here&quot;</span>)</span><br><span class="line"><span class="keyword">until</span> <span class="literal">true</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ul>
<li>‰ΩøÁî®gotoÂÆûÁé∞</li>
</ul>
 <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>, <span class="number">3</span> <span class="keyword">do</span></span><br><span class="line">    <span class="keyword">if</span> i &lt;= <span class="number">2</span> <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">print</span>(i, <span class="string">&quot;yes continue&quot;</span>)</span><br><span class="line">        <span class="keyword">goto</span> continue</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="built_in">print</span>(i, <span class="string">&quot; no continue&quot;</span>)</span><br><span class="line">    ::continue::</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">[[i&#x27;m end]]</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ul>
<li>‰ΩøÁî®if elseÂÆûÁé∞</li>
</ul>
 <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>, <span class="number">3</span> <span class="keyword">do</span> </span><br><span class="line">    <span class="built_in">print</span>(i)   </span><br><span class="line">    <span class="keyword">if</span> i &lt;= <span class="number">2</span> <span class="keyword">then</span>     </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;continue the loop&quot;</span>)  </span><br><span class="line">    <span class="keyword">else</span>  </span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot; loop area&quot;</span>)   </span><br><span class="line"><span class="keyword">end</span>   </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;end of loop&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="6.3-%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF" tabindex="-1">6.3 Êó†ÈôêÂæ™ÁéØ</h3>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>( <span class="literal">true</span> )</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">   <span class="built_in">print</span>(<span class="string">&quot;Âæ™ÁéØÂ∞ÜÊ∞∏ËøúÊâßË°å‰∏ãÂéª&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h1 id="%E4%B8%83-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%EF%BC%88if-else%EF%BC%89" tabindex="-1">‰∏É ÊµÅÁ®ãÊéßÂà∂ Ôºàif elseÔºâ</h1>
<table>
<thead>
<tr>
<th>ËØ≠Âè•</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>if ËØ≠Âè•</td>
<td>if ËØ≠Âè• Áî±‰∏Ä‰∏™Â∏ÉÂ∞îË°®ËææÂºè‰Ωú‰∏∫Êù°‰ª∂Âà§Êñ≠ÔºåÂÖ∂ÂêéÁ¥ßË∑üÂÖ∂‰ªñËØ≠Âè•ÁªÑÊàê„ÄÇ</td>
</tr>
<tr>
<td>if‚Ä¶else</td>
<td>ËØ≠Âè•	if ËØ≠Âè• ÂèØ‰ª•‰∏é else ËØ≠Âè•Êê≠ÈÖç‰ΩøÁî®, Âú® if Êù°‰ª∂Ë°®ËææÂºè‰∏∫ false Êó∂ÊâßË°å else ËØ≠Âè•‰ª£Á†Å„ÄÇ</td>
</tr>
<tr>
<td>if ÂµåÂ•óËØ≠Âè•</td>
<td>‰Ω†ÂèØ‰ª•Âú®if Êàñ else if‰∏≠‰ΩøÁî®‰∏Ä‰∏™ÊàñÂ§ö‰∏™ if Êàñ else if ËØ≠Âè• „ÄÇ</td>
</tr>
</tbody>
</table>
<p>ÊéßÂà∂ÁªìÊûÑÁöÑÊù°‰ª∂Ë°®ËææÂºèÁªìÊûúÂèØ‰ª•ÊòØ‰ªª‰ΩïÂÄºÔºåLuaËÆ§‰∏∫falseÂíånil‰∏∫ÂÅáÔºåtrueÂíåÈùûnil‰∏∫Áúü„ÄÇ</p>
<p><strong>Ë¶ÅÊ≥®ÊÑèÁöÑÊòØLua‰∏≠ 0 ‰∏∫ trueÔºö</strong></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--[ 0 ‰∏∫ true ]</span></span><br><span class="line"><span class="keyword">if</span>(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;0 ‰∏∫ true&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h1 id="%E5%85%AB-%E5%87%BD%E6%95%B0" tabindex="-1">ÂÖ´ ÂáΩÊï∞</h1>
<h3 id="8.1-%E6%A6%82%E8%BF%B0" tabindex="-1">8.1 Ê¶ÇËø∞</h3>
<ol>
<li>
<p>Âú®Lua‰∏≠ÔºåÂáΩÊï∞ÊòØÂØπËØ≠Âè•ÂíåË°®ËææÂºèËøõË°åÊäΩË±°ÁöÑ‰∏ªË¶ÅÊñπÊ≥ï„ÄÇÊó¢ÂèØ‰ª•Áî®Êù•Â§ÑÁêÜ‰∏Ä‰∫õÁâπÊÆäÁöÑÂ∑•‰ΩúÔºå‰πüÂèØ‰ª•Áî®Êù•ËÆ°ÁÆó‰∏Ä‰∫õÂÄº„ÄÇ</p>
</li>
<li>
<p>Lua Êèê‰æõ‰∫Ü<strong>ËÆ∏Â§öÁöÑÂÜÖÂª∫ÂáΩÊï∞</strong>Ôºå‰Ω†ÂèØ‰ª•ÂæàÊñπ‰æøÁöÑÂú®Á®ãÂ∫è‰∏≠Ë∞ÉÁî®ÂÆÉ‰ª¨Ôºå<strong>Â¶Çprint()ÂáΩÊï∞</strong>ÂèØ‰ª•Â∞Ü‰º†ÂÖ•ÁöÑÂèÇÊï∞ÊâìÂç∞Âú®ÊéßÂà∂Âè∞‰∏ä„ÄÇ</p>
</li>
<li>
<p>Lua ÂáΩÊï∞‰∏ªË¶ÅÊúâ‰∏§ÁßçÁî®ÈÄîÔºö</p>
<ul>
<li>ÂÆåÊàêÊåáÂÆöÁöÑ‰ªªÂä°ÔºåËøôÁßçÊÉÖÂÜµ‰∏ãÂáΩÊï∞‰Ωú‰∏∫Ë∞ÉÁî®ËØ≠Âè•‰ΩøÁî®Ôºõ</li>
<li>ËÆ°ÁÆóÂπ∂ËøîÂõûÂÄºÔºåËøôÁßçÊÉÖÂÜµ‰∏ãÂáΩÊï∞‰Ωú‰∏∫ËµãÂÄºËØ≠Âè•ÁöÑË°®ËææÂºè‰ΩøÁî®„ÄÇ</li>
</ul>
</li>
</ol>
<h3 id="8.2-%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89" tabindex="-1">8.2 ÂáΩÊï∞ÁöÑÂÆö‰πâ</h3>
<ol>
<li>
<p>Lua ÁºñÁ®ãËØ≠Ë®ÄÂáΩÊï∞ÂÆö‰πâÊ†ºÂºèÂ¶Ç‰∏ãÔºö</p>
<p><font color="red">optional_function_scope</font> function <font color="green">function_name</font> ( <font color="blue">argument1, argument2, argument3‚Ä¶, argumentn</font>)<br>
<font color="pink">function_body</font><br>
return <font color="orange">result_params_comma_separated</font><br>
end</p>
</li>
<li>
<p>Ëß£Êûê</p>
</li>
</ol>
<ul>
<li>
<p><font color="red">optional_function_scope</font>: ËØ•ÂèÇÊï∞ÊòØÂèØÈÄâÁöÑÊåáÂÆöÂáΩÊï∞ÊòØÂÖ®Â±ÄÂáΩÊï∞ËøòÊòØÂ±ÄÈÉ®ÂáΩÊï∞ÔºåÊú™ËÆæÁΩÆËØ•ÂèÇÊï∞ÈªòËÆ§‰∏∫ÂÖ®Â±ÄÂáΩÊï∞ÔºåÂ¶ÇÊûú‰Ω†ÈúÄË¶ÅËÆæÁΩÆÂáΩÊï∞‰∏∫Â±ÄÈÉ®ÂáΩÊï∞ÈúÄË¶Å‰ΩøÁî®ÂÖ≥ÈîÆÂ≠ó local„ÄÇ</p>
</li>
<li>
<p><font color="green">function_name</font>: ÊåáÂÆöÂáΩÊï∞ÂêçÁß∞„ÄÇ</p>
</li>
<li>
<p><font color="blue">argument1, argument2, argument3‚Ä¶, argumentn</font>: ÂáΩÊï∞ÂèÇÊï∞ÔºåÂ§ö‰∏™ÂèÇÊï∞‰ª•ÈÄóÂè∑ÈöîÂºÄÔºåÂáΩÊï∞‰πüÂèØ‰ª•‰∏çÂ∏¶ÂèÇÊï∞„ÄÇ</p>
</li>
<li>
<p><font color="pink">function_body</font>: ÂáΩÊï∞‰ΩìÔºåÂáΩÊï∞‰∏≠ÈúÄË¶ÅÊâßË°åÁöÑ‰ª£Á†ÅËØ≠Âè•Âùó„ÄÇ</p>
</li>
<li>
<p><font color="orange">result_params_comma_separated</font>: ÂáΩÊï∞ËøîÂõûÂÄºÔºåLuaËØ≠Ë®ÄÂáΩÊï∞ÂèØ‰ª•ËøîÂõûÂ§ö‰∏™ÂÄºÔºåÊØè‰∏™ÂÄº‰ª•ÈÄóÂè∑ÈöîÂºÄ„ÄÇ</p>
</li>
</ul>
<ol start="3">
<li>
<p>ÂÆû‰æã</p>
<ul>
<li>ÂÆö‰πâÂáΩÊï∞ max()ÔºåÂèÇÊï∞‰∏∫ num1, num2ÔºåÁî®‰∫éÊØîËæÉ‰∏§ÂÄºÁöÑÂ§ßÂ∞èÔºåÂπ∂ËøîÂõûÊúÄÂ§ßÂÄº</li>
</ul>
 <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--[[ ÂáΩÊï∞ËøîÂõû‰∏§‰∏™ÂÄºÁöÑÊúÄÂ§ßÂÄº --]]</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">max</span><span class="params">(num1, num2)</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (num1 &gt; num2) <span class="keyword">then</span></span><br><span class="line">    result = num1;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    result = num2;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> result; </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- Ë∞ÉÁî®ÂáΩÊï∞</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;‰∏§ÂÄºÊØîËæÉÊúÄÂ§ßÂÄº‰∏∫ &quot;</span>,<span class="built_in">max</span>(<span class="number">10</span>,<span class="number">4</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;‰∏§ÂÄºÊØîËæÉÊúÄÂ§ßÂÄº‰∏∫ &quot;</span>,<span class="built_in">max</span>(<span class="number">5</span>,<span class="number">6</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li>Lua ‰∏≠Êàë‰ª¨ÂèØ‰ª•Â∞Ü<strong>ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞</strong>‰º†ÈÄíÁªôÂáΩÊï∞</li>
</ul>
 <figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">myprint = <span class="function"><span class="keyword">function</span><span class="params">(param)</span></span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ËøôÊòØÊâìÂç∞ÂáΩÊï∞ -   ##&quot;</span>,param,<span class="string">&quot;##&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">(num1,num2,functionPrint)</span></span></span><br><span class="line">result = num1 + num2</span><br><span class="line"><span class="comment">-- Ë∞ÉÁî®‰º†ÈÄíÁöÑÂáΩÊï∞ÂèÇÊï∞</span></span><br><span class="line">functionPrint(result)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">myprint(<span class="number">10</span>)</span><br><span class="line"><span class="comment">-- myprint ÂáΩÊï∞‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄí</span></span><br><span class="line">add(<span class="number">2</span>,<span class="number">5</span>,myprint)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="8.3-%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC" tabindex="-1">8.3 Â§öËøîÂõûÂÄº</h3>
<ol>
<li>LuaÂáΩÊï∞ÂèØ‰ª•ËøîÂõûÂ§ö‰∏™ÁªìÊûúÂÄºÔºåÊØîÂ¶Çstring.findÔºåÂÖ∂ËøîÂõûÂåπÈÖç‰∏≤&quot;ÂºÄÂßãÂíåÁªìÊùüÁöÑ‰∏ãÊ†á&quot;ÔºàÂ¶ÇÊûú‰∏çÂ≠òÂú®ÂåπÈÖç‰∏≤ËøîÂõûnilÔºâ„ÄÇ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; s, e = <span class="built_in">string</span>.<span class="built_in">find</span>(<span class="string">&quot;www.runoob.com&quot;</span>, <span class="string">&quot;runoob&quot;</span>) </span><br><span class="line">&gt; <span class="built_in">print</span>(s, e)</span><br><span class="line"><span class="number">5</span>    <span class="number">10</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>LuaÂáΩÊï∞‰∏≠ÔºåÂú®<strong>returnÂêéÂàóÂá∫Ë¶ÅËøîÂõûÁöÑÂÄº</strong>ÁöÑÂàóË°®Âç≥ÂèØËøîÂõûÂ§öÂÄºÔºàÊØîÂ¶ÇÁî®ÔºåÈöîÂºÄÔºâ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maximum</span> <span class="params">(a)</span></span></span><br><span class="line">    <span class="keyword">local</span> mi = <span class="number">1</span>             <span class="comment">-- ÊúÄÂ§ßÂÄºÁ¥¢Âºï</span></span><br><span class="line">    <span class="keyword">local</span> m = a[mi]          <span class="comment">-- ÊúÄÂ§ßÂÄº</span></span><br><span class="line">    <span class="keyword">for</span> i,val <span class="keyword">in</span> <span class="built_in">ipairs</span>(a) <span class="keyword">do</span></span><br><span class="line">       <span class="keyword">if</span> val &gt; m <span class="keyword">then</span></span><br><span class="line">           mi = i</span><br><span class="line">           m = val</span><br><span class="line">       <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> m, mi <span class="comment">--Â§öËøîÂõûÂÄº</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(maximum(&#123;<span class="number">8</span>,<span class="number">10</span>,<span class="number">23</span>,<span class="number">12</span>,<span class="number">5</span>&#125;))</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Ê≥®ÊÑè‰∏Ä‰∏ãÂ§öËøîÂõûÂÄºÁöÑÂáΩÊï∞Âú®ËµãÂÄºÊó∂ÁöÑÊÉÖÂÜµÔºå<strong>‰ªÖ‰ªÖÂè™ÊúâÊîæÂú®ÊâÄÊúâÈÄóÂè∑‰πãÂêéÁöÑÈÇ£‰∏™ÂáΩÊï∞‰ºöÊääËøîÂõûÂÄºÂ±ïÂºÄ</strong>„ÄÇ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">()</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>,<span class="number">0</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> b,c,d,e = add(),add()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(b) <span class="comment">-- 1</span></span><br><span class="line"><span class="built_in">print</span>(c) <span class="comment">-- 1</span></span><br><span class="line"><span class="built_in">print</span>(d) <span class="comment">-- 0</span></span><br><span class="line"><span class="built_in">print</span>(e) <span class="comment">-- nil</span></span><br></pre></td></tr></table></figure>
<h3 id="8.4-%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0" tabindex="-1">8.4 ÂèØÂèòÂèÇÊï∞</h3>
<ol>
<li>Lua ÂáΩÊï∞ÂèØ‰ª•Êé•ÂèóÂèØÂèòÊï∞ÁõÆÁöÑÂèÇÊï∞ÔºåÂíå C ËØ≠Ë®ÄÁ±ª‰ººÔºåÂú®<strong>ÂáΩÊï∞ÂèÇÊï∞ÂàóË°®‰∏≠‰ΩøÁî®‰∏âÁÇπ ‚Ä¶ Ë°®Á§∫</strong>ÂáΩÊï∞ÊúâÂèØÂèòÁöÑÂèÇÊï∞„ÄÇ (<strong>ÂèØÂèòÂèÇÊï∞ÈÄöËøáÂæ™ÁéØÈÅçÂéÜ‚Ä¶ËøõË°åËØªÂèñ</strong>)</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">(...)</span></span>  </span><br><span class="line"><span class="keyword">local</span> s = <span class="number">0</span>  </span><br><span class="line">  <span class="keyword">for</span> i, v <span class="keyword">in</span> <span class="built_in">ipairs</span>&#123;...&#125; <span class="keyword">do</span>   <span class="comment">--&gt; &#123;...&#125; Ë°®Á§∫‰∏Ä‰∏™Áî±ÊâÄÊúâÂèòÈïøÂèÇÊï∞ÊûÑÊàêÁöÑÊï∞ÁªÑ  </span></span><br><span class="line">    s = s + v  </span><br><span class="line">  <span class="keyword">end</span>  </span><br><span class="line">  <span class="keyword">return</span> s  </span><br><span class="line"><span class="keyword">end</span>  </span><br><span class="line"><span class="built_in">print</span>(add(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>))  <span class="comment">---&gt;25</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>ÈÄöËøá<strong>select(‚Äú#‚Äù,‚Ä¶)</strong> Êù•Ëé∑ÂèñÂèØÂèòÂèÇÊï∞ÁöÑÊï∞ÈáèÔºå<strong>ÈÅøÂÖç</strong>ÂèÇÊï∞‰∏≠Â≠òÂú® <strong>nilÁöÑÂÖÉÁ¥†</strong>ÂØºËá¥ÈïøÂ∫¶ËÆ°ÁÆóÂá∫Èîô</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">average</span><span class="params">(...)</span></span></span><br><span class="line">   result = <span class="number">0</span></span><br><span class="line">   <span class="keyword">local</span> <span class="built_in">arg</span>=&#123;...&#125;</span><br><span class="line">   <span class="keyword">for</span> i,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(<span class="built_in">arg</span>) <span class="keyword">do</span></span><br><span class="line">      result = result + v</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line">   <span class="built_in">print</span>(<span class="string">&quot;ÊÄªÂÖ±‰º†ÂÖ• &quot;</span> .. <span class="built_in">select</span>(<span class="string">&quot;#&quot;</span>,...) .. <span class="string">&quot; ‰∏™Êï∞&quot;</span>)</span><br><span class="line">   <span class="keyword">return</span> result/<span class="built_in">select</span>(<span class="string">&quot;#&quot;</span>,...)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Âπ≥ÂùáÂÄº‰∏∫&quot;</span>,average(<span class="number">10</span>,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>))</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>ÊúâÊó∂ÂÄôÊàë‰ª¨ÂèØËÉΩÈúÄË¶Å<strong>Âá†‰∏™Âõ∫ÂÆöÂèÇÊï∞Âä†‰∏äÂèØÂèòÂèÇÊï∞</strong>Ôºå<strong>Âõ∫ÂÆöÂèÇÊï∞ÂøÖÈ°ªÊîæÂú®ÂèòÈïøÂèÇÊï∞‰πãÂâç</strong>:</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fwrite</span><span class="params">(fmt, ...)</span></span>  <span class="comment">---&gt; Âõ∫ÂÆöÁöÑÂèÇÊï∞fmt</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">io</span>.<span class="built_in">write</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(fmt, ...))     </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">fwrite(<span class="string">&quot;runoob\n&quot;</span>)       <span class="comment">---&gt;fmt = &quot;runoob&quot;, Ê≤°ÊúâÂèòÈïøÂèÇÊï∞„ÄÇ  </span></span><br><span class="line">fwrite(<span class="string">&quot;%d%d\n&quot;</span>, <span class="number">1</span>, <span class="number">2</span>)   <span class="comment">---&gt;fmt = &quot;%d%d&quot;, ÂèòÈïøÂèÇÊï∞‰∏∫ 1 Âíå 2</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li>
<p>ÈÄöÂ∏∏Âú®ÈÅçÂéÜÂèòÈïøÂèÇÊï∞ÁöÑÊó∂ÂÄôÂè™ÈúÄË¶Å‰ΩøÁî® {‚Ä¶}ÔºåÁÑ∂ËÄå<strong>ÂèòÈïøÂèÇÊï∞ÂèØËÉΩ‰ºöÂåÖÂê´‰∏Ä‰∫õ nil</strong>ÔºåÈÇ£‰πàÂ∞±<strong>ÂèØ‰ª•Áî® select ÂáΩÊï∞Êù•ËÆøÈóÆÂèòÈïøÂèÇÊï∞</strong>‰∫ÜÔºöselect(‚Äò#‚Äô, ‚Ä¶) ÊàñËÄÖ select(n, ‚Ä¶)</p>
<ul>
<li><strong>select(‚Äò#‚Äô, ‚Ä¶) ËøîÂõûÂèØÂèòÂèÇÊï∞ÁöÑÈïøÂ∫¶</strong>„ÄÇ</li>
<li><strong>select(n, ‚Ä¶) Áî®‰∫éËøîÂõû‰ªéËµ∑ÁÇπ n ÂºÄÂßãÂà∞ÁªìÊùü‰ΩçÁΩÆÁöÑÊâÄÊúâÂèÇÊï∞ÂàóË°®ÔºåËøîÂõûÁöÑÊòØÂ§ö‰∏™ÂèÇÊï∞ÔºåËÄå‰∏çÊòØ‰∏Ä‰∏™table</strong>„ÄÇ</li>
</ul>
</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span><span class="params">(...)</span></span></span><br><span class="line">    a = <span class="built_in">select</span>(<span class="number">3</span>,...)  <span class="comment">--&gt;‰ªéÁ¨¨‰∏â‰∏™‰ΩçÁΩÆÂºÄÂßãÔºåÂèòÈáè a ÂØπÂ∫îÂè≥ËæπÂèòÈáèÂàóË°®ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞</span></span><br><span class="line">    <span class="built_in">print</span> (a)</span><br><span class="line">    <span class="built_in">print</span> (<span class="built_in">select</span>(<span class="number">3</span>,...)) <span class="comment">--&gt;ÊâìÂç∞ÊâÄÊúâÂàóË°®ÂèÇÊï∞</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">f(<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>)</span><br><span class="line"><span class="comment">--ËæìÂá∫</span></span><br><span class="line"><span class="comment">--2</span></span><br><span class="line"><span class="comment">--2       3       4       5</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">do</span>  </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">(...)</span></span>  </span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span>, <span class="built_in">select</span>(<span class="string">&#x27;#&#x27;</span>, ...) <span class="keyword">do</span>  <span class="comment">--&gt;Ëé∑ÂèñÂèÇÊï∞ÊÄªÊï∞</span></span><br><span class="line">            <span class="keyword">local</span> <span class="built_in">arg</span> = <span class="built_in">select</span>(i, ...); <span class="comment">--&gt;ËØªÂèñÂèÇÊï∞Ôºåarg ÂØπÂ∫îÁöÑÊòØÂè≥ËæπÂèòÈáèÂàóË°®ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;arg&quot;</span>, <span class="built_in">arg</span>);  </span><br><span class="line">        <span class="keyword">end</span>  </span><br><span class="line">    <span class="keyword">end</span>  </span><br><span class="line">  </span><br><span class="line">    foo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);  </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">ËæìÂá∫</span></span><br><span class="line"><span class="comment">arg    1</span></span><br><span class="line"><span class="comment">arg    2</span></span><br><span class="line"><span class="comment">arg    3</span></span><br><span class="line"><span class="comment">arg    4</span></span><br><span class="line"><span class="comment">]]</span><span class="comment">--</span></span><br></pre></td></tr></table></figure>
<h1 id="%E4%B9%9D-%E8%BF%90%E7%AE%97%E7%AC%A6" tabindex="-1">‰πù ËøêÁÆóÁ¨¶</h1>
<h3 id="9.1-%E8%BF%90%E7%AE%97%E7%AC%A6%E7%B1%BB%E5%9E%8B" tabindex="-1">9.1 ËøêÁÆóÁ¨¶Á±ªÂûã</h3>
<ul>
<li>ÁÆóÊúØËøêÁÆóÁ¨¶</li>
<li>ÂÖ≥Á≥ªËøêÁÆóÁ¨¶</li>
<li>ÈÄªËæëËøêÁÆóÁ¨¶</li>
<li>ÂÖ∂‰ªñËøêÁÆóÁ¨¶</li>
</ul>
<h3 id="9.2-%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6" tabindex="-1">9.2 ÁÆóÊï∞ËøêÁÆóÁ¨¶</h3>
<ol>
<li>‰∏ãË°®ÂàóÂá∫‰∫Ü Lua ËØ≠Ë®Ä‰∏≠ÁöÑÂ∏∏Áî®ÁÆóÊúØËøêÁÆóÁ¨¶ÔºåËÆæÂÆö A ÁöÑÂÄº‰∏∫10ÔºåB ÁöÑÂÄº‰∏∫ 20Ôºö</li>
</ol>
<table>
<thead>
<tr>
<th>Êìç‰ΩúÁ¨¶</th>
<th>ÊèèËø∞</th>
<th>ÂÆû‰æã</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>Âä†Ê≥ï</td>
<td>A + B ËæìÂá∫ÁªìÊûú 30</td>
</tr>
<tr>
<td>-</td>
<td>ÂáèÊ≥ï</td>
<td>A - B ËæìÂá∫ÁªìÊûú -10</td>
</tr>
<tr>
<td>*</td>
<td>‰πòÊ≥ï</td>
<td>A * B ËæìÂá∫ÁªìÊûú 200</td>
</tr>
<tr>
<td>/</td>
<td>Èô§Ê≥ï</td>
<td>B / A ËæìÂá∫ÁªìÊûú 2</td>
</tr>
<tr>
<td>%</td>
<td>Âèñ‰Ωô</td>
<td>B % A ËæìÂá∫ÁªìÊûú 0</td>
</tr>
<tr>
<td>^</td>
<td>‰πòÂπÇ</td>
<td>A^2 ËæìÂá∫ÁªìÊûú 100</td>
</tr>
<tr>
<td>-</td>
<td>Ë¥üÂè∑</td>
<td>-A ËæìÂá∫ÁªìÊûú -10</td>
</tr>
<tr>
<td>//</td>
<td>Êï¥Èô§ËøêÁÆóÁ¨¶(&gt;=lua5.3)</td>
<td>5//2 ËæìÂá∫ÁªìÊûú 2</td>
</tr>
</tbody>
</table>
<ol start="2">
<li>Âú® lua ‰∏≠Ôºå/ Áî®‰ΩúÈô§Ê≥ïËøêÁÆóÔºåËÆ°ÁÆóÁªìÊûúÂåÖÂê´Â∞èÊï∞ÈÉ®ÂàÜÔºå<strong>// Áî®‰ΩúÊï¥Èô§ËøêÁÆóÔºåËÆ°ÁÆóÁªìÊûú‰∏çÂåÖÂê´Â∞èÊï∞ÈÉ®ÂàÜ</strong></li>
</ol>
<h3 id="9.3-%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6" tabindex="-1">9.3 ÂÖ≥Á≥ªËøêÁÆóÁ¨¶</h3>
<p>‰∏ãË°®ÂàóÂá∫‰∫Ü Lua ËØ≠Ë®Ä‰∏≠ÁöÑÂ∏∏Áî®ÂÖ≥Á≥ªËøêÁÆóÁ¨¶ÔºåËÆæÂÆö A ÁöÑÂÄº‰∏∫10ÔºåB ÁöÑÂÄº‰∏∫ 20Ôºö</p>
<table>
<thead>
<tr>
<th>Êìç‰ΩúÁ¨¶</th>
<th>ÊèèËø∞</th>
<th>ÂÆû‰æã</th>
</tr>
</thead>
<tbody>
<tr>
<td>==</td>
<td>Á≠â‰∫éÔºåÊ£ÄÊµã‰∏§‰∏™ÂÄºÊòØÂê¶Áõ∏Á≠âÔºåÁõ∏Á≠âËøîÂõû trueÔºåÂê¶ÂàôËøîÂõû false</td>
<td>(A == B) ‰∏∫ false„ÄÇ</td>
</tr>
<tr>
<td>~=</td>
<td>‰∏çÁ≠â‰∫éÔºåÊ£ÄÊµã‰∏§‰∏™ÂÄºÊòØÂê¶Áõ∏Á≠âÔºå‰∏çÁõ∏Á≠âËøîÂõû trueÔºåÂê¶ÂàôËøîÂõû false</td>
<td>(A ~= B) ‰∏∫ true„ÄÇ</td>
</tr>
<tr>
<td>&gt;</td>
<td>Â§ß‰∫éÔºåÂ¶ÇÊûúÂ∑¶ËæπÁöÑÂÄºÂ§ß‰∫éÂè≥ËæπÁöÑÂÄºÔºåËøîÂõû trueÔºåÂê¶ÂàôËøîÂõû false</td>
<td>(A &gt; B) ‰∏∫ false„ÄÇ</td>
</tr>
<tr>
<td>&lt;</td>
<td>Â∞è‰∫éÔºåÂ¶ÇÊûúÂ∑¶ËæπÁöÑÂÄºÂ§ß‰∫éÂè≥ËæπÁöÑÂÄºÔºåËøîÂõû falseÔºåÂê¶ÂàôËøîÂõû true</td>
<td>(A &lt; B) ‰∏∫ true„ÄÇ</td>
</tr>
<tr>
<td>&gt;=</td>
<td>Â§ß‰∫éÁ≠â‰∫éÔºåÂ¶ÇÊûúÂ∑¶ËæπÁöÑÂÄºÂ§ß‰∫éÁ≠â‰∫éÂè≥ËæπÁöÑÂÄºÔºåËøîÂõû trueÔºåÂê¶ÂàôËøîÂõû false</td>
<td>(A &gt;= B) ËøîÂõû false„ÄÇ</td>
</tr>
<tr>
<td>&lt;=</td>
<td>Â∞è‰∫éÁ≠â‰∫éÔºå Â¶ÇÊûúÂ∑¶ËæπÁöÑÂÄºÂ∞è‰∫éÁ≠â‰∫éÂè≥ËæπÁöÑÂÄºÔºåËøîÂõû trueÔºåÂê¶ÂàôËøîÂõû false</td>
<td>(A &lt;= B) ËøîÂõû true„ÄÇ</td>
</tr>
</tbody>
</table>
<h3 id="9.4-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6" tabindex="-1">9.4 ÈÄªËæëËøêÁÆóÁ¨¶</h3>
<p>‰∏ãË°®ÂàóÂá∫‰∫Ü Lua ËØ≠Ë®Ä‰∏≠ÁöÑÂ∏∏Áî®ÈÄªËæëËøêÁÆóÁ¨¶ÔºåËÆæÂÆö A ÁöÑÂÄº‰∏∫ trueÔºåB ÁöÑÂÄº‰∏∫ falseÔºö (<strong>luaÈÄªËæëËøêÁÆóÁ¨¶‰πüÂÖ∑ÊúâÁü≠Ë∑ØÁöÑÂäüËÉΩ</strong>)</p>
<table>
<thead>
<tr>
<th>Êìç‰ΩúÁ¨¶</th>
<th>ÊèèËø∞</th>
<th>ÂÆû‰æã</th>
</tr>
</thead>
<tbody>
<tr>
<td>and</td>
<td>ÈÄªËæë‰∏éÊìç‰ΩúÁ¨¶„ÄÇ Ëã• A ‰∏∫ falseÔºåÂàôËøîÂõû AÔºåÂê¶ÂàôËøîÂõû B„ÄÇ</td>
<td>(A and B) ‰∏∫ false„ÄÇ</td>
</tr>
<tr>
<td>or</td>
<td>ÈÄªËæëÊàñÊìç‰ΩúÁ¨¶„ÄÇ Ëã• A ‰∏∫ trueÔºåÂàôËøîÂõû AÔºåÂê¶ÂàôËøîÂõû B„ÄÇ</td>
<td>(A or B) ‰∏∫ true„ÄÇ</td>
</tr>
<tr>
<td>not</td>
<td>ÈÄªËæëÈùûÊìç‰ΩúÁ¨¶„ÄÇ‰∏éÈÄªËæëËøêÁÆóÁªìÊûúÁõ∏ÂèçÔºåÂ¶ÇÊûúÊù°‰ª∂‰∏∫ trueÔºåÈÄªËæëÈùû‰∏∫ false„ÄÇ</td>
<td>not(A and B) ‰∏∫ true„ÄÇ</td>
</tr>
</tbody>
</table>
<h3 id="9.5-%E5%85%B6%E4%BB%96%E8%BF%90%E7%AE%97%E7%AC%A6" tabindex="-1">9.5 ÂÖ∂‰ªñËøêÁÆóÁ¨¶</h3>
<p>‰∏ãË°®ÂàóÂá∫‰∫Ü Lua ËØ≠Ë®Ä‰∏≠ÁöÑËøûÊé•ËøêÁÆóÁ¨¶‰∏éËÆ°ÁÆóË°®ÊàñÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶ÁöÑËøêÁÆóÁ¨¶Ôºö</p>
<table>
<thead>
<tr>
<th>Êìç‰ΩúÁ¨¶</th>
<th>ÊèèËø∞</th>
<th>ÂÆû‰æã</th>
</tr>
</thead>
<tbody>
<tr>
<td>‚Ä¶</td>
<td>ËøûÊé•‰∏§‰∏™Â≠óÁ¨¶‰∏≤</td>
<td>a‚Ä¶b ÔºåÂÖ∂‰∏≠ a ‰∏∫ &quot;Hello &quot; Ôºå b ‰∏∫ ‚ÄúWorld‚Äù, ËæìÂá∫ÁªìÊûú‰∏∫ ‚ÄúHello World‚Äù„ÄÇ</td>
</tr>
<tr>
<td>#</td>
<td>‰∏ÄÂÖÉËøêÁÆóÁ¨¶ÔºåËøîÂõûÂ≠óÁ¨¶‰∏≤ÊàñË°®ÁöÑÈïøÂ∫¶„ÄÇ</td>
<td>#‚ÄúHello‚Äù ËøîÂõû 5</td>
</tr>
</tbody>
</table>
<h3 id="9.6-%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7" tabindex="-1">9.6 ËøêÁÆóÁ¨¶‰ºòÂÖàÁ∫ß</h3>
<ol>
<li>‰ªéÈ´òÂà∞‰ΩéÁöÑÈ°∫Â∫è</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">^</span><br><span class="line"><span class="keyword">not</span>    - (unary)</span><br><span class="line">*      /       %</span><br><span class="line">+      -</span><br><span class="line">..</span><br><span class="line">&lt;      &gt;      &lt;=     &gt;=     ~=     ==</span><br><span class="line"><span class="keyword">and</span></span><br><span class="line"><span class="keyword">or</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Èô§‰∫Ü ^ Âíå ‚Ä¶ Â§ñÊâÄÊúâÁöÑ‰∫åÂÖÉËøêÁÆóÁ¨¶ÈÉΩÊòØ<strong>Â∑¶ËøûÊé•</strong>ÁöÑ„ÄÇ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a+i &lt; b/<span class="number">2</span>+<span class="number">1</span>          &lt;<span class="comment">--&gt;       (a+i) &lt; ((b/2)+1)</span></span><br><span class="line"><span class="number">5</span>+x^<span class="number">2</span>*<span class="number">8</span>              &lt;<span class="comment">--&gt;       5+((x^2)*8)</span></span><br><span class="line">a &lt; y <span class="keyword">and</span> y &lt;= z     &lt;<span class="comment">--&gt;       (a &lt; y) and (y &lt;= z)</span></span><br><span class="line">-x^<span class="number">2</span>                 &lt;<span class="comment">--&gt;       -(x^2)</span></span><br><span class="line">x^y^z                &lt;<span class="comment">--&gt;       x^(y^z)</span></span><br></pre></td></tr></table></figure>
<h1 id="%E5%8D%81-%E5%AD%97%E7%AC%A6%E4%B8%B2" tabindex="-1">ÂçÅ Â≠óÁ¨¶‰∏≤</h1>
<h3 id="10.1-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E8%A1%A8%E7%A4%BA" tabindex="-1">10.1 Â≠óÁ¨¶‰∏≤ÁöÑË°®Á§∫</h3>
<ol>
<li>
<p>Â≠óÁ¨¶‰∏≤Êàñ‰∏≤(String)ÊòØÁî±Êï∞Â≠ó„ÄÅÂ≠óÊØç„ÄÅ‰∏ãÂàíÁ∫øÁªÑÊàêÁöÑ‰∏Ä‰∏≤Â≠óÁ¨¶„ÄÇ</p>
</li>
<li>
<p>Âú® Lua ‰∏≠ÔºåÂ≠óÁ¨¶‰∏≤ÊòØ‰∏ÄÁßçÂü∫Êú¨ÁöÑÊï∞ÊçÆÁ±ªÂûãÔºåÁî®‰∫éÂ≠òÂÇ®ÊñáÊú¨Êï∞ÊçÆ„ÄÇ</p>
</li>
<li>
<p>Lua ‰∏≠ÁöÑÂ≠óÁ¨¶‰∏≤ÂèØ‰ª•ÂåÖÂê´‰ªªÊÑèÂ≠óÁ¨¶ÔºåÂåÖÊã¨Â≠óÊØç„ÄÅÊï∞Â≠ó„ÄÅÁ¨¶Âè∑„ÄÅÁ©∫Ê†º‰ª•ÂèäÂÖ∂‰ªñÁâπÊÆäÂ≠óÁ¨¶„ÄÇ</p>
</li>
<li>
<p>Lua ËØ≠Ë®Ä‰∏≠Â≠óÁ¨¶‰∏≤ÂèØ‰ª•‰ΩøÁî®‰ª•‰∏ã‰∏âÁßçÊñπÂºèÊù•Ë°®Á§∫Ôºö</p>
<ul>
<li>ÂçïÂºïÂè∑Èó¥ÁöÑ‰∏Ä‰∏≤Â≠óÁ¨¶„ÄÇ</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> str1 = <span class="string">&#x27;This is a string.&#x27;</span></span><br><span class="line"><span class="keyword">local</span> str2 = <span class="string">&quot;This is also a string.&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>ÂèåÂºïÂè∑Èó¥ÁöÑ‰∏Ä‰∏≤Â≠óÁ¨¶„ÄÇ</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> str = <span class="string">&quot;Hello, &quot;</span></span><br><span class="line"> str = str .. <span class="string">&quot;World!&quot;</span>  <span class="comment">-- ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂ≠óÁ¨¶‰∏≤Âπ∂Â∞ÜÂÖ∂ËµãÂÄºÁªôstr</span></span><br><span class="line"> <span class="built_in">print</span>(str)  <span class="comment">-- ËæìÂá∫ &quot;Hello, World!&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><strong>[[ ‰∏é ]] Èó¥ÁöÑ‰∏Ä‰∏≤Â≠óÁ¨¶</strong>„ÄÇ</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> multilineString = <span class="string">[[</span></span><br><span class="line"><span class="string"> This is a multiline string.</span></span><br><span class="line"><span class="string"> It can contain multiple lines of text.</span></span><br><span class="line"><span class="string"> No need for escape characters.</span></span><br><span class="line"><span class="string"> ]]</span></span><br><span class="line"></span><br><span class="line"> <span class="built_in">print</span>(multilineString)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="10.2-%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%E8%AE%A1%E7%AE%97" tabindex="-1">10.2 Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶ËÆ°ÁÆó</h3>
<ol>
<li>‰ΩøÁî® string.lenÂáΩÊï∞Êàñ utf8.len ÂáΩÊï∞ÔºåÂåÖÂê´<strong>‰∏≠ÊñáÁöÑ‰∏ÄËà¨Áî® utf8.len</strong>Ôºåstring.len ÂáΩÊï∞Áî®‰∫éËÆ°ÁÆó<strong>Âè™ÂåÖÂê´ ASCII Â≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶</strong>„ÄÇ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> myString = <span class="string">&quot;Hello, ‰∏ñÁïå!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ËÆ°ÁÆóÂ≠óÁ¨¶‰∏≤ÁöÑÈïøÂ∫¶ÔºàÂ≠óÁ¨¶‰∏™Êï∞Ôºâ</span></span><br><span class="line"><span class="keyword">local</span> length1 = utf8.<span class="built_in">len</span>(myString)</span><br><span class="line"><span class="built_in">print</span>(length1) <span class="comment">-- ËæìÂá∫ 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- string.len ÂáΩÊï∞‰ºöÂØºËá¥ÁªìÊûú‰∏çÂáÜÁ°Æ</span></span><br><span class="line"><span class="keyword">local</span> length2 = <span class="built_in">string</span>.<span class="built_in">len</span>(myString)</span><br><span class="line"><span class="built_in">print</span>(length2) <span class="comment">-- ËæìÂá∫ 14</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li><strong>ËΩ¨‰πâÂ≠óÁ¨¶Áî®‰∫éË°®Á§∫‰∏çËÉΩÁõ¥Êé•ÊòæÁ§∫ÁöÑÂ≠óÁ¨¶</strong>ÔºåÊØîÂ¶ÇÂêéÈÄÄÈîÆÔºåÂõûËΩ¶ÈîÆÁ≠âÔºåÂ¶ÇÂú®Â≠óÁ¨¶‰∏≤ËΩ¨Êç¢ÂèåÂºïÂè∑ÂèØ‰ª•‰ΩøÁî® \</li>
<li>ÊâÄÊúâÁöÑËΩ¨‰πâÂ≠óÁ¨¶ÂíåÊâÄÂØπÂ∫îÁöÑÊÑè‰πâÔºö<br>
<img src="/2024/08/20/lua-lua%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6%E7%9A%84%E6%84%8F%E4%B9%89.png" alt="ËΩ¨‰πâÂ≠óÁ¨¶ÁöÑÊÑè‰πâ"></li>
</ol>
<h3 id="10.3-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%88%E5%87%BD%E6%95%B0%EF%BC%89" tabindex="-1">10.3 Â≠óÁ¨¶‰∏≤ÁöÑÊìç‰ΩúÔºàÂáΩÊï∞Ôºâ</h3>
<p>Lua Êèê‰æõ‰∫ÜÂæàÂ§öÁöÑÊñπÊ≥ïÊù•ÊîØÊåÅÂ≠óÁ¨¶‰∏≤ÁöÑÊìç‰ΩúÔºö</p>
<table>
<thead>
<tr>
<th>Â∫èÂè∑</th>
<th>ÊñπÊ≥ï &amp; Áî®ÈÄî</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>string.upper(argument)<br><strong>Â≠óÁ¨¶‰∏≤ÂÖ®ÈÉ®ËΩ¨‰∏∫Â§ßÂÜôÂ≠óÊØç</strong>„ÄÇ</td>
</tr>
<tr>
<td>2</td>
<td>string.lower(argument)<br><strong>Â≠óÁ¨¶‰∏≤ÂÖ®ÈÉ®ËΩ¨‰∏∫Â∞èÂÜôÂ≠óÊØç</strong>„ÄÇ</td>
</tr>
<tr>
<td>3</td>
<td>string.gsub(mainString,findString,replaceString,num)<br><strong>Âú®Â≠óÁ¨¶‰∏≤‰∏≠ÊõøÊç¢</strong>„ÄÇ <br>mainString ‰∏∫Ë¶ÅÊìç‰ΩúÁöÑÂ≠óÁ¨¶‰∏≤Ôºå findString ‰∏∫Ë¢´ÊõøÊç¢ÁöÑÂ≠óÁ¨¶ÔºåreplaceString Ë¶ÅÊõøÊç¢ÁöÑÂ≠óÁ¨¶Ôºånum ÊõøÊç¢Ê¨°Êï∞ÔºàÂèØ‰ª•ÂøΩÁï•ÔºåÂàôÂÖ®ÈÉ®ÊõøÊç¢ÔºâÔºåÂ¶ÇÔºö<br> &gt; string.gsub(‚Äúaaaa‚Äù,‚Äúa‚Äù,‚Äúz‚Äù,3);<br> zzza    3</td>
</tr>
<tr>
<td>4</td>
<td>string.find (str, substr, [init, [plain]])<br><strong>Âú®‰∏Ä‰∏™ÊåáÂÆöÁöÑÁõÆÊ†áÂ≠óÁ¨¶‰∏≤ str ‰∏≠ÊêúÁ¥¢ÊåáÂÆöÁöÑÂÜÖÂÆπ substr</strong>Ôºå<strong>Â¶ÇÊûúÊâæÂà∞‰∫Ü‰∏Ä‰∏™ÂåπÈÖçÁöÑÂ≠ê‰∏≤ÔºåÂ∞±‰ºöËøîÂõûËøô‰∏™Â≠ê‰∏≤ÁöÑËµ∑ÂßãÁ¥¢ÂºïÂíåÁªìÊùüÁ¥¢ÂºïÔºå‰∏çÂ≠òÂú®ÂàôËøîÂõû nil</strong>„ÄÇ<br>init ÊåáÂÆö‰∫ÜÊêúÁ¥¢ÁöÑËµ∑Âßã‰ΩçÁΩÆÔºåÈªòËÆ§‰∏∫ 1ÔºåÂèØ‰ª•‰∏Ä‰∏™Ë¥üÊï∞ÔºåË°®Á§∫‰ªéÂêéÂæÄÂâçÊï∞ÁöÑÂ≠óÁ¨¶‰∏™Êï∞„ÄÇ<br>plain Ë°®Á§∫ÊòØÂê¶‰ΩøÁî®ÁÆÄÂçïÊ®°ÂºèÔºåÈªòËÆ§‰∏∫ falseÔºåtrue Âè™ÂÅöÁÆÄÂçïÁöÑÊü•ÊâæÂ≠ê‰∏≤ÁöÑÊìç‰ΩúÔºåfalse Ë°®Á§∫‰ΩøÁî®‰ΩøÁî®Ê≠£ÂàôÊ®°ÂºèÂåπÈÖç„ÄÇ<br>‰ª•‰∏ãÂÆû‰æãÊü•ÊâæÂ≠óÁ¨¶‰∏≤ ‚ÄúLua‚Äù ÁöÑËµ∑ÂßãÁ¥¢ÂºïÂíåÁªìÊùüÁ¥¢Âºï‰ΩçÁΩÆÔºö<br> &gt; string.find(‚ÄúHello Lua user‚Äù, ‚ÄúLua‚Äù, 1) <br>7    9</td>
</tr>
<tr>
<td>5</td>
<td>string.reverse(arg)<br><strong>Â≠óÁ¨¶‰∏≤ÂèçËΩ¨</strong><br> &gt; string.reverse(‚ÄúLua‚Äù)<br>auL</td>
</tr>
<tr>
<td>6</td>
<td>string.format(‚Ä¶)<br>ËøîÂõû‰∏Ä‰∏™<strong>Á±ª‰ººprintfÁöÑÊ†ºÂºèÂåñÂ≠óÁ¨¶‰∏≤</strong><br>&gt; string.format(‚Äúthe value is:%d‚Äù,4)<br>the value is:4</td>
</tr>
<tr>
<td>7</td>
<td>string.char(arg) Âíå string.byte(arg[,int])<br>char <strong>Â∞ÜÊï¥ÂûãÊï∞Â≠óËΩ¨ÊàêÂ≠óÁ¨¶Âπ∂ËøûÊé•</strong>Ôºå <strong>byte ËΩ¨Êç¢Â≠óÁ¨¶‰∏∫Êï¥Êï∞ÂÄº(ÂèØ‰ª•ÊåáÂÆöÊüê‰∏™Â≠óÁ¨¶ÔºåÈªòËÆ§Á¨¨‰∏Ä‰∏™Â≠óÁ¨¶)</strong>„ÄÇ<br>&gt; string.char(97,98,99,100)<br>abcd<br>&gt; string.byte(‚ÄúABCD‚Äù,4)<br>68<br>&gt; string.byte(‚ÄúABCD‚Äù)<br>65<br>&gt;</td>
</tr>
<tr>
<td>8</td>
<td>string.len(arg)<br><strong>ËÆ°ÁÆóÂ≠óÁ¨¶‰∏≤ÈïøÂ∫¶</strong>„ÄÇ<br>string.len(‚Äúabc‚Äù)<br>3</td>
</tr>
<tr>
<td>9</td>
<td>string.rep(string, n)<br><strong>ËøîÂõûÂ≠óÁ¨¶‰∏≤stringÁöÑn‰∏™Êã∑Ë¥ù</strong><br>&gt; string.rep(‚Äúabcd‚Äù,2)<br>abcdabcd</td>
</tr>
<tr>
<td>10</td>
<td>‚Ä¶<br><strong>ÈìæÊé•‰∏§‰∏™Â≠óÁ¨¶‰∏≤</strong><br>&gt; print(‚Äúwww.runoob.‚Äù‚Ä¶‚Äúcom‚Äù)<br><a target="_blank" rel="noopener" href="http://www.runoob.com">www.runoob.com</a></td>
</tr>
<tr>
<td>11</td>
<td>string.gmatch(str, pattern)<br><strong>ËøîÂõû‰∏Ä‰∏™Ëø≠‰ª£Âô®ÂáΩÊï∞ÔºåÊØè‰∏ÄÊ¨°Ë∞ÉÁî®Ëøô‰∏™ÂáΩÊï∞ÔºåËøîÂõû‰∏Ä‰∏™Âú®Â≠óÁ¨¶‰∏≤ str ÊâæÂà∞ÁöÑ‰∏ã‰∏Ä‰∏™Á¨¶Âêà pattern ÊèèËø∞ÁöÑÂ≠ê‰∏≤</strong>„ÄÇÂ¶ÇÊûúÂèÇÊï∞ pattern ÊèèËø∞ÁöÑÂ≠óÁ¨¶‰∏≤Ê≤°ÊúâÊâæÂà∞ÔºåËø≠‰ª£ÂáΩÊï∞ËøîÂõûnil„ÄÇ<br>&gt; for word in string.gmatch(‚ÄúHello Lua user‚Äù, ‚Äú%a+‚Äù) do print(word) end<br>Hello<br>Lua<br>user<br></td>
</tr>
<tr>
<td>12</td>
<td>string.match(str, pattern, init)<br>string.match()<strong>Âè™ÂØªÊâæÊ∫êÂ≠ó‰∏≤str‰∏≠ÁöÑÁ¨¨‰∏Ä‰∏™ÈÖçÂØπ. ÂèÇÊï∞initÂèØÈÄâ, ÊåáÂÆöÊêúÂØªËøáÁ®ãÁöÑËµ∑ÁÇπ, ÈªòËÆ§‰∏∫1</strong>„ÄÇ<br>Âú®ÊàêÂäüÈÖçÂØπÊó∂, ÂáΩÊï∞Â∞ÜËøîÂõûÈÖçÂØπË°®ËææÂºè‰∏≠ÁöÑÊâÄÊúâÊçïËé∑ÁªìÊûú; Â¶ÇÊûúÊ≤°ÊúâËÆæÁΩÆÊçïËé∑Ê†áËÆ∞, ÂàôËøîÂõûÊï¥‰∏™ÈÖçÂØπÂ≠óÁ¨¶‰∏≤. ÂΩìÊ≤°ÊúâÊàêÂäüÁöÑÈÖçÂØπÊó∂, ËøîÂõûnil„ÄÇ<br>&gt; = string.match(‚ÄúI have 2 questions for you.‚Äù, ‚Äú%d+ %a+‚Äù)<br>2 questions<br>&gt; = string.format(‚Äú%d, %q‚Äù, string.match(‚ÄúI have 2 questions for you.‚Äù, ‚Äú(%d+) (%a+)‚Äù))<br>2, ‚Äúquestions‚Äù</td>
</tr>
</tbody>
</table>
<h3 id="10.4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96" tabindex="-1">10.4 Â≠óÁ¨¶‰∏≤Êà™Âèñ</h3>
<ol>
<li>Â≠óÁ¨¶‰∏≤Êà™Âèñ‰ΩøÁî® sub() ÊñπÊ≥ï„ÄÇ<strong>string.sub() Áî®‰∫éÊà™ÂèñÂ≠óÁ¨¶‰∏≤</strong>ÔºåÂéüÂûã‰∏∫Ôºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>.<span class="built_in">sub</span>(s, i [, j])</span><br></pre></td></tr></table></figure>
<p>ÂèÇÊï∞ËØ¥ÊòéÔºö</p>
<ul>
<li>sÔºöË¶ÅÊà™ÂèñÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ</li>
<li>iÔºöÊà™ÂèñÂºÄÂßã‰ΩçÁΩÆ„ÄÇ</li>
<li>jÔºöÊà™ÂèñÁªìÊùü‰ΩçÁΩÆÔºåÈªòËÆ§‰∏∫ -1ÔºåÊúÄÂêé‰∏Ä‰∏™Â≠óÁ¨¶„ÄÇ</li>
<li></li>
</ul>
<ol start="2">
<li>ÂÆû‰æã</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Â≠óÁ¨¶‰∏≤</span></span><br><span class="line"><span class="keyword">local</span> sourcestr = <span class="string">&quot;prefix--runoobgoogletaobao--suffix&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\nÂéüÂßãÂ≠óÁ¨¶‰∏≤&quot;</span>, <span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%q&quot;</span>, sourcestr))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Êà™ÂèñÈÉ®ÂàÜÔºåÁ¨¨4‰∏™Âà∞Á¨¨15‰∏™</span></span><br><span class="line"><span class="keyword">local</span> first_sub = <span class="built_in">string</span>.<span class="built_in">sub</span>(sourcestr, <span class="number">4</span>, <span class="number">15</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\nÁ¨¨‰∏ÄÊ¨°Êà™Âèñ&quot;</span>, <span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%q&quot;</span>, first_sub))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂèñÂ≠óÁ¨¶‰∏≤ÂâçÁºÄÔºåÁ¨¨1‰∏™Âà∞Á¨¨8‰∏™</span></span><br><span class="line"><span class="keyword">local</span> second_sub = <span class="built_in">string</span>.<span class="built_in">sub</span>(sourcestr, <span class="number">1</span>, <span class="number">8</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\nÁ¨¨‰∫åÊ¨°Êà™Âèñ&quot;</span>, <span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%q&quot;</span>, second_sub))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Êà™ÂèñÊúÄÂêé10‰∏™</span></span><br><span class="line"><span class="keyword">local</span> third_sub = <span class="built_in">string</span>.<span class="built_in">sub</span>(sourcestr, <span class="number">-10</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\nÁ¨¨‰∏âÊ¨°Êà™Âèñ&quot;</span>, <span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%q&quot;</span>, third_sub))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Á¥¢ÂºïË∂äÁïåÔºåËæìÂá∫ÂéüÂßãÂ≠óÁ¨¶‰∏≤</span></span><br><span class="line"><span class="keyword">local</span> fourth_sub = <span class="built_in">string</span>.<span class="built_in">sub</span>(sourcestr, <span class="number">-100</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;\nÁ¨¨ÂõõÊ¨°Êà™Âèñ&quot;</span>, <span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%q&quot;</span>, fourth_sub))</span><br></pre></td></tr></table></figure>
<h3 id="10.5-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%A7%E5%B0%8F%E5%86%99%E8%BD%AC%E6%8D%A2" tabindex="-1">10.5 Â≠óÁ¨¶‰∏≤Â§ßÂ∞èÂÜôËΩ¨Êç¢</h3>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string1 = <span class="string">&quot;Lua&quot;</span>;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">upper</span>(string1))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">lower</span>(string1))</span><br></pre></td></tr></table></figure>
<h3 id="10.6-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9F%A5%E6%89%BE%E4%B8%8E%E5%8F%8D%E8%BD%AC" tabindex="-1">10.6 Â≠óÁ¨¶‰∏≤Êü•Êâæ‰∏éÂèçËΩ¨</h3>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span> = <span class="string">&quot;Lua Tutorial&quot;</span></span><br><span class="line"><span class="comment">-- Êü•ÊâæÂ≠óÁ¨¶‰∏≤</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">find</span>(<span class="built_in">string</span>,<span class="string">&quot;Tutorial&quot;</span>))</span><br><span class="line">reversedString = <span class="built_in">string</span>.<span class="built_in">reverse</span>(<span class="built_in">string</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Êñ∞Â≠óÁ¨¶‰∏≤‰∏∫&quot;</span>,reversedString)</span><br></pre></td></tr></table></figure>
<h3 id="10.7-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96" tabindex="-1">10.7 Â≠óÁ¨¶‰∏≤Ê†ºÂºèÂåñ</h3>
<ol>
<li>Ê†ºÂºèÂ≠óÁ¨¶‰∏≤ÂèØËÉΩÂåÖÂê´‰ª•‰∏ãÁöÑËΩ¨‰πâÁ†Å:
<ul>
<li>%c - Êé•Âèó‰∏Ä‰∏™Êï∞Â≠ó, Âπ∂Â∞ÜÂÖ∂<strong>ËΩ¨Âåñ‰∏∫ASCIIÁ†ÅË°®‰∏≠ÂØπÂ∫îÁöÑÂ≠óÁ¨¶</strong></li>
<li>%d, %i - Êé•Âèó‰∏Ä‰∏™Êï∞Â≠óÂπ∂Â∞Ü<strong>ÂÖ∂ËΩ¨Âåñ‰∏∫ÊúâÁ¨¶Âè∑ÁöÑÊï¥Êï∞Ê†ºÂºè</strong></li>
<li>%o - Êé•Âèó‰∏Ä‰∏™Êï∞Â≠óÂπ∂Â∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫<strong>ÂÖ´ËøõÂà∂Êï∞Ê†ºÂºè</strong></li>
<li>%u - Êé•Âèó‰∏Ä‰∏™Êï∞Â≠óÂπ∂Â∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫<strong>Êó†Á¨¶Âè∑Êï¥Êï∞Ê†ºÂºè</strong></li>
<li>%x - Êé•Âèó‰∏Ä‰∏™Êï∞Â≠óÂπ∂Â∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫<strong>ÂçÅÂÖ≠ËøõÂà∂Êï∞Ê†ºÂºè, ‰ΩøÁî®Â∞èÂÜôÂ≠óÊØç</strong></li>
<li>%X - Êé•Âèó‰∏Ä‰∏™Êï∞Â≠óÂπ∂Â∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫<strong>ÂçÅÂÖ≠ËøõÂà∂Êï∞Ê†ºÂºè, ‰ΩøÁî®Â§ßÂÜôÂ≠óÊØç</strong></li>
<li>%e - Êé•Âèó‰∏Ä‰∏™Êï∞Â≠óÂπ∂Â∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫<strong>ÁßëÂ≠¶ËÆ∞Êï∞Ê≥ïÊ†ºÂºè, ‰ΩøÁî®Â∞èÂÜôÂ≠óÊØçe</strong></li>
<li>%E - Êé•Âèó‰∏Ä‰∏™Êï∞Â≠óÂπ∂Â∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫<strong>ÁßëÂ≠¶ËÆ∞Êï∞Ê≥ïÊ†ºÂºè, ‰ΩøÁî®Â§ßÂÜôÂ≠óÊØçE</strong></li>
<li>%f - Êé•Âèó‰∏Ä‰∏™Êï∞Â≠óÂπ∂Â∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫<strong>ÊµÆÁÇπÊï∞Ê†ºÂºè</strong></li>
<li>%g(%G) - Êé•Âèó‰∏Ä‰∏™Êï∞Â≠óÂπ∂Â∞ÜÂÖ∂ËΩ¨Âåñ<strong>‰∏∫%e(%E, ÂØπÂ∫î%G)Âèä%f‰∏≠ËæÉÁü≠ÁöÑ‰∏ÄÁßçÊ†ºÂºè</strong></li>
<li>%q - Êé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Âπ∂Â∞ÜÂÖ∂ËΩ¨Âåñ‰∏∫<strong>ÂèØÂÆâÂÖ®Ë¢´LuaÁºñËØëÂô®ËØªÂÖ•ÁöÑÊ†ºÂºè</strong></li>
<li>%s - Êé•Âèó‰∏Ä‰∏™Â≠óÁ¨¶‰∏≤Âπ∂<strong>ÊåâÁÖßÁªôÂÆöÁöÑÂèÇÊï∞Ê†ºÂºèÂåñËØ•Â≠óÁ¨¶‰∏≤</strong></li>
</ul>
</li>
<li>‰∏∫Ëøõ‰∏ÄÊ≠•ÁªÜÂåñÊ†ºÂºè, ÂèØ‰ª•Âú® <strong>%Âè∑ÂêéÊ∑ªÂä†ÂèÇÊï∞. ÂèÇÊï∞Â∞Ü‰ª•Â¶Ç‰∏ãÁöÑÈ°∫Â∫èËØªÂÖ•</strong> :<br>
(1) <strong>Á¨¶Âè∑</strong>: ‰∏Ä‰∏™+Âè∑Ë°®Á§∫ÂÖ∂ÂêéÁöÑÊï∞Â≠óËΩ¨‰πâÁ¨¶Â∞ÜËÆ©Ê≠£Êï∞ÊòæÁ§∫Ê≠£Âè∑. ÈªòËÆ§ÊÉÖÂÜµ‰∏ãÂè™ÊúâË¥üÊï∞ÊòæÁ§∫Á¨¶Âè∑.<br>
(2) <strong>Âç†‰ΩçÁ¨¶</strong>: ‰∏Ä‰∏™0, Âú®ÂêéÈù¢ÊåáÂÆö‰∫ÜÂ≠ó‰∏≤ÂÆΩÂ∫¶Êó∂Âç†‰ΩçÁî®. ‰∏çÂ°´Êó∂ÁöÑÈªòËÆ§Âç†‰ΩçÁ¨¶ÊòØÁ©∫Ê†º.<br>
(3) <strong>ÂØπÈΩêÊ†áËØÜ</strong>: Âú®ÊåáÂÆö‰∫ÜÂ≠ó‰∏≤ÂÆΩÂ∫¶Êó∂, ÈªòËÆ§‰∏∫Âè≥ÂØπÈΩê, Â¢ûÂä†-Âè∑ÂèØ‰ª•Êîπ‰∏∫Â∑¶ÂØπÈΩê.<br>
(4) <strong>ÂÆΩÂ∫¶Êï∞ÂÄº</strong><br>
(5) <strong>Â∞èÊï∞‰ΩçÊï∞/Â≠ó‰∏≤Ë£ÅÂàá</strong>: Âú®ÂÆΩÂ∫¶Êï∞ÂÄºÂêéÂ¢ûÂä†ÁöÑÂ∞èÊï∞ÈÉ®ÂàÜn, Ëã•ÂêéÊé•f(ÊµÆÁÇπÊï∞ËΩ¨‰πâÁ¨¶, Â¶Ç%6.3f)ÂàôËÆæÂÆöËØ•ÊµÆÁÇπÊï∞ÁöÑÂ∞èÊï∞Âè™‰øùÁïôn‰Ωç, Ëã•ÂêéÊé•s(Â≠óÁ¨¶‰∏≤ËΩ¨‰πâÁ¨¶, Â¶Ç%5.3s)ÂàôËÆæÂÆöËØ•Â≠óÁ¨¶‰∏≤Âè™ÊòæÁ§∫Ââçn‰Ωç.<strong>%5.3sË°®Á§∫ÂÆΩÂ∫¶‰∏∫5Ôºå‰∏î‰øùÁïô3‰ΩçÂ∞èÊï∞</strong></li>
<li>ÂÆû‰æã</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">string1 = <span class="string">&quot;Lua&quot;</span></span><br><span class="line">string2 = <span class="string">&quot;Tutorial&quot;</span></span><br><span class="line">number1 = <span class="number">10</span></span><br><span class="line">number2 = <span class="number">20</span></span><br><span class="line"><span class="comment">-- Âü∫Êú¨Â≠óÁ¨¶‰∏≤Ê†ºÂºèÂåñ</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;Âü∫Êú¨Ê†ºÂºèÂåñ %s %s&quot;</span>,string1,string2))</span><br><span class="line"><span class="comment">-- Êó•ÊúüÊ†ºÂºèÂåñ</span></span><br><span class="line"><span class="built_in">date</span> = <span class="number">2</span>; month = <span class="number">1</span>; year = <span class="number">2014</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;Êó•ÊúüÊ†ºÂºèÂåñ %02d/%02d/%04d&quot;</span>, <span class="built_in">date</span>, month, year))</span><br><span class="line"><span class="comment">-- ÂçÅËøõÂà∂Ê†ºÂºèÂåñ</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%.4f&quot;</span>,<span class="number">1</span>/<span class="number">3</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%c&quot;</span>, <span class="number">83</span>)                 <span class="comment">-- ËæìÂá∫S</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%+d&quot;</span>, <span class="number">17.0</span>)              <span class="comment">-- ËæìÂá∫+17</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%05d&quot;</span>, <span class="number">17</span>)               <span class="comment">-- ËæìÂá∫00017</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%o&quot;</span>, <span class="number">17</span>)                 <span class="comment">-- ËæìÂá∫21</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%u&quot;</span>, <span class="number">3.14</span>)               <span class="comment">-- ËæìÂá∫3</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%x&quot;</span>, <span class="number">13</span>)                 <span class="comment">-- ËæìÂá∫d</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%X&quot;</span>, <span class="number">13</span>)                 <span class="comment">-- ËæìÂá∫D</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%e&quot;</span>, <span class="number">1000</span>)               <span class="comment">-- ËæìÂá∫1.000000e+03</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%E&quot;</span>, <span class="number">1000</span>)               <span class="comment">-- ËæìÂá∫1.000000E+03</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%6.3f&quot;</span>, <span class="number">13</span>)              <span class="comment">-- ËæìÂá∫13.000</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%q&quot;</span>, <span class="string">&quot;One\nTwo&quot;</span>)         <span class="comment">-- ËæìÂá∫&quot;One\</span></span><br><span class="line">                                        <span class="comment">-- „ÄÄ„ÄÄTwo&quot;</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%s&quot;</span>, <span class="string">&quot;monkey&quot;</span>)           <span class="comment">-- ËæìÂá∫monkey</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%10s&quot;</span>, <span class="string">&quot;monkey&quot;</span>)         <span class="comment">-- ËæìÂá∫    monkey</span></span><br><span class="line"><span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%5.3s&quot;</span>, <span class="string">&quot;monkey&quot;</span>)        <span class="comment">-- ËæìÂá∫  mon</span></span><br></pre></td></tr></table></figure>
<h3 id="10.8-%E5%AD%97%E7%AC%A6%E4%B8%8E%E6%95%B4%E6%95%B0%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2" tabindex="-1">10.8 Â≠óÁ¨¶‰∏éÊï¥Êï∞Áõ∏‰∫íËΩ¨Êç¢</h3>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Â≠óÁ¨¶ËΩ¨Êç¢</span></span><br><span class="line"><span class="comment">-- ËΩ¨Êç¢Á¨¨‰∏Ä‰∏™Â≠óÁ¨¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="string">&quot;Lua&quot;</span>))</span><br><span class="line"><span class="comment">-- ËΩ¨Êç¢Á¨¨‰∏â‰∏™Â≠óÁ¨¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="string">&quot;Lua&quot;</span>,<span class="number">3</span>))</span><br><span class="line"><span class="comment">-- ËΩ¨Êç¢Êú´Â∞æÁ¨¨‰∏Ä‰∏™Â≠óÁ¨¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="string">&quot;Lua&quot;</span>,<span class="number">-1</span>))</span><br><span class="line"><span class="comment">-- Á¨¨‰∫å‰∏™Â≠óÁ¨¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="string">&quot;Lua&quot;</span>,<span class="number">2</span>))</span><br><span class="line"><span class="comment">-- ËΩ¨Êç¢Êú´Â∞æÁ¨¨‰∫å‰∏™Â≠óÁ¨¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">byte</span>(<span class="string">&quot;Lua&quot;</span>,<span class="number">-2</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Êï¥Êï∞ ASCII Á†ÅËΩ¨Êç¢‰∏∫Â≠óÁ¨¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">char</span>(<span class="number">97</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">76</span></span><br><span class="line"><span class="comment">97</span></span><br><span class="line"><span class="comment">97</span></span><br><span class="line"><span class="comment">117</span></span><br><span class="line"><span class="comment">117</span></span><br><span class="line"><span class="comment">a</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--]]</span></span><br></pre></td></tr></table></figure>
<h3 id="10.9-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9E%E6%8E%A5%E4%B8%8E%E5%A4%8D%E5%88%B6" tabindex="-1">10.9 Â≠óÁ¨¶‰∏≤ËøûÊé•‰∏éÂ§çÂà∂</h3>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">string1 = <span class="string">&quot;www.&quot;</span></span><br><span class="line">string2 = <span class="string">&quot;runoob&quot;</span></span><br><span class="line">string3 = <span class="string">&quot;.com&quot;</span></span><br><span class="line"><span class="comment">-- ‰ΩøÁî® .. ËøõË°åÂ≠óÁ¨¶‰∏≤ËøûÊé•</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ËøûÊé•Â≠óÁ¨¶‰∏≤&quot;</span>,string1..string2..string3)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶ &quot;</span>,<span class="built_in">string</span>.<span class="built_in">len</span>(string2))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Â≠óÁ¨¶‰∏≤Â§çÂà∂ 2 Ê¨°</span></span><br><span class="line">repeatedString = <span class="built_in">string</span>.<span class="built_in">rep</span>(string2,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">print</span>(repeatedString)</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">ËøûÊé•Â≠óÁ¨¶‰∏≤    www.runoob.com</span></span><br><span class="line"><span class="comment">Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶     6</span></span><br><span class="line"><span class="comment">runoobrunoob    </span></span><br><span class="line"><span class="comment">--]]</span></span><br></pre></td></tr></table></figure>
<h3 id="10.10-%E5%8C%B9%E9%85%8D%E6%A8%A1%E5%BC%8F" tabindex="-1">10.10 ÂåπÈÖçÊ®°Âºè</h3>
<ol>
<li>
<p>Lua ‰∏≠ÁöÑÂåπÈÖçÊ®°ÂºèÁõ¥Êé•Áî®Â∏∏ËßÑÁöÑÂ≠óÁ¨¶‰∏≤Êù•ÊèèËø∞„ÄÇ ÂÆÉÁî®‰∫éÊ®°ÂºèÂåπÈÖçÂáΩÊï∞ string.find, string.gmatch, string.gsub, string.match„ÄÇ‰Ω†<strong>ËøòÂèØ‰ª•Âú®Ê®°Âºè‰∏≤‰∏≠‰ΩøÁî®Â≠óÁ¨¶Á±ª</strong>„ÄÇ</p>
</li>
<li>
<p>Â≠óÁ¨¶Á±ª<strong>ÊåáÂèØ‰ª•ÂåπÈÖç‰∏Ä‰∏™ÁâπÂÆöÂ≠óÁ¨¶ÈõÜÂêàÂÜÖ‰ªª‰ΩïÂ≠óÁ¨¶ÁöÑÊ®°ÂºèÈ°π</strong>„ÄÇÊØîÂ¶ÇÔºå<strong>Â≠óÁ¨¶Á±ª %d ÂåπÈÖç‰ªªÊÑèÊï∞Â≠ó</strong>„ÄÇÊâÄ‰ª•‰Ω†ÂèØ‰ª•<strong>‰ΩøÁî®Ê®°Âºè‰∏≤ %d%d/%d%d/%d%d%d%d ÊêúÁ¥¢ dd/mm/yyyy Ê†ºÂºèÁöÑÊó•Êúü</strong>Ôºö</p>
</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;Deadline is 30/05/1999, firm&quot;</span></span><br><span class="line"><span class="built_in">date</span> = <span class="string">&quot;%d%d/%d%d/%d%d%d%d&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">sub</span>(s, <span class="built_in">string</span>.<span class="built_in">find</span>(s, <span class="built_in">date</span>)))    <span class="comment">--&gt; 30/05/1999</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>‰∏ãÈù¢ÁöÑË°®ÂàóÂá∫‰∫ÜLuaÊîØÊåÅÁöÑÊâÄÊúâÂ≠óÁ¨¶Á±ªÔºö<br>
Âçï‰∏™Â≠óÁ¨¶ <strong>(Èô§ ^$()%.[]*¬±? Â§ñ)</strong>: ‰∏éËØ•Â≠óÁ¨¶Ëá™Ë∫´ÈÖçÂØπ</li>
</ol>
<ul>
<li>.(ÁÇπ): ‰∏é‰ªª‰ΩïÂ≠óÁ¨¶ÈÖçÂØπ</li>
<li>%a: ‰∏é‰ªª‰ΩïÂ≠óÊØçÈÖçÂØπ</li>
<li>%c: ‰∏é‰ªª‰ΩïÊéßÂà∂Á¨¶ÈÖçÂØπ(‰æãÂ¶Ç\n)</li>
<li>%d: ‰∏é‰ªª‰ΩïÊï∞Â≠óÈÖçÂØπ</li>
<li>%l: ‰∏é‰ªª‰ΩïÂ∞èÂÜôÂ≠óÊØçÈÖçÂØπ</li>
<li>%p: ‰∏é‰ªª‰ΩïÊ†áÁÇπ(punctuation)ÈÖçÂØπ</li>
<li>%s: ‰∏éÁ©∫ÁôΩÂ≠óÁ¨¶ÈÖçÂØπ</li>
<li>%u: ‰∏é‰ªª‰ΩïÂ§ßÂÜôÂ≠óÊØçÈÖçÂØπ</li>
<li>%w: ‰∏é‰ªª‰ΩïÂ≠óÊØç/Êï∞Â≠óÈÖçÂØπ</li>
<li>%x: ‰∏é‰ªª‰ΩïÂçÅÂÖ≠ËøõÂà∂Êï∞ÈÖçÂØπ</li>
<li>%z: ‰∏é‰ªª‰Ωï‰ª£Ë°®0ÁöÑÂ≠óÁ¨¶ÈÖçÂØπ</li>
<li>%x(Ê≠§Â§ÑxÊòØÈùûÂ≠óÊØçÈùûÊï∞Â≠óÂ≠óÁ¨¶): ‰∏éÂ≠óÁ¨¶xÈÖçÂØπ. ‰∏ªË¶ÅÁî®Êù•Â§ÑÁêÜË°®ËææÂºè‰∏≠ÊúâÂäüËÉΩÁöÑÂ≠óÁ¨¶(^$()%.[]*¬±?)ÁöÑÈÖçÂØπÈóÆÈ¢ò, ‰æãÂ¶Ç%%‰∏é%ÈÖçÂØπ</li>
<li>[Êï∞‰∏™Â≠óÁ¨¶Á±ª]: ‰∏é‰ªª‰Ωï[]‰∏≠ÂåÖÂê´ÁöÑÂ≠óÁ¨¶Á±ªÈÖçÂØπ. ‰æãÂ¶Ç[%w_]‰∏é‰ªª‰ΩïÂ≠óÊØç/Êï∞Â≠ó, Êàñ‰∏ãÂàíÁ∫øÁ¨¶Âè∑(_)ÈÖçÂØπ</li>
<li>[^Êï∞‰∏™Â≠óÁ¨¶Á±ª]: ‰∏é‰ªª‰Ωï‰∏çÂåÖÂê´Âú®[]‰∏≠ÁöÑÂ≠óÁ¨¶Á±ªÈÖçÂØπ. ‰æãÂ¶Ç[^%s]‰∏é‰ªª‰ΩïÈùûÁ©∫ÁôΩÂ≠óÁ¨¶ÈÖçÂØπ</li>
</ul>
<p><strong>ÂΩì‰∏äËø∞ÁöÑÂ≠óÁ¨¶Á±ªÁî®Â§ßÂÜô‰π¶ÂÜôÊó∂, Ë°®Á§∫‰∏éÈùûÊ≠§Â≠óÁ¨¶Á±ªÁöÑ‰ªª‰ΩïÂ≠óÁ¨¶ÈÖçÂØπ. ‰æãÂ¶Ç, %SË°®Á§∫‰∏é‰ªª‰ΩïÈùûÁ©∫ÁôΩÂ≠óÁ¨¶ÈÖçÂØπ.‰æãÂ¶ÇÔºå'%A‚ÄôÈùûÂ≠óÊØçÁöÑÂ≠óÁ¨¶:</strong></p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="built_in">print</span>(<span class="built_in">string</span>.<span class="built_in">gsub</span>(<span class="string">&quot;hello, up-down!&quot;</span>, <span class="string">&quot;%A&quot;</span>, <span class="string">&quot;.&quot;</span>))</span><br><span class="line">hello..up.down.    <span class="number">4</span></span><br></pre></td></tr></table></figure>
<p><strong>Êï∞Â≠ó4‰∏çÊòØÂ≠óÁ¨¶‰∏≤ÁªìÊûúÁöÑ‰∏ÄÈÉ®ÂàÜÔºå‰ªñÊòØgsubËøîÂõûÁöÑÁ¨¨‰∫å‰∏™ÁªìÊûúÔºå‰ª£Ë°®ÂèëÁîüÊõøÊç¢ÁöÑÊ¨°Êï∞„ÄÇ</strong><br>
Âú®<strong>Ê®°ÂºèÂåπÈÖç‰∏≠Êúâ‰∏Ä‰∫õÁâπÊÆäÂ≠óÁ¨¶</strong>Ôºå‰ªñ‰ª¨ÊúâÁâπÊÆäÁöÑÊÑè‰πâÔºåLua‰∏≠ÁöÑÁâπÊÆäÂ≠óÁ¨¶Â¶Ç‰∏ãÔºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">( ) . % + - * ? [ ^ $</span><br></pre></td></tr></table></figure>
<p><strong>‚Äò%‚Äô Áî®‰ΩúÁâπÊÆäÂ≠óÁ¨¶ÁöÑËΩ¨‰πâÂ≠óÁ¨¶ÔºåÂõ†Ê≠§ ‚Äò%.‚Äô ÂåπÈÖçÁÇπÔºõ‚Äò%%‚Äô ÂåπÈÖçÂ≠óÁ¨¶ ‚Äò%‚Äô„ÄÇËΩ¨‰πâÂ≠óÁ¨¶ '%'‰∏ç‰ªÖÂèØ‰ª•Áî®Êù•ËΩ¨‰πâÁâπÊÆäÂ≠óÁ¨¶ÔºåËøòÂèØ‰ª•Áî®‰∫éÊâÄÊúâÁöÑÈùûÂ≠óÊØçÁöÑÂ≠óÁ¨¶„ÄÇ</strong></p>
<ol start="4">
<li>Ê®°ÂºèÊù°ÁõÆÂèØ‰ª•ÊòØÔºö</li>
</ol>
<ul>
<li>Âçï‰∏™Â≠óÁ¨¶Á±ªÂåπÈÖçËØ•Á±ªÂà´‰∏≠‰ªªÊÑèÂçï‰∏™Â≠óÁ¨¶Ôºõ</li>
<li>Âçï‰∏™Â≠óÁ¨¶Á±ªË∑ü‰∏Ä‰∏™ ‚Äò*‚ÄôÔºå Â∞ÜÂåπÈÖç<strong>Èõ∂ÊàñÂ§ö‰∏™ËØ•Á±ªÁöÑÂ≠ó</strong>Á¨¶„ÄÇ Ëøô‰∏™Êù°ÁõÆ<strong>ÊÄªÊòØÂåπÈÖçÂ∞ΩÂèØËÉΩÈïøÁöÑ‰∏≤</strong>Ôºõ</li>
<li>Âçï‰∏™Â≠óÁ¨¶Á±ªË∑ü‰∏Ä‰∏™ ‚Äò+‚ÄôÔºå Â∞ÜÂåπÈÖç<strong>‰∏ÄÊàñÊõ¥Â§ö‰∏™ËØ•Á±ªÁöÑÂ≠óÁ¨¶</strong>„ÄÇ Ëøô‰∏™Êù°ÁõÆÊÄªÊòØÂåπÈÖç<strong>Â∞ΩÂèØËÉΩÈïø</strong>ÁöÑ‰∏≤Ôºõ</li>
<li>Âçï‰∏™Â≠óÁ¨¶Á±ªË∑ü‰∏Ä‰∏™ ‚Äò-‚ÄôÔºå Â∞ÜÂåπÈÖç<strong>Èõ∂ÊàñÊõ¥Â§ö‰∏™ËØ•Á±ªÁöÑÂ≠óÁ¨¶</strong>„ÄÇ Âíå ‚Äò*‚Äô ‰∏çÂêåÔºå Ëøô‰∏™Êù°ÁõÆÊÄªÊòØÂåπÈÖç<strong>Â∞ΩÂèØËÉΩÁü≠</strong>ÁöÑ‰∏≤Ôºõ</li>
<li>Âçï‰∏™Â≠óÁ¨¶Á±ªË∑ü‰∏Ä‰∏™ ‚Äò?‚ÄôÔºå Â∞ÜÂåπÈÖç<strong>Èõ∂Êàñ‰∏Ä‰∏™ËØ•Á±ªÁöÑÂ≠óÁ¨¶</strong>„ÄÇ Âè™Ë¶ÅÊúâÂèØËÉΩÔºåÂÆÉ‰ºöÂåπÈÖç‰∏Ä‰∏™Ôºõ</li>
<li>%nÔºå ËøôÈáåÁöÑ n ÂèØ‰ª•‰ªé 1 Âà∞ 9Ôºõ Ëøô‰∏™Êù°ÁõÆÂåπÈÖç<strong>‰∏Ä‰∏™Á≠â‰∫é n Âè∑ÊçïËé∑Áâ©ÔºàÂêéÈù¢ÊúâÊèèËø∞ÔºâÁöÑÂ≠ê‰∏≤</strong>„ÄÇ</li>
<li>%bxyÔºå ËøôÈáåÁöÑ x Âíå y ÊòØ‰∏§‰∏™ÊòéÁ°ÆÁöÑÂ≠óÁ¨¶Ôºõ Ëøô‰∏™Êù°ÁõÆÂåπÈÖç‰ª• x ÂºÄÂßã y ÁªìÊùüÔºå ‰∏îÂÖ∂‰∏≠ x Âíå y ‰øùÊåÅ Âπ≥Ë°° ÁöÑÂ≠óÁ¨¶‰∏≤„ÄÇ ÊÑèÊÄùÊòØÔºåÂ¶ÇÊûú‰ªéÂ∑¶Âà∞Âè≥ËØªËøô‰∏™Â≠óÁ¨¶‰∏≤ÔºåÂØπÊØèÊ¨°ËØªÂà∞‰∏Ä‰∏™ x Â∞± +1 ÔºåËØªÂà∞‰∏Ä‰∏™ y Â∞± -1Ôºå ÊúÄÁªàÁªìÊùüÂ§ÑÁöÑÈÇ£‰∏™ y ÊòØÁ¨¨‰∏Ä‰∏™ËÆ∞Êï∞Âà∞ 0 ÁöÑ y„ÄÇ ‰∏æ‰∏™‰æãÂ≠êÔºåÊù°ÁõÆ %b() ÂèØ‰ª•ÂåπÈÖçÂà∞Êã¨Âè∑Âπ≥Ë°°ÁöÑË°®ËææÂºè„ÄÇ</li>
<li>%f[set]Ôºå Êåá ËæπÂ¢ÉÊ®°ÂºèÔºõ Ëøô‰∏™Êù°ÁõÆ‰ºöÂåπÈÖçÂà∞‰∏Ä‰∏™‰Ωç‰∫é set ÂÜÖÊüê‰∏™Â≠óÁ¨¶‰πãÂâçÁöÑ‰∏Ä‰∏™Á©∫‰∏≤Ôºå ‰∏îËøô‰∏™‰ΩçÁΩÆÁöÑÂâç‰∏Ä‰∏™Â≠óÁ¨¶‰∏çÂ±û‰∫é set „ÄÇ ÈõÜÂêà set ÁöÑÂê´‰πâÂ¶ÇÂâçÈù¢ÊâÄËø∞„ÄÇ ÂåπÈÖçÂá∫ÁöÑÈÇ£‰∏™Á©∫‰∏≤‰πãÂºÄÂßãÂíåÁªìÊùüÁÇπÁöÑËÆ°ÁÆóÂ∞±ÁúãÊàêËØ•Â§ÑÊúâ‰∏™Â≠óÁ¨¶ ‚Äò\0‚Äô ‰∏ÄÊ†∑„ÄÇ</li>
</ul>
<ol start="5">
<li>Ê®°ÂºèÔºö</li>
</ol>
<p>Ê®°Âºè Êåá‰∏Ä‰∏™Ê®°ÂºèÊù°ÁõÆÁöÑÂ∫èÂàó„ÄÇ <strong>Âú®Ê®°ÂºèÊúÄÂâçÈù¢Âä†‰∏äÁ¨¶Âè∑ ‚Äò^‚Äô Â∞ÜÈîöÂÆö‰ªéÂ≠óÁ¨¶‰∏≤ÁöÑÂºÄÂßãÂ§ÑÂÅöÂåπÈÖç</strong>„ÄÇ Âú®Ê®°ÂºèÊúÄÂêéÈù¢Âä†‰∏ä<strong>Á¨¶Âè∑‚Äô$'<strong>Â∞Ü‰ΩøÂåπÈÖçËøáÁ®ãÈîöÂÆöÂà∞</strong>Â≠óÁ¨¶‰∏≤ÁöÑÁªìÂ∞æ</strong>„ÄÇ<br>
Â¶ÇÊûú <strong>‚Äò^‚Äô Âíå ‚Äò$‚Äô Âá∫Áé∞Âú®ÂÖ∂ÂÆÉ‰ΩçÁΩÆ</strong>ÔºåÂÆÉ‰ª¨ÂùáÊ≤°ÊúâÁâπÊÆäÂê´‰πâÔºå<strong>Âè™Ë°®Á§∫Ëá™Ë∫´</strong>„ÄÇ</p>
<ol start="6">
<li>ÊçïËé∑Ôºö</li>
</ol>
<p><strong>Ê®°ÂºèÂèØ‰ª•Âú®ÂÜÖÈÉ®Áî®Â∞èÊã¨Âè∑Êã¨Ëµ∑‰∏Ä‰∏™Â≠êÊ®°Âºè</strong>Ôºõ Ëøô‰∫õÂ≠êÊ®°ÂºèË¢´<strong>Áß∞‰∏∫ ÊçïËé∑Áâ©</strong>„ÄÇ ÂΩìÂåπÈÖçÊàêÂäüÊó∂ÔºåÁî± ÊçïËé∑Áâ© ÂåπÈÖçÂà∞ÁöÑÂ≠óÁ¨¶‰∏≤‰∏≠ÁöÑÂ≠ê‰∏≤Ë¢´‰øùÂ≠òËµ∑Êù•Áî®‰∫éÊú™Êù•ÁöÑÁî®ÈÄî„ÄÇ ÊçïËé∑Áâ©‰ª•ÂÆÉ‰ª¨Â∑¶Êã¨Âè∑ÁöÑÊ¨°Â∫èÊù•ÁºñÂè∑„ÄÇ ‰æãÂ¶ÇÔºåÂØπ‰∫éÊ®°Âºè ‚Äú(a*(.)%w(%s*))‚Äù Ôºå Â≠óÁ¨¶‰∏≤‰∏≠ÂåπÈÖçÂà∞ ‚Äúa*(.)%w(%s*)‚Äù ÁöÑÈÉ®ÂàÜ‰øùÂ≠òÂú®Á¨¨‰∏Ä‰∏™ÊçïËé∑Áâ©‰∏≠ ÔºàÂõ†Ê≠§ÊòØÁºñÂè∑ 1 ÔºâÔºõ Áî± ‚Äú.‚Äù ÂåπÈÖçÂà∞ÁöÑÂ≠óÁ¨¶ÊòØ 2 Âè∑ÊçïËé∑Áâ©Ôºå ÂåπÈÖçÂà∞ ‚Äú%s*‚Äù ÁöÑÈÇ£ÈÉ®ÂàÜÊòØ 3 Âè∑„ÄÇ</p>
<p>‰Ωú‰∏∫‰∏Ä‰∏™Áâπ‰æãÔºå<strong>Á©∫ÁöÑÊçïËé∑ () Â∞ÜÊçïËé∑Âà∞ÂΩìÂâçÂ≠óÁ¨¶‰∏≤ÁöÑ‰ΩçÁΩÆÔºàÂÆÉÊòØ‰∏Ä‰∏™Êï∞Â≠óÔºâ</strong>„ÄÇ ‰æãÂ¶ÇÔºåÂ¶ÇÊûúÂ∞ÜÊ®°Âºè ‚Äú()aa()‚Äù ‰ΩúÁî®Âà∞Â≠óÁ¨¶‰∏≤ ‚Äúflaaap‚Äù ‰∏äÔºåÂ∞Ü‰∫ßÁîü‰∏§‰∏™ÊçïËé∑Áâ©Ôºö 3 Âíå 5 „ÄÇ</p>
<h1 id="%E5%8D%81%E4%B8%80-lua%E6%95%B0%E7%BB%84" tabindex="-1">ÂçÅ‰∏Ä LuaÊï∞ÁªÑ</h1>
<h3 id="11.1-%E6%A6%82%E8%BF%B0" tabindex="-1">11.1 Ê¶ÇËø∞</h3>
<ol>
<li>
<p>Êï∞ÁªÑÔºåÂ∞±ÊòØÁõ∏<strong>ÂêåÊï∞ÊçÆÁ±ªÂûãÁöÑÂÖÉÁ¥†Êåâ‰∏ÄÂÆöÈ°∫Â∫èÊéíÂàóÁöÑÈõÜÂêà</strong>ÔºåÂèØ‰ª•ÊòØ<strong>‰∏ÄÁª¥</strong>Êï∞ÁªÑÂíå<strong>Â§öÁª¥</strong>Êï∞ÁªÑ„ÄÇ</p>
</li>
<li>
<p>Âú®Lua‰∏≠ÔºåÊï∞ÁªÑ<strong>‰∏çÊòØ‰∏ÄÁßçÁâπÂÆöÁöÑÊï∞ÊçÆÁ±ªÂûã</strong>ÔºåËÄåÊòØ‰∏ÄÁßçÁî®Êù•<strong>Â≠òÂÇ®‰∏ÄÁªÑÂÄºÁöÑÊï∞ÊçÆÁªìÊûÑ</strong>„ÄÇ</p>
</li>
<li>
<p>ÂÆûÈôÖ‰∏äÔºå<strong>Lua ‰∏≠Âπ∂Ê≤°Êúâ‰∏ìÈó®ÁöÑÊï∞ÁªÑÁ±ªÂûã</strong>ÔºåËÄåÊòØ‰ΩøÁî®‰∏ÄÁßçË¢´Áß∞‰∏∫ <strong>‚Äútable‚Äù ÁöÑÊï∞ÊçÆÁªìÊûÑÊù•ÂÆûÁé∞Êï∞ÁªÑ</strong>ÁöÑÂäüËÉΩ„ÄÇ</p>
</li>
<li>
<p>Lua Êï∞ÁªÑÁöÑÁ¥¢ÂºïÈîÆÂÄºÂèØ‰ª•‰ΩøÁî®Êï¥Êï∞Ë°®Á§∫ÔºåÊï∞ÁªÑÁöÑÂ§ßÂ∞è‰∏çÊòØÂõ∫ÂÆöÁöÑ„ÄÇ</p>
</li>
<li>
<p>Âú® <strong>Lua Á¥¢ÂºïÂÄºÊòØ‰ª• 1 ‰∏∫Ëµ∑ÂßãÔºå‰ΩÜ‰Ω†‰πüÂèØ‰ª•ÊåáÂÆö 0 ÂºÄÂßã</strong>„ÄÇ</p>
</li>
</ol>
<h3 id="11.2-%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84" tabindex="-1">11.2 ‰∏ÄÁª¥Êï∞ÁªÑ</h3>
<ol>
<li>Á¥¢ÂºïËÆøÈóÆ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ÂàõÂª∫‰∏Ä‰∏™Êï∞ÁªÑ</span></span><br><span class="line"><span class="keyword">local</span> myArray = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ËÆøÈóÆÊï∞ÁªÑÂÖÉÁ¥†</span></span><br><span class="line"><span class="built_in">print</span>(myArray[<span class="number">1</span>])  <span class="comment">-- ËæìÂá∫ 10</span></span><br><span class="line"><span class="built_in">print</span>(myArray[<span class="number">3</span>])  <span class="comment">-- ËæìÂá∫ 30</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Ë¶ÅËÆ°ÁÆóÊï∞ÁªÑÁöÑÈïøÂ∫¶ÔºàÂç≥Êï∞ÁªÑ‰∏≠ÂÖÉÁ¥†ÁöÑ‰∏™Êï∞ÔºâÔºå‰Ω†ÂèØ‰ª•‰ΩøÁî® # Êìç‰ΩúÁ¨¶Ôºö(‰ΩÜÊ≥®ÊÑè Â¶ÇÊûúÂ≠òÂú®ËøûÁª≠‰∏§‰∏™nilÂ§πÂú®Êï∞ÁªÑ‰∏≠Èó¥Ôºå#Âè™‰ºöËÆ°ÁÆóÂâçÂçäÊà™ÁöÑÈïøÂ∫¶)</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> myArray = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ËÆ°ÁÆóÊï∞ÁªÑÈïøÂ∫¶</span></span><br><span class="line"><span class="keyword">local</span> length = #myArray</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(length) <span class="comment">-- ËæìÂá∫ 5</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>‰∏ÄÁª¥Êï∞ÁªÑÂèØ‰ª•Áî® for Âæ™ÁéØÂá∫Êï∞ÁªÑ‰∏≠ÁöÑÂÖÉÁ¥†</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ÂàõÂª∫‰∏Ä‰∏™Êï∞ÁªÑ</span></span><br><span class="line"><span class="keyword">local</span> myArray = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Âæ™ÁéØÈÅçÂéÜÊï∞ÁªÑ</span></span><br><span class="line"><span class="keyword">for</span> i = <span class="number">1</span>, #myArray <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(myArray[i])</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li>luaÁ¥¢ÂºïÈªòËÆ§‰ªé1ÂºÄÂßã</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">array = &#123;<span class="string">&quot;Lua&quot;</span>, <span class="string">&quot;Tutorial&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i= <span class="number">0</span>, <span class="number">2</span> <span class="keyword">do</span></span><br><span class="line">   <span class="built_in">print</span>(array[i])</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol start="5">
<li>Ê∑ªÂä†ÂÖÉÁ¥†</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ÂàõÂª∫‰∏Ä‰∏™Êï∞ÁªÑ</span></span><br><span class="line"><span class="keyword">local</span> myArray = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Ê∑ªÂä†Êñ∞ÂÖÉÁ¥†Âà∞Êï∞ÁªÑÊú´Â∞æ</span></span><br><span class="line">myArray[#myArray + <span class="number">1</span>] = <span class="number">60</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Âæ™ÁéØÈÅçÂéÜÊï∞ÁªÑ</span></span><br><span class="line"><span class="keyword">for</span> i = <span class="number">1</span>, #myArray <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(myArray[i])</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol start="6">
<li>Âà†Èô§ÂÖÉÁ¥†</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ÂàõÂª∫‰∏Ä‰∏™Êï∞ÁªÑ</span></span><br><span class="line"><span class="keyword">local</span> myArray = &#123;<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Âà†Èô§Á¨¨‰∏â‰∏™ÂÖÉÁ¥†</span></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">remove</span>(myArray, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Âæ™ÁéØÈÅçÂéÜÊï∞ÁªÑ</span></span><br><span class="line"><span class="keyword">for</span> i = <span class="number">1</span>, #myArray <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(myArray[i])</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h3 id="11.3-%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84" tabindex="-1">11.3 Â§öÁª¥Êï∞ÁªÑ</h3>
<ol>
<li>‰ª•‰∏ãÊòØ‰∏Ä‰∏™‰∏âË°å‰∏âÂàóÁöÑÈòµÂàóÂ§öÁª¥Êï∞ÁªÑÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ÂàùÂßãÂåñÊï∞ÁªÑ</span></span><br><span class="line">array = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,<span class="number">3</span> <span class="keyword">do</span></span><br><span class="line">   array[i] = &#123;&#125;</span><br><span class="line">      <span class="keyword">for</span> j=<span class="number">1</span>,<span class="number">3</span> <span class="keyword">do</span></span><br><span class="line">         array[i][j] = i*j</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ËÆøÈóÆÊï∞ÁªÑ</span></span><br><span class="line"><span class="keyword">for</span> i=<span class="number">1</span>,<span class="number">3</span> <span class="keyword">do</span></span><br><span class="line">   <span class="keyword">for</span> j=<span class="number">1</span>,<span class="number">3</span> <span class="keyword">do</span></span><br><span class="line">      <span class="built_in">print</span>(array[i][j])</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>‰∏çÂêåÁ¥¢ÂºïÈîÆÁöÑ‰∏âË°å‰∏âÂàóÈòµÂàóÂ§öÁª¥Êï∞ÁªÑÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ÂàùÂßãÂåñÊï∞ÁªÑ</span></span><br><span class="line">array = &#123;&#125;</span><br><span class="line">maxRows = <span class="number">3</span></span><br><span class="line">maxColumns = <span class="number">3</span></span><br><span class="line"><span class="keyword">for</span> row=<span class="number">1</span>,maxRows <span class="keyword">do</span></span><br><span class="line">   <span class="keyword">for</span> col=<span class="number">1</span>,maxColumns <span class="keyword">do</span></span><br><span class="line">      array[row*maxColumns +col] = row*col</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ËÆøÈóÆÊï∞ÁªÑ</span></span><br><span class="line"><span class="keyword">for</span> row=<span class="number">1</span>,maxRows <span class="keyword">do</span></span><br><span class="line">   <span class="keyword">for</span> col=<span class="number">1</span>,maxColumns <span class="keyword">do</span></span><br><span class="line">      <span class="built_in">print</span>(array[row*maxColumns +col])</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>Ê≠£Â¶Ç‰Ω†ÊâÄÁúãÂà∞ÁöÑÔºå‰ª•‰∏äÁöÑÂÆû‰æã‰∏≠Ôºå<strong>Êï∞ÁªÑËÆæÂÆö‰∫ÜÊåáÂÆöÁöÑÁ¥¢ÂºïÂÄºÔºåËøôÊ†∑ÂèØ‰ª•ÈÅøÂÖçÂá∫Áé∞ nil ÂÄºÔºåÊúâÂà©‰∫éËäÇÁúÅÂÜÖÂ≠òÁ©∫Èó¥</strong>„ÄÇ</p>
<h1 id="%E5%8D%81%E4%BA%8C-%E8%BF%AD%E4%BB%A3%E5%99%A8%EF%BC%88%E2%AD%90%EF%BC%89" tabindex="-1">ÂçÅ‰∫å Ëø≠‰ª£Âô®Ôºà‚≠êÔºâ</h1>
<h3 id="12.1-%E6%A6%82%E8%BF%B0" tabindex="-1">12.1 Ê¶ÇËø∞</h3>
<p>Ëø≠‰ª£Âô®ÔºàiteratorÔºâÊòØ‰∏ÄÁßçÂØπË±°ÔºåÂÆÉËÉΩÂ§ü<strong>Áî®Êù•ÈÅçÂéÜÊ†áÂáÜÊ®°ÊùøÂ∫ìÂÆπÂô®‰∏≠ÁöÑÈÉ®ÂàÜÊàñÂÖ®ÈÉ®ÂÖÉÁ¥†</strong>ÔºåÊØè‰∏™Ëø≠‰ª£Âô®ÂØπË±°‰ª£Ë°®ÂÆπÂô®‰∏≠ÁöÑÁ°ÆÂÆöÁöÑÂú∞ÂùÄ„ÄÇ</p>
<p>Âú® Lua ‰∏≠Ëø≠‰ª£Âô®ÊòØ‰∏ÄÁßçÊîØ<strong>ÊåÅÊåáÈíàÁ±ªÂûãÁöÑÁªìÊûÑ</strong>ÔºåÂÆÉÂèØ‰ª•ÈÅçÂéÜÈõÜÂêàÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†„ÄÇ</p>
<h3 id="12.2-%E6%B3%9B%E5%9E%8Bfor%E8%BF%AD%E4%BB%A3%E5%99%A8" tabindex="-1">12.2 Ê≥õÂûãforËø≠‰ª£Âô®</h3>
<ol>
<li><strong>Ê≥õÂûã for</strong> Âú®Ëá™Â∑±ÂÜÖÈÉ®‰øùÂ≠òËø≠‰ª£ÂáΩÊï∞ÔºåÂÆûÈôÖ‰∏äÂÆÉ‰øùÂ≠ò‰∏â‰∏™ÂÄºÔºö <strong>Ëø≠‰ª£ÂáΩÊï∞„ÄÅÁä∂ÊÄÅÂ∏∏Èáè„ÄÅÊéßÂà∂ÂèòÈáè</strong>„ÄÇÊ≥õÂûã for Ëø≠‰ª£Âô®<strong>Êèê‰æõ‰∫ÜÈõÜÂêàÁöÑ key/value</strong> ÂØπÔºåËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ãÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(t) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k, v)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>‰∏äÈù¢‰ª£Á†Å‰∏≠Ôºåk, v‰∏∫ÂèòÈáèÂàóË°®Ôºõpairs(t)‰∏∫Ë°®ËææÂºèÂàóË°®„ÄÇ</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">array = &#123;<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Runoob&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> key,value <span class="keyword">in</span> <span class="built_in">ipairs</span>(array) </span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">   <span class="built_in">print</span>(key, value)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>‰ª•‰∏äÂÆû‰æã‰∏≠Êàë‰ª¨‰ΩøÁî®‰∫Ü Lua ÈªòËÆ§Êèê‰æõÁöÑËø≠‰ª£ÂáΩÊï∞ ipairs„ÄÇ(<strong>Âª∫ËÆÆÊúÄÂ•ΩÈÉΩÁî®pairs</strong>ÔºåÂõ†‰∏∫ipairs‰∏çËÉΩÊâæÂà∞0Âíå0‰ª•‰∏ãÁöÑËá™ÂÆö‰πâÁ¥¢ÂºïÂÜÖÂÆπ,Â¶ÇÊûú‰ªé1ÂºÄÂßã Á¥¢ÂºïÈ°∫Â∫èÊñ≠‰∫Ü ÂêéÈù¢ÁöÑÂÜÖÂÆπ‰πüÊâæ‰∏çÂà∞)„ÄÇ</p>
<ol start="2">
<li>‰∏ãÈù¢Êàë‰ª¨ÁúãÁúã<strong>Ê≥õÂûã for ÁöÑÊâßË°åËøáÁ®ã</strong>Ôºö</li>
</ol>
<ul>
<li>È¶ñÂÖàÔºåÂàùÂßãÂåñÔºå<strong>ËÆ°ÁÆó in ÂêéÈù¢Ë°®ËææÂºèÁöÑÂÄºÔºåË°®ËææÂºèÂ∫îËØ•ËøîÂõûÊ≥õÂûã for ÈúÄË¶ÅÁöÑ‰∏â‰∏™ÂÄºÔºöËø≠‰ª£ÂáΩÊï∞„ÄÅÁä∂ÊÄÅÂ∏∏Èáè„ÄÅÊéßÂà∂ÂèòÈáè</strong>Ôºõ‰∏éÂ§öÂÄºËµãÂÄº‰∏ÄÊ†∑ÔºåÂ¶ÇÊûúË°®ËææÂºèËøîÂõûÁöÑÁªìÊûú‰∏™Êï∞‰∏çË∂≥‰∏â‰∏™‰ºöËá™Âä®Áî® nil Ë°•Ë∂≥ÔºåÂ§öÂá∫ÈÉ®ÂàÜ‰ºöË¢´ÂøΩÁï•„ÄÇ</li>
<li>Á¨¨‰∫åÔºåÂ∞Ü<strong>Áä∂ÊÄÅÂ∏∏ÈáèÂíåÊéßÂà∂ÂèòÈáè</strong>‰Ωú‰∏∫<strong>ÂèÇÊï∞Ë∞ÉÁî®Ëø≠‰ª£ÂáΩÊï∞</strong>ÔºàÊ≥®ÊÑèÔºöÂØπ‰∫é for ÁªìÊûÑÊù•ËØ¥Ôºå<strong>Áä∂ÊÄÅÂ∏∏Èáè</strong>Ê≤°ÊúâÁî®Â§ÑÔºå‰ªÖ‰ªÖ<strong>Âú®ÂàùÂßãÂåñÊó∂Ëé∑Âèñ‰ªñÁöÑÂÄºÂπ∂‰º†ÈÄíÁªôËø≠‰ª£ÂáΩÊï∞</strong>Ôºâ„ÄÇ</li>
<li>Á¨¨‰∏âÔºåÂ∞ÜËø≠<strong>‰ª£ÂáΩÊï∞ËøîÂõûÁöÑÂÄºËµãÁªôÂèòÈáèÂàóË°®</strong>„ÄÇ</li>
<li>Á¨¨ÂõõÔºåÂ¶ÇÊûú<strong>ËøîÂõûÁöÑÁ¨¨‰∏Ä‰∏™ÂÄº‰∏∫nilÂæ™ÁéØÁªìÊùü</strong>ÔºåÂê¶ÂàôÊâßË°åÂæ™ÁéØ‰Ωì„ÄÇ</li>
<li>Á¨¨‰∫îÔºåÂõûÂà∞<strong>Á¨¨‰∫åÊ≠•ÂÜçÊ¨°Ë∞ÉÁî®Ëø≠‰ª£ÂáΩÊï∞</strong></li>
</ul>
<ol start="3">
<li>Âú®Lua‰∏≠Êàë‰ª¨Â∏∏Â∏∏<strong>‰ΩøÁî®ÂáΩÊï∞Êù•ÊèèËø∞Ëø≠‰ª£Âô®</strong>Ôºå<strong>ÊØèÊ¨°Ë∞ÉÁî®ËØ•ÂáΩÊï∞Â∞±ËøîÂõûÈõÜÂêàÁöÑ‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†</strong>„ÄÇLua ÁöÑËø≠‰ª£Âô®ÂåÖÂê´‰ª•‰∏ã‰∏§ÁßçÁ±ªÂûãÔºö
<ul>
<li>Êó†Áä∂ÊÄÅÁöÑËø≠‰ª£Âô®</li>
<li>Â§öÁä∂ÊÄÅÁöÑËø≠‰ª£Âô®</li>
</ul>
</li>
</ol>
<h3 id="12.2-%E6%97%A0%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8" tabindex="-1">12.2 Êó†Áä∂ÊÄÅÁöÑËø≠‰ª£Âô®</h3>
<ol>
<li>Êó†Áä∂ÊÄÅÁöÑËø≠‰ª£Âô®ÊòØ<strong>Êåá‰∏ç‰øùÁïô‰ªª‰ΩïÁä∂ÊÄÅÁöÑËø≠‰ª£Âô®</strong>ÔºåÂõ†Ê≠§Âú®Âæ™ÁéØ‰∏≠Êàë‰ª¨ÂèØ‰ª•<strong>Âà©Áî®Êó†Áä∂ÊÄÅËø≠‰ª£Âô®ÈÅøÂÖçÂàõÂª∫Èó≠ÂåÖËä±Ë¥πÈ¢ùÂ§ñÁöÑ‰ª£‰ª∑</strong>„ÄÇ</li>
<li>ÊØè‰∏ÄÊ¨°Ëø≠‰ª£Ôºå<strong>Ëø≠‰ª£ÂáΩÊï∞ÈÉΩÊòØÁî®‰∏§‰∏™ÂèòÈáèÔºàÁä∂ÊÄÅÂ∏∏ÈáèÂíåÊéßÂà∂ÂèòÈáèÔºâÁöÑÂÄº‰Ωú‰∏∫ÂèÇÊï∞Ë¢´Ë∞ÉÁî®</strong>Ôºå‰∏Ä‰∏™<strong>Êó†Áä∂ÊÄÅÁöÑËø≠‰ª£Âô®Âè™Âà©Áî®Ëøô‰∏§‰∏™ÂÄº</strong>ÂèØ‰ª•<strong>Ëé∑Âèñ‰∏ã‰∏Ä‰∏™ÂÖÉÁ¥†</strong>„ÄÇ</li>
<li>ËøôÁßç<strong>Êó†Áä∂ÊÄÅËø≠‰ª£Âô®ÁöÑÂÖ∏ÂûãÁöÑÁÆÄÂçïÁöÑ‰æãÂ≠êÊòØ ipairs</strong>ÔºåÂÆÉ<strong>ÈÅçÂéÜÊï∞ÁªÑÁöÑÊØè‰∏Ä‰∏™ÂÖÉÁ¥†ÔºåÂÖÉÁ¥†ÁöÑÁ¥¢ÂºïÈúÄË¶ÅÊòØÊï∞ÂÄº</strong>„ÄÇ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">square</span><span class="params">(iteratorMaxCount,currentNumber)</span></span></span><br><span class="line">   <span class="keyword">if</span> currentNumber&lt;iteratorMaxCount</span><br><span class="line">   <span class="keyword">then</span></span><br><span class="line">      currentNumber = currentNumber+<span class="number">1</span></span><br><span class="line">   <span class="keyword">return</span> currentNumber, currentNumber*currentNumber</span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- square,3,0 Ëø≠‰ª£ÂáΩÊï∞„ÄÅÁä∂ÊÄÅÂ∏∏Èáè„ÄÅÊéßÂà∂ÂèòÈáè currentNumber==currentNumberÊó∂ ÂáΩÊï∞squareÂ∞±Ê≤°ÊúâËøîÂõûÂÄº‰∫Ü</span></span><br><span class="line"><span class="keyword">for</span> i,n <span class="keyword">in</span> square,<span class="number">3</span>,<span class="number">0</span> </span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">   <span class="built_in">print</span>(i,n)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li><strong>ipairsÁöÑÂÆûÁé∞Ôºà‚≠êÔºâ</strong><br>
<strong>Ëø≠‰ª£ÁöÑÁä∂ÊÄÅÂåÖÊã¨Ë¢´ÈÅçÂéÜÁöÑË°®ÔºàÂæ™ÁéØËøáÁ®ã‰∏≠‰∏ç‰ºöÊîπÂèòÁöÑÁä∂ÊÄÅÂ∏∏ÈáèÔºâÂíåÂΩìÂâçÁöÑÁ¥¢Âºï‰∏ãÊ†áÔºàÊéßÂà∂ÂèòÈáèÔºâ</strong>Ôºåipairs ÂíåËø≠‰ª£ÂáΩÊï∞ÈÉΩÂæàÁÆÄÂçïÔºåÊàë‰ª¨Âú® Lua ‰∏≠ÂèØ‰ª•ËøôÊ†∑ÂÆûÁé∞Ôºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">iter</span> <span class="params">(a, i)</span></span></span><br><span class="line">    i = i + <span class="number">1</span></span><br><span class="line">    <span class="keyword">local</span> v = a[i]</span><br><span class="line">    <span class="keyword">if</span> v <span class="keyword">then</span></span><br><span class="line">       <span class="keyword">return</span> i, v</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ipairs</span> <span class="params">(a)</span></span></span><br><span class="line">    <span class="keyword">return</span> iter, a, <span class="number">0</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p><strong>ÂΩì Lua Ë∞ÉÁî® ipairs(a) ÂºÄÂßãÂæ™ÁéØÊó∂Ôºå‰ªñËé∑Âèñ‰∏â‰∏™ÂÄºÔºöËø≠‰ª£ÂáΩÊï∞ iter„ÄÅÁä∂ÊÄÅÂ∏∏Èáè a„ÄÅÊéßÂà∂ÂèòÈáèÂàùÂßãÂÄº 0ÔºõÁÑ∂Âêé Lua Ë∞ÉÁî® iter(a,0) ËøîÂõû 1, a[1]ÔºàÈô§Èùû a[1]=nilÔºâÔºõÁ¨¨‰∫åÊ¨°Ëø≠‰ª£Ë∞ÉÁî® iter(a,1) ËøîÂõû 2, a[2]‚Ä¶‚Ä¶Áõ¥Âà∞Á¨¨‰∏Ä‰∏™ nil ÂÖÉÁ¥†„ÄÇ</strong></p>
<h3 id="12.3-%E5%A4%9A%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8" tabindex="-1">12.3 Â§öÁä∂ÊÄÅÁöÑËø≠‰ª£Âô®</h3>
<ol>
<li>ÂæàÂ§öÊÉÖÂÜµ‰∏ãÔºå<strong>Ëø≠‰ª£Âô®ÈúÄË¶Å‰øùÂ≠òÂ§ö‰∏™Áä∂ÊÄÅ‰ø°ÊÅØËÄå‰∏çÊòØÁÆÄÂçïÁöÑÁä∂ÊÄÅÂ∏∏ÈáèÂíåÊéßÂà∂ÂèòÈáè</strong>ÔºåÊúÄ<strong>ÁÆÄÂçïÁöÑÊñπÊ≥ïÊòØ‰ΩøÁî®Èó≠ÂåÖ</strong>Ôºå<strong>ËøòÊúâ‰∏ÄÁßçÊñπÊ≥ï</strong>Â∞±ÊòØÂ∞ÜÊâÄÊúâÁöÑÁä∂ÊÄÅ<strong>‰ø°ÊÅØÂ∞ÅË£ÖÂà∞ table ÂÜÖ</strong>ÔºåÂ∞Ü table <strong>‰Ωú‰∏∫Ëø≠‰ª£Âô®ÁöÑÁä∂ÊÄÅÂ∏∏Èáè</strong>ÔºåÂõ†‰∏∫ËøôÁßçÊÉÖÂÜµ‰∏ãÂèØ‰ª•Â∞ÜÊâÄÊúâÁöÑ‰ø°ÊÅØÂ≠òÊîæÂú® table ÂÜÖÔºå<strong>ÊâÄ‰ª•Ëø≠‰ª£ÂáΩÊï∞ÈÄöÂ∏∏‰∏çÈúÄË¶ÅÁ¨¨‰∫å‰∏™ÂèÇÊï∞</strong>„ÄÇ</li>
<li>ÂàõÂª∫Ëá™Â∑±ÁöÑËø≠‰ª£Âô®</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">array = &#123;<span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Runoob&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">elementIterator</span> <span class="params">(collection)</span></span></span><br><span class="line">   <span class="keyword">local</span> index = <span class="number">0</span></span><br><span class="line">   <span class="keyword">local</span> count = #collection</span><br><span class="line">   <span class="comment">-- Èó≠ÂåÖÂáΩÊï∞</span></span><br><span class="line">   <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">      index = index + <span class="number">1</span></span><br><span class="line">      <span class="keyword">if</span> index &lt;= count</span><br><span class="line">      <span class="keyword">then</span></span><br><span class="line">         <span class="comment">--  ËøîÂõûËø≠‰ª£Âô®ÁöÑÂΩìÂâçÂÖÉÁ¥†</span></span><br><span class="line">         <span class="keyword">return</span> collection[index]</span><br><span class="line">      <span class="keyword">end</span></span><br><span class="line">   <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> element <span class="keyword">in</span> elementIterator(array)</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">   <span class="built_in">print</span>(element)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">Google</span></span><br><span class="line"><span class="comment">Runoob    </span></span><br><span class="line"><span class="comment">--]]</span></span><br></pre></td></tr></table></figure>
<p>‰ª•‰∏äÂÆû‰æã‰∏≠Êàë‰ª¨ÂèØ‰ª•ÁúãÂà∞Ôºå<strong>elementIterator ÂÜÖ‰ΩøÁî®‰∫ÜÈó≠ÂåÖÂáΩÊï∞ÔºåÂÆûÁé∞ËÆ°ÁÆóÈõÜÂêàÂ§ßÂ∞èÂπ∂ËæìÂá∫ÂêÑ‰∏™ÂÖÉÁ¥†</strong>„ÄÇ</p>
<h1 id="%E5%8D%81%E4%B8%89-table%EF%BC%88%E8%A1%A8%EF%BC%89%EF%BC%88%E2%AD%90%EF%BC%89" tabindex="-1">ÂçÅ‰∏â tableÔºàË°®ÔºâÔºà‚≠êÔºâ</h1>
<h3 id="13.1-%E6%A6%82%E8%BF%B0" tabindex="-1">13.1 Ê¶ÇËø∞</h3>
<ol>
<li>
<p>table ÊòØ Lua ÁöÑ<strong>‰∏ÄÁßçÊï∞ÊçÆÁªìÊûÑÁî®Êù•Â∏ÆÂä©Êàë‰ª¨ÂàõÂª∫‰∏çÂêåÁöÑÊï∞ÊçÆÁ±ªÂûã</strong>ÔºåÂ¶ÇÔºö<strong>Êï∞ÁªÑ„ÄÅÂ≠óÂÖ∏</strong>Á≠â„ÄÇ</p>
</li>
<li>
<p>Lua table <strong>‰ΩøÁî®ÂÖ≥ËÅîÂûãÊï∞ÁªÑ</strong>Ôºå‰Ω†ÂèØ‰ª•<strong>Áî®‰ªªÊÑèÁ±ªÂûãÁöÑÂÄºÊù•‰ΩúÊï∞ÁªÑÁöÑÁ¥¢Âºï</strong>Ôºå‰ΩÜËøô‰∏™ÂÄº<strong>‰∏çËÉΩÊòØ nil</strong>„ÄÇ</p>
</li>
<li>
<p>Lua table ÊòØ<strong>‰∏çÂõ∫ÂÆöÂ§ßÂ∞èÁöÑ</strong>Ôºå‰Ω†ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÈúÄË¶ÅËøõË°åÊâ©ÂÆπ„ÄÇ</p>
</li>
<li>
<p>Lua‰πüÊòØ <strong>ÈÄöËøátableÊù•Ëß£ÂÜ≥Ê®°ÂùóÔºàmoduleÔºâ„ÄÅÂåÖÔºàpackageÔºâÂíåÂØπË±°ÔºàObjectÔºâ</strong> ÁöÑ„ÄÇ ‰æãÂ¶Çstring.formatË°®Á§∫‰ΩøÁî®&quot;format&quot;Êù•Á¥¢Âºïtable string„ÄÇ</p>
</li>
</ol>
<h3 id="13.2-%E8%A1%A8%EF%BC%88table%EF%BC%89%E7%9A%84%E6%9E%84%E9%80%A0" tabindex="-1">13.2 Ë°®ÔºàTableÔºâÁöÑÊûÑÈÄ†</h3>
<ol>
<li>ÊûÑÈÄ†Âô®ÊòØÂàõÂª∫ÂíåÂàùÂßãÂåñË°®ÁöÑË°®ËææÂºè„ÄÇË°®ÊòØLuaÁâπÊúâÁöÑÂäüËÉΩÂº∫Â§ßÁöÑ‰∏úË•ø„ÄÇ<strong>ÊúÄÁÆÄÂçïÁöÑÊûÑÈÄ†ÂáΩÊï∞ÊòØ{}</strong>ÔºåÁî®Êù•ÂàõÂª∫‰∏Ä‰∏™Á©∫Ë°®„ÄÇÂèØ‰ª•Áõ¥Êé•ÂàùÂßãÂåñÊï∞ÁªÑ:</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ÂàùÂßãÂåñË°®</span></span><br><span class="line">mytable = &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÊåáÂÆöÂÄº</span></span><br><span class="line">mytable[<span class="number">1</span>]= <span class="string">&quot;Lua&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÁßªÈô§ÂºïÁî®</span></span><br><span class="line">mytable = <span class="literal">nil</span></span><br><span class="line"><span class="comment">-- lua ÂûÉÂúæÂõûÊî∂‰ºöÈáäÊîæÂÜÖÂ≠ò</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>ÂΩìÊàë‰ª¨‰∏∫ <strong>table a Âπ∂ËÆæÁΩÆÂÖÉÁ¥†ÔºåÁÑ∂ÂêéÂ∞Ü a ËµãÂÄºÁªô bÔºåÂàô a ‰∏é b ÈÉΩÊåáÂêëÂêå‰∏Ä‰∏™ÂÜÖÂ≠ò</strong>„ÄÇÂ¶ÇÊûú <strong>a ËÆæÁΩÆ‰∏∫ nil ÔºåÂàô b ÂêåÊ†∑ËÉΩËÆøÈóÆ table ÁöÑÂÖÉÁ¥†</strong>„ÄÇÂ¶ÇÊûúÊ≤°ÊúâÊåáÂÆöÁöÑÂèòÈáèÊåáÂêëaÔºåLuaÁöÑÂûÉÂúæÂõûÊî∂Êú∫Âà∂‰ºöÊ∏ÖÁêÜÁõ∏ÂØπÂ∫îÁöÑÂÜÖÂ≠ò„ÄÇ<br>
‰ª•‰∏ãÂÆû‰æãÊºîÁ§∫‰∫Ü‰ª•‰∏äÁöÑÊèèËø∞ÊÉÖÂÜµÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ÁÆÄÂçïÁöÑ table</span></span><br><span class="line">mytable = &#123;&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mytable ÁöÑÁ±ªÂûãÊòØ &quot;</span>,<span class="built_in">type</span>(mytable))</span><br><span class="line"></span><br><span class="line">mytable[<span class="number">1</span>]= <span class="string">&quot;Lua&quot;</span></span><br><span class="line">mytable[<span class="string">&quot;wow&quot;</span>] = <span class="string">&quot;‰øÆÊîπÂâç&quot;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mytable Á¥¢Âºï‰∏∫ 1 ÁöÑÂÖÉÁ¥†ÊòØ &quot;</span>, mytable[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mytable Á¥¢Âºï‰∏∫ wow ÁöÑÂÖÉÁ¥†ÊòØ &quot;</span>, mytable[<span class="string">&quot;wow&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">-- alternatetableÂíåmytableÁöÑÊòØÊåáÂêå‰∏Ä‰∏™ table</span></span><br><span class="line">alternatetable = mytable</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;alternatetable Á¥¢Âºï‰∏∫ 1 ÁöÑÂÖÉÁ¥†ÊòØ &quot;</span>, alternatetable[<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;alternatetable Á¥¢Âºï‰∏∫ wow ÁöÑÂÖÉÁ¥†ÊòØ &quot;</span>, alternatetable[<span class="string">&quot;wow&quot;</span>])</span><br><span class="line"></span><br><span class="line">alternatetable[<span class="string">&quot;wow&quot;</span>] = <span class="string">&quot;‰øÆÊîπÂêé&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mytable Á¥¢Âºï‰∏∫ wow ÁöÑÂÖÉÁ¥†ÊòØ &quot;</span>, mytable[<span class="string">&quot;wow&quot;</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÈáäÊîæÂèòÈáè</span></span><br><span class="line">alternatetable = <span class="literal">nil</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;alternatetable ÊòØ &quot;</span>, alternatetable)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- mytable ‰ªçÁÑ∂ÂèØ‰ª•ËÆøÈóÆ</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mytable Á¥¢Âºï‰∏∫ wow ÁöÑÂÖÉÁ¥†ÊòØ &quot;</span>, mytable[<span class="string">&quot;wow&quot;</span>])</span><br><span class="line"></span><br><span class="line">mytable = <span class="literal">nil</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;mytable ÊòØ &quot;</span>, mytable)</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">mytable ÁöÑÁ±ªÂûãÊòØ        table</span></span><br><span class="line"><span class="comment">mytable Á¥¢Âºï‰∏∫ 1 ÁöÑÂÖÉÁ¥†ÊòØ       Lua</span></span><br><span class="line"><span class="comment">mytable Á¥¢Âºï‰∏∫ wow ÁöÑÂÖÉÁ¥†ÊòØ     ‰øÆÊîπÂâç</span></span><br><span class="line"><span class="comment">alternatetable Á¥¢Âºï‰∏∫ 1 ÁöÑÂÖÉÁ¥†ÊòØ        Lua</span></span><br><span class="line"><span class="comment">alternatetable Á¥¢Âºï‰∏∫ wow ÁöÑÂÖÉÁ¥†ÊòØ      ‰øÆÊîπÂâç</span></span><br><span class="line"><span class="comment">mytable Á¥¢Âºï‰∏∫ wow ÁöÑÂÖÉÁ¥†ÊòØ     ‰øÆÊîπÂêé</span></span><br><span class="line"><span class="comment">alternatetable ÊòØ       nil</span></span><br><span class="line"><span class="comment">mytable Á¥¢Âºï‰∏∫ wow ÁöÑÂÖÉÁ¥†ÊòØ     ‰øÆÊîπÂêé</span></span><br><span class="line"><span class="comment">mytable ÊòØ      nil</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    --]]</span></span><br></pre></td></tr></table></figure>
<h3 id="13.3-table%E6%93%8D%E4%BD%9C" tabindex="-1">13.3 TableÊìç‰Ωú</h3>
<ol>
<li>Â∏∏Áî®ÊñπÊ≥ï</li>
</ol>
<table>
<thead>
<tr>
<th>Â∫èÂè∑</th>
<th>ÊñπÊ≥ï &amp; Áî®ÈÄî</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><strong>table.concat (table [, sep [, start [, end]]])</strong><br>concatÊòØconcatenate(ËøûÈîÅ, ËøûÊé•)ÁöÑÁº©ÂÜô. table.concat()ÂáΩÊï∞ÂàóÂá∫ÂèÇÊï∞‰∏≠<strong>ÊåáÂÆötableÁöÑÊï∞ÁªÑÈÉ®ÂàÜ‰ªéstart‰ΩçÁΩÆÂà∞end‰ΩçÁΩÆÁöÑÊâÄÊúâÂÖÉÁ¥†, ÂÖÉÁ¥†Èó¥‰ª•ÊåáÂÆöÁöÑÂàÜÈöîÁ¨¶(sep)ÈöîÂºÄ</strong>„ÄÇ</td>
</tr>
<tr>
<td>2</td>
<td><strong>table.insert (table, [pos,] value)</strong><br>Âú®tableÁöÑÊï∞ÁªÑÈÉ®ÂàÜ<strong>ÊåáÂÆö‰ΩçÁΩÆ(pos)ÊèíÂÖ•ÂÄº‰∏∫valueÁöÑ‰∏Ä‰∏™ÂÖÉÁ¥†</strong>. posÂèÇÊï∞ÂèØÈÄâ, ÈªòËÆ§‰∏∫Êï∞ÁªÑÈÉ®ÂàÜÊú´Â∞æ.</td>
</tr>
<tr>
<td>3</td>
<td><strong>table.maxn (table)</strong><br>ÊåáÂÆötable‰∏≠<strong>ÊâÄÊúâÊ≠£Êï∞keyÂÄº‰∏≠ÊúÄÂ§ßÁöÑkeyÂÄº</strong>. Â¶ÇÊûú<strong>‰∏çÂ≠òÂú®</strong>keyÂÄº‰∏∫Ê≠£Êï∞ÁöÑÂÖÉÁ¥†, <strong>ÂàôËøîÂõû0</strong>„ÄÇ(<strong>Lua5.2‰πãÂêéËØ•ÊñπÊ≥ïÂ∑≤Áªè‰∏çÂ≠òÂú®‰∫Ü</strong>,Êú¨Êñá‰ΩøÁî®‰∫ÜËá™ÂÆö‰πâÂáΩÊï∞ÂÆûÁé∞)</td>
</tr>
<tr>
<td>4</td>
<td><strong>table.remove (table [, pos])</strong><br><strong>ËøîÂõûtableÊï∞ÁªÑÈÉ®ÂàÜ‰Ωç‰∫épos‰ΩçÁΩÆÁöÑÂÖÉÁ¥†</strong>. ÂÖ∂ÂêéÁöÑÂÖÉÁ¥†‰ºöË¢´ÂâçÁßª. <strong>posÂèÇÊï∞ÂèØÈÄâ, ÈªòËÆ§‰∏∫tableÈïøÂ∫¶, Âç≥‰ªéÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†Âà†Ëµ∑</strong>„ÄÇ</td>
</tr>
<tr>
<td>5</td>
<td><strong>table.sort (table [, comp])</strong><br>ÂØπÁªôÂÆöÁöÑtableËøõË°å<strong>ÂçáÂ∫èÊéíÂ∫è</strong>„ÄÇ</td>
</tr>
</tbody>
</table>
<ol start="2">
<li>TableËøûÊé•<br>
‰ΩøÁî® concat() ËæìÂá∫‰∏Ä‰∏™ÂàóË°®‰∏≠ÂÖÉÁ¥†ËøûÊé•ÊàêÁöÑÂ≠óÁ¨¶‰∏≤:</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">fruits = &#123;<span class="string">&quot;banana&quot;</span>,<span class="string">&quot;orange&quot;</span>,<span class="string">&quot;apple&quot;</span>&#125;</span><br><span class="line"><span class="comment">-- ËøîÂõû table ËøûÊé•ÂêéÁöÑÂ≠óÁ¨¶‰∏≤</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ËøûÊé•ÂêéÁöÑÂ≠óÁ¨¶‰∏≤ &quot;</span>,<span class="built_in">table</span>.<span class="built_in">concat</span>(fruits))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÊåáÂÆöËøûÊé•Â≠óÁ¨¶</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ËøûÊé•ÂêéÁöÑÂ≠óÁ¨¶‰∏≤ &quot;</span>,<span class="built_in">table</span>.<span class="built_in">concat</span>(fruits,<span class="string">&quot;, &quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÊåáÂÆöÁ¥¢ÂºïÊù•ËøûÊé• table</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ËøûÊé•ÂêéÁöÑÂ≠óÁ¨¶‰∏≤ &quot;</span>,<span class="built_in">table</span>.<span class="built_in">concat</span>(fruits,<span class="string">&quot;, &quot;</span>, <span class="number">2</span>,<span class="number">3</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">ËøûÊé•ÂêéÁöÑÂ≠óÁ¨¶‰∏≤     bananaorangeapple</span></span><br><span class="line"><span class="comment">ËøûÊé•ÂêéÁöÑÂ≠óÁ¨¶‰∏≤     banana, orange, apple</span></span><br><span class="line"><span class="comment">ËøûÊé•ÂêéÁöÑÂ≠óÁ¨¶‰∏≤     orange, apple</span></span><br><span class="line"><span class="comment">    --]]</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>ÊèíÂÖ•ÂíåÁßªÈô§</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">fruits = &#123;<span class="string">&quot;banana&quot;</span>,<span class="string">&quot;orange&quot;</span>,<span class="string">&quot;apple&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Âú®Êú´Â∞æÊèíÂÖ•</span></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(fruits,<span class="string">&quot;mango&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Á¥¢Âºï‰∏∫ 4 ÁöÑÂÖÉÁ¥†‰∏∫ &quot;</span>,fruits[<span class="number">4</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Âú®Á¥¢Âºï‰∏∫ 2 ÁöÑÈîÆÂ§ÑÊèíÂÖ•</span></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">insert</span>(fruits,<span class="number">2</span>,<span class="string">&quot;grapes&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Á¥¢Âºï‰∏∫ 2 ÁöÑÂÖÉÁ¥†‰∏∫ &quot;</span>,fruits[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†‰∏∫ &quot;</span>,fruits[<span class="number">5</span>])</span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">remove</span>(fruits)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ÁßªÈô§ÂêéÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†‰∏∫ &quot;</span>,fruits[<span class="number">5</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">Á¥¢Âºï‰∏∫ 4 ÁöÑÂÖÉÁ¥†‰∏∫     mango</span></span><br><span class="line"><span class="comment">Á¥¢Âºï‰∏∫ 2 ÁöÑÂÖÉÁ¥†‰∏∫     grapes</span></span><br><span class="line"><span class="comment">ÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†‰∏∫     mango</span></span><br><span class="line"><span class="comment">ÁßªÈô§ÂêéÊúÄÂêé‰∏Ä‰∏™ÂÖÉÁ¥†‰∏∫     nil</span></span><br><span class="line"><span class="comment">    --]]</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li>TableÊéíÂ∫è<br>
‰ª•‰∏ãÂÆû‰æãÊºîÁ§∫‰∫Ü sort() ÊñπÊ≥ïÁöÑ‰ΩøÁî®ÔºåÁî®‰∫éÂØπ Table ËøõË°åÊéíÂ∫èÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">fruits = &#123;<span class="string">&quot;banana&quot;</span>,<span class="string">&quot;orange&quot;</span>,<span class="string">&quot;apple&quot;</span>,<span class="string">&quot;grapes&quot;</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ÊéíÂ∫èÂâç&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(fruits) <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">print</span>(k,v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">table</span>.<span class="built_in">sort</span>(fruits)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;ÊéíÂ∫èÂêé&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(fruits) <span class="keyword">do</span></span><br><span class="line">        <span class="built_in">print</span>(k,v)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h1 id="%E5%8D%81%E5%9B%9B-%E6%A8%A1%E5%9D%97%E4%B8%8E%E5%8C%85%EF%BC%88%E2%AD%90%EF%BC%89" tabindex="-1">ÂçÅÂõõ Ê®°Âùó‰∏éÂåÖÔºà‚≠êÔºâ</h1>
<h3 id="14.1-%E6%A6%82%E8%BF%B0%E5%8F%8A%E5%AE%9A%E4%B9%89" tabindex="-1">14.1 Ê¶ÇËø∞ÂèäÂÆö‰πâ</h3>
<ol>
<li>
<p><strong>Ê®°ÂùóÁ±ª‰ºº‰∫é‰∏Ä‰∏™Â∞ÅË£ÖÂ∫ì</strong>Ôºå‰ªé Lua 5.1 ÂºÄÂßãÔºåLua Âä†ÂÖ•‰∫ÜÊ†áÂáÜÁöÑÊ®°ÂùóÁÆ°ÁêÜÊú∫Âà∂ÔºåÂèØ‰ª•Êää‰∏Ä‰∫õ<strong>ÂÖ¨Áî®ÁöÑ‰ª£Á†ÅÊîæÂú®‰∏Ä‰∏™Êñá‰ª∂Èáå</strong>Ôºå<strong>‰ª• API Êé•Âè£ÁöÑÂΩ¢ÂºèÂú®ÂÖ∂‰ªñÂú∞ÊñπË∞ÉÁî®</strong>ÔºåÊúâÂà©‰∫é‰ª£Á†ÅÁöÑÈáçÁî®ÂíåÈôç‰Ωé‰ª£Á†ÅËÄ¶ÂêàÂ∫¶</p>
</li>
<li>
<p><strong>Lua ÁöÑÊ®°ÂùóÊòØÁî±ÂèòÈáè„ÄÅÂáΩÊï∞Á≠âÂ∑≤Áü•ÂÖÉÁ¥†ÁªÑÊàêÁöÑ table</strong>ÔºåÂõ†Ê≠§<strong>ÂàõÂª∫‰∏Ä‰∏™Ê®°Âùó</strong>ÂæàÁÆÄÂçïÔºå<strong>Â∞±ÊòØÂàõÂª∫‰∏Ä‰∏™ table</strong>ÔºåÁÑ∂ÂêéÊääÈúÄË¶ÅÂØºÂá∫ÁöÑÂ∏∏Èáè„ÄÅÂáΩÊï∞ÊîæÂÖ•ÂÖ∂‰∏≠ÔºåÊúÄÂêéËøîÂõûËøô‰∏™ table Â∞±Ë°å„ÄÇ‰ª•‰∏ã‰∏∫ÂàõÂª∫Ëá™ÂÆö‰πâÊ®°Âùó module.luaÔºåÊñá‰ª∂‰ª£Á†ÅÊ†ºÂºèÂ¶Ç‰∏ãÔºö</p>
</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Êñá‰ª∂Âêç‰∏∫ module.lua</span></span><br><span class="line"><span class="comment">-- ÂÆö‰πâ‰∏Ä‰∏™Âêç‰∏∫ module ÁöÑÊ®°Âùó</span></span><br><span class="line"><span class="built_in">module</span> = &#123;&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">-- ÂÆö‰πâ‰∏Ä‰∏™Â∏∏Èáè</span></span><br><span class="line"><span class="built_in">module</span>.constant = <span class="string">&quot;ËøôÊòØ‰∏Ä‰∏™Â∏∏Èáè&quot;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">-- ÂÆö‰πâ‰∏Ä‰∏™ÂáΩÊï∞</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">module.func1</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">io</span>.<span class="built_in">write</span>(<span class="string">&quot;ËøôÊòØ‰∏Ä‰∏™ÂÖ¨ÊúâÂáΩÊï∞ÔºÅ\n&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">func2</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ËøôÊòØ‰∏Ä‰∏™ÁßÅÊúâÂáΩÊï∞ÔºÅ&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">module.func3</span><span class="params">()</span></span></span><br><span class="line">    func2()</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">return</span> <span class="built_in">module</span></span><br></pre></td></tr></table></figure>
<p>Áî±‰∏äÂèØÁü•ÔºåÊ®°ÂùóÁöÑÁªìÊûÑÂ∞±ÊòØ‰∏Ä‰∏™ table ÁöÑÁªìÊûÑÔºåÂõ†Ê≠§ÂèØ‰ª•<strong>ÂÉèÊìç‰ΩúË∞ÉÁî® table ÈáåÁöÑÂÖÉÁ¥†ÈÇ£Ê†∑Êù•Êìç‰ΩúË∞ÉÁî®Ê®°ÂùóÈáåÁöÑÂ∏∏ÈáèÊàñÂáΩÊï∞</strong>„ÄÇ</p>
<p><strong>‰∏äÈù¢ÁöÑ func2</strong> Â£∞Êòé‰∏∫Á®ãÂ∫èÂùóÁöÑÂ±ÄÈÉ®ÂèòÈáèÔºåÂç≥<strong>Ë°®Á§∫‰∏Ä‰∏™ÁßÅÊúâÂáΩÊï∞</strong>ÔºåÂõ†Ê≠§ÊòØ‰∏çËÉΩ‰ªéÂ§ñÈÉ®ËÆøÈóÆÊ®°ÂùóÈáåÁöÑËøô‰∏™ÁßÅÊúâÂáΩÊï∞Ôºå<strong>ÂøÖÈ°ªÈÄöËøáÊ®°ÂùóÈáåÁöÑÂÖ¨ÊúâÂáΩÊï∞Êù•Ë∞ÉÁî®</strong>.</p>
<h3 id="14.2-%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%9D%97%EF%BC%88require%E5%87%BD%E6%95%B0%EF%BC%89" tabindex="-1">14.2 Âä†ËΩΩÊ®°ÂùóÔºàrequireÂáΩÊï∞Ôºâ</h3>
<ol>
<li>LuaÊèê‰æõ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫<strong>requireÁöÑÂáΩÊï∞Áî®Êù•Âä†ËΩΩÊ®°Âùó</strong>„ÄÇË¶ÅÂä†ËΩΩ‰∏Ä‰∏™Ê®°ÂùóÔºåÂè™ÈúÄË¶ÅÁÆÄÂçïÂú∞Ë∞ÉÁî®Â∞±ÂèØ‰ª•‰∫Ü„ÄÇ‰æãÂ¶ÇÔºö</li>
<li>ÊâßË°å <strong>require Âêé‰ºöËøîÂõû‰∏Ä‰∏™Áî±Ê®°ÂùóÂ∏∏ÈáèÊàñÂáΩÊï∞ÁªÑÊàêÁöÑ table</strong>ÔºåÂπ∂‰∏î<strong>Ëøò‰ºöÂÆö‰πâ‰∏Ä‰∏™ÂåÖÂê´ËØ•table ÁöÑÂÖ®Â±ÄÂèòÈáè</strong>„ÄÇ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- test_module.lua Êñá‰ª∂</span></span><br><span class="line"><span class="comment">-- module Ê®°Âùó‰∏∫‰∏äÊñáÊèêÂà∞Âà∞ module.lua</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">&quot;module&quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">module</span>.constant)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">module</span>.func3()</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">ËøôÊòØ‰∏Ä‰∏™Â∏∏Èáè</span></span><br><span class="line"><span class="comment">ËøôÊòØ‰∏Ä‰∏™ÁßÅÊúâÂáΩÊï∞ÔºÅ</span></span><br><span class="line"><span class="comment">--]]</span></span><br></pre></td></tr></table></figure>
<p>ÊàñËÄÖÁªôÂä†ËΩΩÁöÑÊ®°ÂùóÂÆö‰πâ‰∏Ä‰∏™Âà´ÂêçÂèòÈáèÔºåÊñπ‰æøË∞ÉÁî®Ôºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- test_module2.lua Êñá‰ª∂</span></span><br><span class="line"><span class="comment">-- module Ê®°Âùó‰∏∫‰∏äÊñáÊèêÂà∞Âà∞ module.lua</span></span><br><span class="line"><span class="comment">-- Âà´ÂêçÂèòÈáè m</span></span><br><span class="line"><span class="keyword">local</span> m = <span class="built_in">require</span>(<span class="string">&quot;module&quot;</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(m.constant)</span><br><span class="line"> </span><br><span class="line">m.func3()</span><br></pre></td></tr></table></figure>
<ol start="3">
<li><strong>Âä†ËΩΩÊú∫Âà∂Ôºà‚≠êÔºâ</strong></li>
</ol>
<ul>
<li>
<p>ÂØπ‰∫é<strong>Ëá™ÂÆö‰πâÁöÑÊ®°Âùó</strong>ÔºåÊ®°ÂùóÊñá‰ª∂<strong>‰∏çÊòØÊîæÂú®Âì™‰∏™Êñá‰ª∂ÁõÆÂΩïÈÉΩË°å</strong>ÔºåÂáΩÊï∞ require ÊúâÂÆÉËá™Â∑±ÁöÑÊñá‰ª∂Ë∑ØÂæÑÂä†ËΩΩÁ≠ñÁï•ÔºåÂÆÉ‰ºöÂ∞ùËØï‰ªé Lua Êñá‰ª∂Êàñ C Á®ãÂ∫èÂ∫ì‰∏≠Âä†ËΩΩÊ®°Âùó„ÄÇ</p>
</li>
<li>
<p><strong>require Áî®‰∫éÊêúÁ¥¢ Lua Êñá‰ª∂ÁöÑË∑ØÂæÑÊòØÂ≠òÊîæÂú®ÂÖ®Â±ÄÂèòÈáè package.path</strong> ‰∏≠ÔºåÂΩì <strong>Lua ÂêØÂä®Âêé</strong>Ôºå‰ºö<strong>‰ª•ÁéØÂ¢ÉÂèòÈáè LUA_PATH ÁöÑÂÄºÊù•ÂàùÂßãËøô‰∏™ÁéØÂ¢ÉÂèòÈáè</strong>„ÄÇÂ¶ÇÊûú<strong>Ê≤°ÊúâÊâæÂà∞ËØ•ÁéØÂ¢ÉÂèòÈáè</strong>Ôºå<strong>Âàô‰ΩøÁî®‰∏Ä‰∏™ÁºñËØëÊó∂ÂÆö‰πâÁöÑÈªòËÆ§Ë∑ØÂæÑÊù•ÂàùÂßãÂåñ</strong>„ÄÇ</p>
</li>
<li>
<p>ÂΩìÁÑ∂Ôºå<strong>Â¶ÇÊûúÊ≤°Êúâ LUA_PATH Ëøô‰∏™ÁéØÂ¢ÉÂèòÈáèÔºå‰πüÂèØ‰ª•Ëá™ÂÆö‰πâËÆæÁΩÆÔºåÂú®ÂΩìÂâçÁî®Êà∑Ê†πÁõÆÂΩï‰∏ãÊâìÂºÄ .profile Êñá‰ª∂</strong>Ôºà<strong>Ê≤°ÊúâÂàôÂàõÂª∫ÔºåÊâìÂºÄ .bashrc Êñá‰ª∂‰πüÂèØ‰ª•</strong>ÔºâÔºå‰æãÂ¶ÇÊää <strong>‚Äú~/lua/‚Äù Ë∑ØÂæÑÂä†ÂÖ• LUA_PATH ÁéØÂ¢ÉÂèòÈáèÈáåÔºö</strong></p>
</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#LUA_PATH</span><br><span class="line">export LUA_PATH=<span class="string">&quot;~/lua/?.lua;;&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p><strong>Êñá‰ª∂Ë∑ØÂæÑ‰ª• ‚Äú;‚Äù Âè∑ÂàÜÈöî</strong>ÔºåÊúÄÂêéÁöÑ 2 ‰∏™ ‚Äú;;‚Äù Ë°®Á§∫Êñ∞Âä†ÁöÑË∑ØÂæÑÂêéÈù¢Âä†‰∏äÂéüÊù•ÁöÑÈªòËÆ§Ë∑ØÂæÑ„ÄÇ</p>
</li>
<li>
<p>Êé•ÁùÄÔºå<strong>Êõ¥Êñ∞ÁéØÂ¢ÉÂèòÈáèÂèÇÊï∞</strong>Ôºå‰Ωø‰πãÁ´ãÂç≥ÁîüÊïà„ÄÇ</p>
</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source ~/.profile</span><br></pre></td></tr></table></figure>
<ul>
<li>ËøôÊó∂ÂÅáËÆæ package.path ÁöÑÂÄºÊòØÔºö</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Users/dengjoe/lua/?.lua;./?.lua;/usr/<span class="keyword">local</span>/share/lua/<span class="number">5.1</span>/?.lua;/usr/<span class="keyword">local</span>/share/lua/<span class="number">5.1</span>/?/init.lua;/usr/<span class="keyword">local</span>/lib/lua/<span class="number">5.1</span>/?.lua;/usr/<span class="keyword">local</span>/lib/lua/<span class="number">5.1</span>/?/init.lua</span><br></pre></td></tr></table></figure>
<ul>
<li>ÈÇ£‰πàË∞ÉÁî® require(‚Äúmodule‚Äù) Êó∂Â∞±‰ºöÂ∞ùËØïÊâìÂºÄ‰ª•‰∏ãÊñá‰ª∂ÁõÆÂΩïÂéªÊêúÁ¥¢ÁõÆÊ†á„ÄÇ</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/Users/dengjoe/lua/<span class="built_in">module</span>.lua;</span><br><span class="line">./<span class="built_in">module</span>.lua</span><br><span class="line">/usr/<span class="keyword">local</span>/share/lua/<span class="number">5.1</span>/<span class="built_in">module</span>.lua</span><br><span class="line">/usr/<span class="keyword">local</span>/share/lua/<span class="number">5.1</span>/<span class="built_in">module</span>/init.lua</span><br><span class="line">/usr/<span class="keyword">local</span>/lib/lua/<span class="number">5.1</span>/<span class="built_in">module</span>.lua</span><br><span class="line">/usr/<span class="keyword">local</span>/lib/lua/<span class="number">5.1</span>/<span class="built_in">module</span>/init.lua</span><br></pre></td></tr></table></figure>
<h3 id="14.3-c%E5%8C%85" tabindex="-1">14.3 CÂåÖ</h3>
<ol>
<li>
<p>LuaÂíåCÊòØÂæàÂÆπÊòìÁªìÂêàÁöÑÔºå‰ΩøÁî® C ‰∏∫ Lua ÂÜôÂåÖ„ÄÇ</p>
</li>
<li>
<p>‰∏éLua‰∏≠ÂÜôÂåÖ‰∏çÂêåÔºå<strong>CÂåÖÂú®‰ΩøÁî®‰ª•ÂâçÂøÖÈ°ªÈ¶ñÂÖàÂä†ËΩΩÂπ∂ËøûÊé•</strong>ÔºåÂú®Â§ßÂ§öÊï∞Á≥ªÁªü‰∏≠ÊúÄÂÆπÊòìÁöÑÂÆûÁé∞ÊñπÂºèÊòØÈÄöËøáÂä®ÊÄÅËøûÊé•Â∫ìÊú∫Âà∂„ÄÇ</p>
</li>
<li>
<p>LuaÂú®‰∏Ä‰∏™Âè´<strong>loadlibÁöÑÂáΩÊï∞ÂÜÖÊèê‰æõ‰∫ÜÊâÄÊúâÁöÑÂä®ÊÄÅËøûÊé•ÁöÑÂäüËÉΩ</strong>„ÄÇËøô‰∏™ÂáΩÊï∞Êúâ<strong>‰∏§‰∏™ÂèÇÊï∞:Â∫ìÁöÑÁªùÂØπË∑ØÂæÑÂíåÂàùÂßãÂåñÂáΩÊï∞</strong>„ÄÇÊâÄ‰ª•ÂÖ∏ÂûãÁöÑË∞ÉÁî®ÁöÑ‰æãÂ≠êÂ¶Ç‰∏ã:</p>
</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="built_in">path</span> = <span class="string">&quot;/usr/local/lua/lib/libluasocket.so&quot;</span></span><br><span class="line"><span class="keyword">local</span> f = <span class="built_in">loadlib</span>(<span class="built_in">path</span>, <span class="string">&quot;luaopen_socket&quot;</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>loadlib ÂáΩÊï∞<strong>Âä†ËΩΩÊåáÂÆöÁöÑÂ∫ìÂπ∂‰∏îËøûÊé•Âà∞ Lua</strong>ÔºåÁÑ∂ËÄåÂÆÉ<strong>Âπ∂‰∏çÊâìÂºÄÂ∫ì</strong>Ôºà‰πüÂ∞±ÊòØËØ¥<strong>Ê≤°ÊúâË∞ÉÁî®ÂàùÂßãÂåñÂáΩÊï∞</strong>ÔºâÔºåÂèç‰πã‰ªñ<strong>ËøîÂõûÂàùÂßãÂåñÂáΩÊï∞‰Ωú‰∏∫ Lua ÁöÑ‰∏Ä‰∏™ÂáΩÊï∞</strong>ÔºåËøôÊ†∑Êàë‰ª¨Â∞±ÂèØ‰ª•<strong>Áõ¥Êé•Âú®Lua‰∏≠Ë∞ÉÁî®‰ªñ</strong>„ÄÇ</li>
<li>Â¶ÇÊûúÂä†ËΩΩÂä®ÊÄÅÂ∫ìÊàñËÄÖÊü•ÊâæÂàùÂßãÂåñÂáΩÊï∞Êó∂<strong>Âá∫Èîô</strong>Ôºå<strong>loadlib Â∞ÜËøîÂõû nil ÂíåÈîôËØØ‰ø°ÊÅØ</strong>„ÄÇÊàë‰ª¨ÂèØ‰ª•‰øÆÊîπÂâçÈù¢‰∏ÄÊÆµ‰ª£Á†ÅÔºå‰ΩøÂÖ∂<strong>Ê£ÄÊµãÈîôËØØÁÑ∂ÂêéË∞ÉÁî®ÂàùÂßãÂåñÂáΩÊï∞</strong>Ôºö</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="built_in">path</span> = <span class="string">&quot;/usr/local/lua/lib/libluasocket.so&quot;</span></span><br><span class="line"><span class="comment">-- ÊàñËÄÖ path = &quot;C:\\windows\\luasocket.dll&quot;ÔºåËøôÊòØ Window Âπ≥Âè∞‰∏ã</span></span><br><span class="line"><span class="keyword">local</span> f = <span class="built_in">assert</span>(<span class="built_in">loadlib</span>(<span class="built_in">path</span>, <span class="string">&quot;luaopen_socket&quot;</span>))</span><br><span class="line">f()  <span class="comment">-- ÁúüÊ≠£ÊâìÂºÄÂ∫ì</span></span><br></pre></td></tr></table></figure>
<p>‰∏ÄËà¨ÊÉÖÂÜµ‰∏ãÊàë‰ª¨ÊúüÊúõ‰∫åËøõÂà∂ÁöÑÂèëÂ∏ÉÂ∫ìÂåÖÂê´‰∏Ä‰∏™‰∏éÂâçÈù¢‰ª£Á†ÅÊÆµÁõ∏‰ººÁöÑ stub Êñá‰ª∂ÔºåÂÆâË£Ö‰∫åËøõÂà∂Â∫ìÁöÑÊó∂ÂÄôÂèØ‰ª•Èöè‰æøÊîæÂú®Êüê‰∏™ÁõÆÂΩïÔºåÂè™ÈúÄË¶Å‰øÆÊîπ stub Êñá‰ª∂ÂØπÂ∫î‰∫åËøõÂà∂Â∫ìÁöÑÂÆûÈôÖË∑ØÂæÑÂç≥ÂèØ„ÄÇ</p>
<p><strong>Â∞Ü stub Êñá‰ª∂ÊâÄÂú®ÁöÑÁõÆÂΩïÂä†ÂÖ•Âà∞ LUA_PATHÔºåËøôÊ†∑ËÆæÂÆöÂêéÂ∞±ÂèØ‰ª•‰ΩøÁî® require ÂáΩÊï∞Âä†ËΩΩ C Â∫ì‰∫Ü</strong>„ÄÇ</p>
<h1 id="%E5%8D%81%E4%BA%94-%E5%85%83%E8%A1%A8(metatable)%EF%BC%88%E2%AD%90%EF%BC%89" tabindex="-1">ÂçÅ‰∫î ÂÖÉË°®(Metatable)Ôºà‚≠êÔºâ</h1>
<h3 id="15.1-%E6%A6%82%E8%BF%B0" tabindex="-1">15.1 Ê¶ÇËø∞</h3>
<ol>
<li>
<p>Âú® Lua table ‰∏≠Êàë‰ª¨ÂèØ‰ª•ËÆøÈóÆÂØπÂ∫îÁöÑ key Êù•ÂæóÂà∞ value ÂÄºÔºå‰ΩÜÊòØÂç¥Êó†Ê≥ïÂØπ‰∏§‰∏™ table ËøõË°åÊìç‰Ωú(ÊØîÂ¶ÇÁõ∏Âä†)„ÄÇ</p>
</li>
<li>
<p>Âõ†Ê≠§ <strong>Lua Êèê‰æõ‰∫ÜÂÖÉË°®(Metatable)</strong>ÔºåÂÖÅËÆ∏Êàë‰ª¨ÊîπÂèò table ÁöÑË°å‰∏∫ÔºåÊØè‰∏™Ë°å‰∏∫ÂÖ≥ËÅî‰∫ÜÂØπÂ∫îÁöÑ<strong>ÂÖÉÊñπÊ≥ï</strong>„ÄÇ<br>
‰æãÂ¶ÇÔºå<strong>‰ΩøÁî®ÂÖÉË°®Êàë‰ª¨ÂèØ‰ª•ÂÆö‰πâ Lua Â¶Ç‰ΩïËÆ°ÁÆó‰∏§‰∏™ table ÁöÑÁõ∏Âä†Êìç‰Ωú a+b</strong>„ÄÇ</p>
</li>
<li>
<p>ÂΩì Lua ËØïÂõæ<strong>ÂØπ‰∏§‰∏™Ë°®ËøõË°åÁõ∏Âä†</strong>Êó∂ÔºåÂÖà<strong>Ê£ÄÊü•‰∏§ËÄÖ‰πã‰∏ÄÊòØÂê¶ÊúâÂÖÉË°®</strong>Ôºå<strong>‰πãÂêéÊ£ÄÊü•</strong>ÊòØÂê¶Êúâ‰∏Ä‰∏™Âè´ <strong>__add ÁöÑÂ≠óÊÆµ</strong>ÔºåËã•<strong>ÊâæÂà∞ÔºåÂàôË∞ÉÁî®ÂØπÂ∫îÁöÑÂÄº</strong>„ÄÇ <strong>__add Á≠âÂç≥Êó∂Â≠óÊÆµ</strong>ÔºåÂÖ∂ÂØπÂ∫îÁöÑÂÄºÔºà<strong>ÂæÄÂæÄÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÊàñÊòØ table</strong>ÔºâÂ∞±ÊòØ <strong>‚ÄúÂÖÉÊñπÊ≥ï‚Äù</strong> „ÄÇ<br>
Êúâ‰∏§‰∏™ÂæàÈáçË¶ÅÁöÑÂáΩÊï∞Êù•Â§ÑÁêÜÂÖÉË°®Ôºà‚≠êÔºâÔºö</p>
</li>
</ol>
<ul>
<li><strong>setmetatable(table,metatable)</strong>: ÂØπÊåáÂÆö table <strong>ËÆæÁΩÆÂÖÉË°®</strong>(metatable)Ôºå<strong>Â¶ÇÊûú</strong>ÂÖÉË°®(metatable)‰∏≠<strong>Â≠òÂú® __metatable ÈîÆÂÄº</strong>Ôºåsetmetatable <strong>‰ºöÂ§±Ë¥•</strong>„ÄÇ</li>
<li><strong>getmetatable(table)</strong>: <strong>ËøîÂõûÂØπË±°ÁöÑÂÖÉË°®</strong>(metatable)„ÄÇ</li>
</ul>
<ol start="4">
<li>‰ª•‰∏ãÂÆû‰æãÊºîÁ§∫‰∫ÜÂ¶Ç‰ΩïÂØπÊåáÂÆöÁöÑË°®ËÆæÁΩÆÂÖÉË°®Ôºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mytable = &#123;&#125;                          <span class="comment">-- ÊôÆÈÄöË°® </span></span><br><span class="line">mymetatable = &#123;&#125;                      <span class="comment">-- ÂÖÉË°®</span></span><br><span class="line"><span class="built_in">setmetatable</span>(mytable,mymetatable)     <span class="comment">-- Êää mymetatable ËÆæ‰∏∫ mytable ÁöÑÂÖÉË°®</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--‰ª•‰∏ä‰ª£Á†ÅÂÜôÊàê‰∏ÄË°å</span></span><br><span class="line">mytable = <span class="built_in">setmetatable</span>(&#123;&#125;,&#123;&#125;)</span><br></pre></td></tr></table></figure>
<h3 id="15.2-__index-%E5%85%83%E6%96%B9%E6%B3%95%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89" tabindex="-1">15.2 __index ÂÖÉÊñπÊ≥ïÔºà‚≠ê‚≠ê‚≠êÔºâ</h3>
<ol>
<li>
<p><strong>ËøôÊòØ metatable ÊúÄÂ∏∏Áî®ÁöÑÈîÆ</strong>„ÄÇ</p>
</li>
<li>
<p>ÂΩì‰Ω†<strong>ÈÄöËøáÈîÆÊù•ËÆøÈóÆ</strong> table ÁöÑÊó∂ÂÄôÔºåÂ¶ÇÊûú<strong>Ëøô‰∏™ÈîÆÊ≤°ÊúâÂÄº</strong>ÔºåÈÇ£‰πàLuaÂ∞±‰ºö<strong>ÂØªÊâæËØ•tableÁöÑmetatable</strong>ÔºàÂÅáÂÆöÊúâmetatableÔºâ‰∏≠ÁöÑ**__index ÈîÆ**„ÄÇÂ¶ÇÊûú**__indexÂåÖÂê´‰∏Ä‰∏™Ë°®Ê†ºÔºåLua‰ºöÂú®Ë°®Ê†º‰∏≠Êü•ÊâæÁõ∏Â∫îÁöÑÈîÆ**„ÄÇÊàë‰ª¨ÂèØ‰ª•Âú®‰ΩøÁî® lua ÂëΩ‰ª§ËøõÂÖ•‰∫§‰∫íÊ®°ÂºèÊü•ÁúãÔºö</p>
</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ lua</span><br><span class="line">Lua <span class="number">5.3</span><span class="number">.0</span>  Copyright (C) <span class="number">1994</span><span class="number">-2015</span> Lua.org, PUC-Rio</span><br><span class="line">&gt; other = &#123; foo = <span class="number">3</span> &#125; </span><br><span class="line">&gt; t = <span class="built_in">setmetatable</span>(&#123;&#125;, &#123; <span class="built_in">__index</span> = other &#125;) </span><br><span class="line">&gt; t.foo</span><br><span class="line"><span class="number">3</span></span><br><span class="line">&gt; t.bar</span><br><span class="line"><span class="literal">nil</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>Â¶ÇÊûú <strong>__indexÂåÖÂê´‰∏Ä‰∏™ÂáΩÊï∞ÁöÑËØùÔºåLuaÂ∞±‰ºöË∞ÉÁî®ÈÇ£‰∏™ÂáΩÊï∞ÔºåtableÂíåÈîÆ‰ºö‰Ωú‰∏∫ÂèÇÊï∞‰º†ÈÄíÁªôÂáΩÊï∞</strong>„ÄÇ</li>
</ol>
<p><strong>__index ÂÖÉÊñπÊ≥ïÊü•ÁúãË°®‰∏≠ÂÖÉÁ¥†ÊòØÂê¶Â≠òÂú®</strong>ÔºåÂ¶ÇÊûú<strong>‰∏çÂ≠òÂú®</strong>ÔºåËøîÂõûÁªìÊûú<strong>‰∏∫ nil</strong>ÔºõÂ¶ÇÊûú<strong>Â≠òÂú®</strong>Âàô<strong>Áî± __index ËøîÂõûÁªìÊûú</strong>„ÄÇ</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">mytable = <span class="built_in">setmetatable</span>(&#123;key1 = <span class="string">&quot;value1&quot;</span>&#125;, &#123;</span><br><span class="line">  <span class="built_in">__index</span> = <span class="function"><span class="keyword">function</span><span class="params">(mytable, key)</span></span></span><br><span class="line">    <span class="keyword">if</span> key == <span class="string">&quot;key2&quot;</span> <span class="keyword">then</span></span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;metatablevalue&quot;</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(mytable.key1,mytable.key2)</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">value1    metatablevalue  </span></span><br><span class="line"><span class="comment">--]]</span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li>ÂÆû‰æãËß£ÊûêÔºà‚≠êÔºâÔºö</li>
</ol>
<ul>
<li>
<p>mytable Ë°®ËµãÂÄº‰∏∫ {key1 = ‚Äúvalue1‚Äù}„ÄÇ</p>
</li>
<li>
<p>mytable ËÆæÁΩÆ‰∫ÜÂÖÉË°®ÔºåÂÖÉÊñπÊ≥ï‰∏∫ __index„ÄÇ</p>
</li>
<li>
<p>Âú®mytableË°®‰∏≠Êü•Êâæ key1ÔºåÂ¶ÇÊûúÊâæÂà∞ÔºåËøîÂõûËØ•ÂÖÉÁ¥†ÔºåÊâæ‰∏çÂà∞ÂàôÁªßÁª≠„ÄÇ</p>
</li>
<li>
<p>Âú®mytableË°®‰∏≠Êü•Êâæ key2ÔºåÂ¶ÇÊûúÊâæÂà∞ÔºåËøîÂõû metatablevalueÔºåÊâæ‰∏çÂà∞ÂàôÁªßÁª≠„ÄÇ</p>
</li>
<li>
<p>Âà§Êñ≠ÂÖÉË°®ÊúâÊ≤°Êúâ__indexÊñπÊ≥ïÔºåÂ¶ÇÊûú__indexÊñπÊ≥ïÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂàôË∞ÉÁî®ËØ•ÂáΩÊï∞„ÄÇ</p>
</li>
<li>
<p>ÂÖÉÊñπÊ≥ï‰∏≠Êü•ÁúãÊòØÂê¶‰º†ÂÖ• ‚Äúkey2‚Äù ÈîÆÁöÑÂèÇÊï∞Ôºàmytable.key2Â∑≤ËÆæÁΩÆÔºâÔºåÂ¶ÇÊûú‰º†ÂÖ• ‚Äúkey2‚Äù ÂèÇÊï∞ËøîÂõû ‚Äúmetatablevalue‚ÄùÔºåÂê¶ÂàôËøîÂõû mytable ÂØπÂ∫îÁöÑÈîÆÂÄº„ÄÇ</p>
</li>
</ul>
<p>5.Êàë‰ª¨ÂèØ‰ª•Â∞Ü‰ª•‰∏ä‰ª£Á†ÅÁÆÄÂçïÂÜôÊàêÔºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mytable = <span class="built_in">setmetatable</span>(&#123;key1 = <span class="string">&quot;value1&quot;</span>&#125;, &#123; <span class="built_in">__index</span> = &#123; key2 = <span class="string">&quot;metatablevalue&quot;</span> &#125; &#125;)</span><br><span class="line"><span class="built_in">print</span>(mytable.key1,mytable.key2)</span><br></pre></td></tr></table></figure>
<ol start="6">
<li>ÊÄªÁªìÔºà‚≠êÔºâ</li>
</ol>
<p>Lua Êü•Êâæ‰∏Ä‰∏™Ë°®ÂÖÉÁ¥†Êó∂ÁöÑËßÑÂàôÔºåÂÖ∂ÂÆûÂ∞±ÊòØÂ¶Ç‰∏ã 3 ‰∏™Ê≠•È™§:</p>
<ul>
<li><strong>Âú®Ë°®‰∏≠Êü•ÊâæÔºåÂ¶ÇÊûúÊâæÂà∞ÔºåËøîÂõûËØ•ÂÖÉÁ¥†ÔºåÊâæ‰∏çÂà∞ÂàôÁªßÁª≠</strong></li>
<li><strong>Âà§Êñ≠ËØ•Ë°®ÊòØÂê¶ÊúâÂÖÉË°®ÔºåÂ¶ÇÊûúÊ≤°ÊúâÂÖÉË°®ÔºåËøîÂõû nilÔºåÊúâÂÖÉË°®ÂàôÁªßÁª≠„ÄÇ</strong></li>
<li><strong>Âà§Êñ≠ÂÖÉË°®ÊúâÊ≤°Êúâ __index ÊñπÊ≥ïÔºå</strong>
<ul>
<li>Â¶ÇÊûú __index ÊñπÊ≥ï‰∏∫ <strong>nil</strong>ÔºåÂàôËøîÂõû<strong>nil</strong>Ôºõ</li>
<li>Â¶ÇÊûú __index ÊñπÊ≥ïÊòØ‰∏Ä‰∏™<strong>Ë°®</strong>ÔºåÂàô<strong>ÈáçÂ§ç 1„ÄÅ2„ÄÅ3</strong>Ôºõ</li>
<li>Â¶ÇÊûú __index ÊñπÊ≥ïÊòØ‰∏Ä‰∏™<strong>ÂáΩÊï∞</strong>ÔºåÂàôËøîÂõû<strong>ËØ•ÂáΩÊï∞ÁöÑËøîÂõûÂÄº</strong>„ÄÇ</li>
</ul>
</li>
</ul>
<h3 id="15.3-__newindex-%E5%85%83%E6%96%B9%E6%B3%95%EF%BC%88%E2%AD%90%EF%BC%89" tabindex="-1">15.3 __newindex ÂÖÉÊñπÊ≥ïÔºà‚≠êÔºâ</h3>
<ol>
<li><strong>__newindex ÂÖÉÊñπÊ≥ïÁî®Êù•ÂØπË°®Êõ¥Êñ∞ÔºàËµãÂÄº‰øÆÊîπÔºâ</strong>Ôºå<strong>__index</strong>ÂàôÁî®Êù•<strong>ÂØπË°®ËÆøÈóÆ</strong> „ÄÇ</li>
<li>ÂΩì‰Ω†ÁªôË°®ÁöÑ‰∏Ä‰∏™<strong>Áº∫Â∞ëÁöÑÁ¥¢ÂºïËµãÂÄº</strong>ÔºåËß£ÈáäÂô®Â∞±‰ºö<strong>Êü•ÊâæÂÖÉË°®ÁöÑ__newindex ÂÖÉÊñπÊ≥ï</strong>ÔºöÂ¶ÇÊûú<strong>Â≠òÂú®ÂàôË∞ÉÁî®Ëøô‰∏™ÂáΩÊï∞ËÄå‰∏çËøõË°åËµãÂÄºÊìç‰Ωú</strong>„ÄÇ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">mymetatable = &#123;&#125;</span><br><span class="line">mytable = <span class="built_in">setmetatable</span>(&#123;key1 = <span class="string">&quot;value1&quot;</span>&#125;, &#123; <span class="built_in">__newindex</span> = mymetatable &#125;)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(mytable.key1)</span><br><span class="line"></span><br><span class="line">mytable.newkey = <span class="string">&quot;Êñ∞ÂÄº2&quot;</span></span><br><span class="line"><span class="built_in">print</span>(mytable.newkey,mymetatable.newkey)</span><br><span class="line"></span><br><span class="line">mytable.key1 = <span class="string">&quot;Êñ∞ÂÄº1&quot;</span></span><br><span class="line"><span class="built_in">print</span>(mytable.key1,mymetatable.key1)</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">value1</span></span><br><span class="line"><span class="comment">nil    Êñ∞ÂÄº2</span></span><br><span class="line"><span class="comment">Êñ∞ÂÄº1    nil</span></span><br><span class="line"><span class="comment">--]]</span></span><br></pre></td></tr></table></figure>
<p>‰ª•‰∏äÂÆû‰æã‰∏≠Ë°®<strong>ËÆæÁΩÆ‰∫ÜÂÖÉÊñπÊ≥ï __newindex</strong>ÔºåÂú®ÂØπÊñ∞Á¥¢ÂºïÈîÆ <strong>ÔºànewkeyÔºâËµãÂÄº</strong>Êó∂Ôºàmytable.newkey = ‚ÄúÊñ∞ÂÄº2‚ÄùÔºâÔºå<strong>‰ºöË∞ÉÁî®ÂÖÉÊñπÊ≥ï</strong>ÔºåËÄå‰∏çËøõË°åËµãÂÄº„ÄÇËÄåÂ¶ÇÊûúÂØπ<strong>Â∑≤Â≠òÂú®ÁöÑÁ¥¢ÂºïÈîÆÔºàkey1Ôºâ</strong>ÔºåÂàô<strong>‰ºöËøõË°åËµãÂÄºÔºåËÄå‰∏çË∞ÉÁî®ÂÖÉÊñπÊ≥ï</strong> __newindex„ÄÇ</p>
<h3 id="15.4-rawget%E5%92%8Crawset" tabindex="-1">15.4 rawgetÂíårawset</h3>
<ol>
<li>rawget</li>
</ol>
<ul>
<li>ÁªïÂºÄ__index Âè™Ëé∑ÂèñË°®Ëá™Ë∫´Â±ûÊÄßÊúâÊ≤°Êúâ Ôºà‰∏çÂÖ≥ÂøÉÂÖÉË°®ÁöÑÔºâ</li>
</ul>
<ol start="2">
<li>rawset</li>
</ol>
<ul>
<li>ÁªïÂºÄ__newindex Âè™ËÆæÁΩÆË°®Ëá™Ë∫´Â±ûÊÄß Ôºà‰∏çÈáçÂÆöÂêëÂà∞ÂÖÉË°®__newindexÂØπÂ∫îÁöÑË°®Ôºâ</li>
</ul>
<h3 id="15.5-%E8%BF%90%E7%AE%97%E5%85%83%E6%96%B9%E6%B3%95-%E4%B8%BA%E8%A1%A8%E6%B7%BB%E5%8A%A0%E6%93%8D%E4%BD%9C%E7%AC%A6" tabindex="-1">15.5 ËøêÁÆóÂÖÉÊñπÊ≥ï-‰∏∫Ë°®Ê∑ªÂä†Êìç‰ΩúÁ¨¶</h3>
<ol>
<li>Ë°®‰∏≠ÂØπÂ∫îÁöÑÊìç‰ΩúÂàóË°®Â¶Ç‰∏ãÔºö(Ê≥®ÊÑèÔºö__ÊòØ‰∏§‰∏™‰∏ãÂàíÁ∫ø)</li>
</ol>
<table>
<thead>
<tr>
<th>Ê®°Âºè</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>__add</td>
<td>ÂØπÂ∫îÁöÑËøêÁÆóÁ¨¶ ‚Äò+‚Äô.</td>
</tr>
<tr>
<td>__sub</td>
<td>ÂØπÂ∫îÁöÑËøêÁÆóÁ¨¶ ‚Äò-‚Äô.</td>
</tr>
<tr>
<td>__mul</td>
<td>ÂØπÂ∫îÁöÑËøêÁÆóÁ¨¶ ‚Äò*‚Äô.</td>
</tr>
<tr>
<td>__div</td>
<td>ÂØπÂ∫îÁöÑËøêÁÆóÁ¨¶ ‚Äò/‚Äô.</td>
</tr>
<tr>
<td>__mod</td>
<td>ÂØπÂ∫îÁöÑËøêÁÆóÁ¨¶ ‚Äò%‚Äô.</td>
</tr>
<tr>
<td>__unm</td>
<td>ÂØπÂ∫îÁöÑËøêÁÆóÁ¨¶ ‚Äò-‚Äô.</td>
</tr>
<tr>
<td>__concat</td>
<td>ÂØπÂ∫îÁöÑËøêÁÆóÁ¨¶ ‚Äò‚Ä¶‚Äô.</td>
</tr>
<tr>
<td>__eq</td>
<td>ÂØπÂ∫îÁöÑËøêÁÆóÁ¨¶ ‚Äò==‚Äô.</td>
</tr>
<tr>
<td>__lt</td>
<td>ÂØπÂ∫îÁöÑËøêÁÆóÁ¨¶ ‚Äò&lt;‚Äô.</td>
</tr>
<tr>
<td>__le</td>
<td>ÂØπÂ∫îÁöÑËøêÁÆóÁ¨¶ ‚Äò&lt;=‚Äô.</td>
</tr>
</tbody>
</table>
<ol start="2">
<li>‰ª•‰∏ãÂÆû‰æãÊºîÁ§∫‰∫Ü‰∏§Ë°®Áõ∏Âä†Êìç‰ΩúÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ËÆ°ÁÆóË°®‰∏≠ÊúÄÂ§ßÂÄºÔºåtable.maxnÂú®Lua5.2‰ª•‰∏äÁâàÊú¨‰∏≠Â∑≤Êó†Ê≥ï‰ΩøÁî®</span></span><br><span class="line"><span class="comment">-- Ëá™ÂÆö‰πâËÆ°ÁÆóË°®‰∏≠ÊúÄÂ§ßÈîÆÂÄºÂáΩÊï∞ table_maxnÔºåÂç≥ËøîÂõûË°®ÊúÄÂ§ßÈîÆÂÄº</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">table_maxn</span><span class="params">(t)</span></span></span><br><span class="line">    <span class="keyword">local</span> mn = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(t) <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">if</span> mn &lt; k <span class="keyword">then</span></span><br><span class="line">            mn = k</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> mn</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ‰∏§Ë°®Áõ∏Âä†Êìç‰Ωú</span></span><br><span class="line">mytable = <span class="built_in">setmetatable</span>(&#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> &#125;, &#123;</span><br><span class="line">  <span class="built_in">__add</span> = <span class="function"><span class="keyword">function</span><span class="params">(mytable, newtable)</span></span></span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">1</span>, table_maxn(newtable) <span class="keyword">do</span></span><br><span class="line">      <span class="built_in">table</span>.<span class="built_in">insert</span>(mytable, table_maxn(mytable)+<span class="number">1</span>,newtable[i])</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> mytable</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">secondtable = &#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;</span><br><span class="line"></span><br><span class="line">mytable = mytable + secondtable</span><br><span class="line"><span class="keyword">for</span> k,v <span class="keyword">in</span> <span class="built_in">ipairs</span>(mytable) <span class="keyword">do</span></span><br><span class="line">    <span class="built_in">print</span>(k,v)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">1    1</span></span><br><span class="line"><span class="comment">2    2</span></span><br><span class="line"><span class="comment">3    3</span></span><br><span class="line"><span class="comment">4    4</span></span><br><span class="line"><span class="comment">5    5</span></span><br><span class="line"><span class="comment">6    6</span></span><br><span class="line"><span class="comment">--]]</span></span><br><span class="line"><span class="built_in">__add</span> ÈîÆÂåÖÂê´Âú®ÂÖÉË°®‰∏≠ÔºåÂπ∂ËøõË°åÁõ∏Âä†Êìç‰Ωú„ÄÇ </span><br></pre></td></tr></table></figure>
<h3 id="15.6-__call%E5%85%83%E6%96%B9%E6%B3%95" tabindex="-1">15.6 __callÂÖÉÊñπÊ≥ï</h3>
<ol>
<li>__call ÂÖÉÊñπÊ≥ïÂú® <strong>Lua Ë∞ÉÁî®‰∏Ä‰∏™ÂÄºÊó∂Ë∞ÉÁî®ÔºàÂΩìÂ≠êË°®ÂÅö‰∏∫ÂáΩÊï∞ÂêçÂ≠óÁöÑÂΩ¢ÂºèË¢´Ë∞ÉÁî®ÁöÑÊó∂ÂÄôÔºåÂ¶Çmytable(newtable)Ôºå‰ºöË∞ÉÁî®__callÂáΩÊï∞Ôºâ</strong>„ÄÇ‰ª•‰∏ãÂÆû‰æãÊºîÁ§∫‰∫ÜËÆ°ÁÆóË°®‰∏≠ÂÖÉÁ¥†ÁöÑÂíåÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ËÆ°ÁÆóË°®‰∏≠ÊúÄÂ§ßÂÄºÔºåtable.maxnÂú®Lua5.2‰ª•‰∏äÁâàÊú¨‰∏≠Â∑≤Êó†Ê≥ï‰ΩøÁî®</span></span><br><span class="line"><span class="comment">-- Ëá™ÂÆö‰πâËÆ°ÁÆóË°®‰∏≠ÊúÄÂ§ßÈîÆÂÄºÂáΩÊï∞ table_maxnÔºåÂç≥ËÆ°ÁÆóË°®ÁöÑÂÖÉÁ¥†‰∏™Êï∞</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">table_maxn</span><span class="params">(t)</span></span></span><br><span class="line">    <span class="keyword">local</span> mn = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(t) <span class="keyword">do</span></span><br><span class="line">        <span class="keyword">if</span> mn &lt; k <span class="keyword">then</span></span><br><span class="line">            mn = k</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> mn</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂÆö‰πâÂÖÉÊñπÊ≥ï__call</span></span><br><span class="line">mytable = <span class="built_in">setmetatable</span>(&#123;<span class="number">10</span>&#125;, &#123;</span><br><span class="line">  <span class="built_in">__call</span> = <span class="function"><span class="keyword">function</span><span class="params">(mytable, newtable)</span></span></span><br><span class="line">        sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span>, table_maxn(mytable) <span class="keyword">do</span></span><br><span class="line">                sum = sum + mytable[i]</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">for</span> i = <span class="number">1</span>, table_maxn(newtable) <span class="keyword">do</span></span><br><span class="line">                sum = sum + newtable[i]</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">return</span> sum</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line">newtable = &#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(mytable(newtable))</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">70</span></span><br><span class="line"><span class="comment">--]]</span></span><br></pre></td></tr></table></figure>
<h3 id="15.7-__tostring-%E5%85%83%E6%96%B9%E6%B3%95" tabindex="-1">15.7 __tostring ÂÖÉÊñπÊ≥ï</h3>
<ol>
<li>__tostring ÂÖÉÊñπÊ≥ïÁî®‰∫é‰øÆÊîπË°®ÁöÑËæìÂá∫Ë°å‰∏∫„ÄÇ‰ª•‰∏ãÂÆû‰æãÊàë‰ª¨Ëá™ÂÆö‰πâ‰∫ÜË°®ÁöÑËæìÂá∫ÂÜÖÂÆπÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mytable = <span class="built_in">setmetatable</span>(&#123; <span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span> &#125;, &#123;</span><br><span class="line">  <span class="built_in">__tostring</span> = <span class="function"><span class="keyword">function</span><span class="params">(mytable)</span></span></span><br><span class="line">    sum = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> k, v <span class="keyword">in</span> <span class="built_in">pairs</span>(mytable) <span class="keyword">do</span></span><br><span class="line">                sum = sum + v</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Ë°®ÊâÄÊúâÂÖÉÁ¥†ÁöÑÂíå‰∏∫ &quot;</span> .. sum</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">print</span>(mytable)</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">Ë°®ÊâÄÊúâÂÖÉÁ¥†ÁöÑÂíå‰∏∫ 60    </span></span><br><span class="line"><span class="comment">--]]</span></span><br></pre></td></tr></table></figure>
<h1 id="%E5%8D%81%E5%85%AD-%E5%8D%8F%E5%90%8C%E7%A8%8B%E5%BA%8F%EF%BC%88coroutine%EF%BC%89%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89" tabindex="-1">ÂçÅÂÖ≠ ÂçèÂêåÁ®ãÂ∫èÔºàcoroutineÔºâÔºà‚≠ê‚≠ê‚≠êÔºâ</h1>
<h3 id="16.1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%8F%E5%90%8C%EF%BC%88coroutine%EF%BC%89" tabindex="-1">16.1 ‰ªÄ‰πàÊòØÂçèÂêåÔºàcoroutineÔºâ</h3>
<ol>
<li>Lua ÂçèÂêåÁ®ãÂ∫è(coroutine)‰∏éÁ∫øÁ®ãÊØîËæÉÁ±ª‰ººÔºö<strong>Êã•ÊúâÁã¨Á´ãÁöÑÂ†ÜÊ†àÔºåÁã¨Á´ãÁöÑÂ±ÄÈÉ®ÂèòÈáèÔºåÁã¨Á´ãÁöÑÊåá‰ª§ÊåáÈíàÔºåÂêåÊó∂Âèà‰∏éÂÖ∂ÂÆÉÂçèÂêåÁ®ãÂ∫èÂÖ±‰∫´ÂÖ®Â±ÄÂèòÈáèÂíåÂÖ∂ÂÆÉÂ§ßÈÉ®ÂàÜ‰∏úË•ø</strong>„ÄÇ</li>
<li>ÂçèÂêåÁ®ãÂ∫èÂèØ‰ª•ÁêÜËß£‰∏∫<strong>‰∏ÄÁßçÁâπÊÆäÁöÑÁ∫øÁ®ã</strong>ÔºåÂèØ‰ª•<strong>ÊöÇÂÅúÂíåÊÅ¢Â§çÂÖ∂ÊâßË°å</strong>Ôºå‰ªéËÄåÂÖÅËÆ∏ÈùûÊä¢Âç†ÂºèÁöÑÂ§ö‰ªªÂä°Â§ÑÁêÜ„ÄÇ</li>
<li>ÂçèÂêåÊòØÈùûÂ∏∏Âº∫Â§ßÁöÑÂäüËÉΩÔºå‰ΩÜÊòØÁî®Ëµ∑Êù•‰πüÂæàÂ§çÊùÇ„ÄÇ</li>
</ol>
<h3 id="16.2-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95" tabindex="-1">16.2 Âü∫Êú¨ËØ≠Ê≥ï</h3>
<ol>
<li>
<p><strong>ÂçèÂêåÁ®ãÂ∫èÁî± coroutine Ê®°Âùó</strong>Êèê‰æõÊîØÊåÅ„ÄÇ</p>
</li>
<li>
<p>‰ΩøÁî®ÂçèÂêåÁ®ãÂ∫èÔºå‰Ω†ÂèØ‰ª•Âú®ÂáΩÊï∞‰∏≠‰ΩøÁî® <strong>coroutine.create ÂàõÂª∫‰∏Ä‰∏™Êñ∞ÁöÑÂçèÂêåÁ®ãÂ∫èÂØπË±°</strong>ÔºåÂπ∂‰ΩøÁî® <strong>coroutine.resume ÂêØÂä®ÂÆÉÁöÑÊâßË°å</strong>„ÄÇÂçèÂêåÁ®ãÂ∫èÂèØ‰ª•ÈÄöËøáË∞ÉÁî® <strong>coroutine.yield Êù•‰∏ªÂä®ÊöÇÂÅúËá™Â∑±ÁöÑÊâßË°å</strong>ÔºåÂπ∂Â∞ÜÊéßÂà∂ÊùÉ‰∫§ËøòÁªôË∞ÉÁî®ËÄÖ„ÄÇ</p>
</li>
<li>
<p>ÂÖ∑‰ΩìÂáΩÊï∞ÊñπÊ≥ï</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>ÊñπÊ≥ï</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>coroutine.create()</td>
<td><strong>ÂàõÂª∫ coroutineÔºåËøîÂõû coroutine</strong>Ôºå ÂèÇÊï∞ÊòØ‰∏Ä‰∏™ÂáΩÊï∞ÔºåÂΩìÂíå resume ÈÖçÂêà‰ΩøÁî®ÁöÑÊó∂ÂÄôÂ∞±Âî§ÈÜíÂáΩÊï∞Ë∞ÉÁî®</td>
</tr>
<tr>
<td>coroutine.resume()</td>
<td><strong>ÈáçÂêØ coroutine</strong>ÔºåÂíå create ÈÖçÂêà‰ΩøÁî®„ÄÇ<strong>Ê≠£Â∏∏ÁªìÊùüËøîÂõûtrue+yieldÁöÑËøîÂõûÂÄºÔºåÂê¶ÂàôËøîÂõûfalse+yieldÁöÑËøîÂõûÂÄºÔºà‰∏ÄËà¨ÂØπÂ∑≤ÁªìÊùüÁöÑÂçèÁ®ãresumeÂ∞±‰ºöfalseÔºâ</strong>„ÄÇ<strong>ËøîÂõûÂÄºÊòØyield()ÁöÑÂèÇÊï∞„ÄÇ</strong></td>
</tr>
<tr>
<td>coroutine.yield()</td>
<td><strong>ÊåÇËµ∑ coroutine</strong>ÔºåÂ∞Ü coroutine ËÆæÁΩÆ‰∏∫ÊåÇËµ∑Áä∂ÊÄÅÔºåËøô‰∏™Âíå resume ÈÖçÂêà‰ΩøÁî®ËÉΩÊúâÂæàÂ§öÊúâÁî®ÁöÑÊïàÊûú„ÄÇ<strong>ËøîÂõûÂÄºÊòØresumeË∞ÉÁî®Êó∂‰º†ÂÖ•ÁöÑÂÄº</strong>„ÄÇ</td>
</tr>
<tr>
<td>coroutine.status()</td>
<td><strong>Êü•Áúã coroutine ÁöÑÁä∂ÊÄÅ</strong><br>Ê≥®Ôºöcoroutine ÁöÑÁä∂ÊÄÅÊúâ‰∏âÁßçÔºödeadÔºåsuspendedÔºårunning(Â∑≤ÁªìÊùü„ÄÅÂ∑≤ÊåÇËµ∑„ÄÅËøêË°å‰∏≠),ÂÖ∑‰Ωì‰ªÄ‰πàÊó∂ÂÄôÊúâËøôÊ†∑ÁöÑÁä∂ÊÄÅËØ∑ÂèÇËÄÉ‰∏ãÈù¢ÁöÑÁ®ãÂ∫è„ÄÇ</td>
</tr>
<tr>
<td>coroutine.wrap()</td>
<td><strong>ÂàõÂª∫ coroutineÔºåËøîÂõû‰∏Ä‰∏™ÂáΩÊï∞Ôºå‰∏ÄÊó¶‰Ω†Ë∞ÉÁî®Ëøô‰∏™ÂáΩÊï∞ÔºåÂ∞±ËøõÂÖ• coroutineÔºåÂíå create ÂäüËÉΩÈáçÂ§ç</strong></td>
</tr>
<tr>
<td>coroutine.running()</td>
<td><strong>ËøîÂõûÊ≠£Âú®Ë∑ëÁöÑ coroutine</strong>Ôºå‰∏Ä‰∏™ coroutine Â∞±ÊòØ‰∏Ä‰∏™Á∫øÁ®ãÔºåÂΩì‰ΩøÁî®runningÁöÑÊó∂ÂÄôÔºåÂ∞±ÊòØ<strong>ËøîÂõû‰∏Ä‰∏™ coroutine ÁöÑÁ∫øÁ®ãÂè∑</strong> + <strong>true/false</strong></td>
</tr>
</tbody>
</table>
<ol start="4">
<li>‰ª•‰∏ãÂÆû‰æãÊºîÁ§∫‰∫ÜÂ¶Ç‰Ωï‰ΩøÁî® Lua ÂçèÂêåÁ®ãÂ∫èÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ÂçèÂêåÁ®ãÂ∫è foo ÂºÄÂßãÊâßË°å&quot;</span>)</span><br><span class="line">    <span class="keyword">local</span> value = <span class="built_in">coroutine</span>.<span class="built_in">yield</span>(<span class="string">&quot;ÊöÇÂÅú foo ÁöÑÊâßË°å&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ÂçèÂêåÁ®ãÂ∫è foo ÊÅ¢Â§çÊâßË°åÔºå‰º†ÂÖ•ÁöÑÂÄº‰∏∫: &quot;</span> .. <span class="built_in">tostring</span>(value))</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;ÂçèÂêåÁ®ãÂ∫è foo ÁªìÊùüÊâßË°å&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂàõÂª∫ÂçèÂêåÁ®ãÂ∫è</span></span><br><span class="line"><span class="keyword">local</span> co = <span class="built_in">coroutine</span>.<span class="built_in">create</span>(foo)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂêØÂä®ÂçèÂêåÁ®ãÂ∫è</span></span><br><span class="line"><span class="keyword">local</span> <span class="built_in">status</span>, result = <span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment">-- ËæìÂá∫: ÊöÇÂÅú foo ÁöÑÊâßË°å</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÊÅ¢Â§çÂçèÂêåÁ®ãÂ∫èÁöÑÊâßË°åÔºåÂπ∂‰º†ÂÖ•‰∏Ä‰∏™ÂÄº</span></span><br><span class="line"><span class="built_in">status</span>, result = <span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co, <span class="number">42</span>)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment">-- ËæìÂá∫: ÂçèÂêåÁ®ãÂ∫è foo ÊÅ¢Â§çÊâßË°åÔºå‰º†ÂÖ•ÁöÑÂÄº‰∏∫: 42</span></span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>‰ª•‰∏äÂÆû‰æã‰∏≠ÔºåÊàë‰ª¨<strong>ÂÆö‰πâ‰∫Ü‰∏Ä‰∏™Âêç‰∏∫ foo ÁöÑÂáΩÊï∞‰Ωú‰∏∫ÂçèÂêåÁ®ãÂ∫è</strong>„ÄÇÂú®ÂáΩÊï∞‰∏≠ÔºåÊàë‰ª¨<strong>‰ΩøÁî® coroutine.yield ÊöÇÂÅú‰∫ÜÂçèÂêåÁ®ãÂ∫èÁöÑÊâßË°åÔºåÂπ∂ËøîÂõû‰∫Ü‰∏Ä‰∏™ÂÄº</strong></p>
</li>
<li>
<p>Âú®‰∏ªÁ®ãÂ∫è‰∏≠ÔºåÊàë‰ª¨‰ΩøÁî® <strong>coroutine.create ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂçèÂêåÁ®ãÂ∫èÂØπË±°</strong>ÔºåÂπ∂‰ΩøÁî® <strong>coroutine.resume ÂêØÂä®‰∫ÜÂÆÉÁöÑÊâßË°å</strong>„ÄÇ</p>
</li>
<li>
<p>Âú®<strong>Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî® coroutine.resume ÂêéÔºåÂçèÂêåÁ®ãÂ∫èÊâßË°åÂà∞ coroutine.yield Â§ÑÊöÇÂÅú</strong>Ôºå<strong>Âπ∂Â∞ÜÂÄºËøîÂõûÁªô‰∏ªÁ®ãÂ∫è</strong>„ÄÇÁÑ∂ÂêéÔºåÊàë‰ª¨<strong>ÂÜçÊ¨°Ë∞ÉÁî® coroutine.resumeÔºåÂπ∂‰º†ÂÖ•‰∏Ä‰∏™ÂÄº‰Ωú‰∏∫ÂçèÂêåÁ®ãÂ∫èÊÅ¢Â§çÊâßË°åÊó∂ÁöÑÂèÇÊï∞</strong>„ÄÇ</p>
</li>
</ul>
<p>ÊâßË°å‰ª•‰∏ä‰ª£Á†ÅËæìÂá∫ÁªìÊûú‰∏∫Ôºö</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ÂçèÂêåÁ®ãÂ∫è foo ÂºÄÂßãÊâßË°å</span><br><span class="line">ÊöÇÂÅú foo ÁöÑÊâßË°å</span><br><span class="line">ÂçèÂêåÁ®ãÂ∫è foo ÊÅ¢Â§çÊâßË°åÔºå‰º†ÂÖ•ÁöÑÂÄº‰∏∫: <span class="number">42</span></span><br><span class="line">ÂçèÂêåÁ®ãÂ∫è foo ÁªìÊùüÊâßË°å</span><br><span class="line"><span class="literal">nil</span></span><br></pre></td></tr></table></figure>
<h3 id="16.3-%E5%90%84%E4%B8%AA%E8%AF%AD%E6%B3%95%E7%9A%84%E7%94%A8%E6%B3%95%E5%AE%9E%E4%BE%8B" tabindex="-1">16.3 ÂêÑ‰∏™ËØ≠Ê≥ïÁöÑÁî®Ê≥ïÂÆû‰æã</h3>
<ol>
<li>ÂÆû‰æã1</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- coroutine_test.lua Êñá‰ª∂</span></span><br><span class="line"><span class="comment">-- ÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂçèÂêåÁ®ãÂ∫èÂØπË±° coÔºåÂÖ∂‰∏≠ÂçèÂêåÁ®ãÂ∫èÂáΩÊï∞ÊâìÂç∞‰º†ÂÖ•ÁöÑÂèÇÊï∞ i</span></span><br><span class="line">co = <span class="built_in">coroutine</span>.<span class="built_in">create</span>(</span><br><span class="line">    <span class="function"><span class="keyword">function</span><span class="params">(i)</span></span></span><br><span class="line">        <span class="built_in">print</span>(i);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">-- ‰ΩøÁî® coroutine.resume ÂêØÂä®ÂçèÂêåÁ®ãÂ∫è co ÁöÑÊâßË°åÔºåÂπ∂‰º†ÂÖ•ÂèÇÊï∞ 1„ÄÇÂçèÂêåÁ®ãÂ∫èÂºÄÂßãÊâßË°åÔºåÊâìÂç∞ËæìÂá∫‰∏∫ 1</span></span><br><span class="line"><span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co, <span class="number">1</span>)   <span class="comment">-- 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÈÄöËøá coroutine.status Ê£ÄÊü•ÂçèÂêåÁ®ãÂ∫è co ÁöÑÁä∂ÊÄÅÔºåËæìÂá∫‰∏∫ deadÔºåË°®Á§∫ÂçèÂêåÁ®ãÂ∫èÂ∑≤ÁªèÊâßË°åÂÆåÊØï</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">coroutine</span>.<span class="built_in">status</span>(co))  <span class="comment">-- dead</span></span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ‰ΩøÁî® coroutine.wrap ÂàõÂª∫‰∫Ü‰∏Ä‰∏™ÂçèÂêåÁ®ãÂ∫èÂåÖË£ÖÂô®ÔºåÂ∞ÜÂçèÂêåÁ®ãÂ∫èÂáΩÊï∞ËΩ¨Êç¢‰∏∫‰∏Ä‰∏™ÂèØÁõ¥Êé•Ë∞ÉÁî®ÁöÑÂáΩÊï∞ÂØπË±°</span></span><br><span class="line">co = <span class="built_in">coroutine</span>.<span class="built_in">wrap</span>(</span><br><span class="line">    <span class="function"><span class="keyword">function</span><span class="params">(i)</span></span></span><br><span class="line">        <span class="built_in">print</span>(i);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line">co(<span class="number">1</span>)</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------&quot;</span>)</span><br><span class="line"><span class="comment">-- ÂàõÂª∫‰∫ÜÂè¶‰∏Ä‰∏™ÂçèÂêåÁ®ãÂ∫èÂØπË±° co2ÔºåÂÖ∂‰∏≠ÁöÑÂçèÂêåÁ®ãÂ∫èÂáΩÊï∞ÈÄöËøáÂæ™ÁéØÊâìÂç∞Êï∞Â≠ó 1 Âà∞ 10ÔºåÂú®Âæ™ÁéØÂà∞ 3 ÁöÑÊó∂ÂÄôËæìÂá∫ÂΩìÂâçÂçèÂêåÁ®ãÂ∫èÁöÑÁä∂ÊÄÅÂíåÊ≠£Âú®ËøêË°åÁöÑÁ∫øÁ®ã</span></span><br><span class="line">co2 = <span class="built_in">coroutine</span>.<span class="built_in">create</span>(</span><br><span class="line">    <span class="function"><span class="keyword">function</span><span class="params">()</span></span></span><br><span class="line">        <span class="keyword">for</span> i=<span class="number">1</span>,<span class="number">10</span> <span class="keyword">do</span></span><br><span class="line">            <span class="built_in">print</span>(i)</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">3</span> <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="built_in">coroutine</span>.<span class="built_in">status</span>(co2))  <span class="comment">--running</span></span><br><span class="line">                <span class="built_in">print</span>(<span class="built_in">coroutine</span>.<span class="built_in">running</span>()) <span class="comment">--thread:XXXXXX</span></span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            <span class="built_in">coroutine</span>.<span class="built_in">yield</span>()</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ËøûÁª≠Ë∞ÉÁî® coroutine.resume ÂêØÂä®ÂçèÂêåÁ®ãÂ∫è co2 ÁöÑÊâßË°å</span></span><br><span class="line"><span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co2) <span class="comment">--1</span></span><br><span class="line"><span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co2) <span class="comment">--2</span></span><br><span class="line"><span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co2) <span class="comment">--3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÈÄöËøá coroutine.status Ê£ÄÊü•ÂçèÂêåÁ®ãÂ∫è co2 ÁöÑÁä∂ÊÄÅÔºåËæìÂá∫‰∏∫ suspendedÔºåË°®Á§∫ÂçèÂêåÁ®ãÂ∫èÊöÇÂÅúÊâßË°å</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">coroutine</span>.<span class="built_in">status</span>(co2))   <span class="comment">-- suspended</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">coroutine</span>.<span class="built_in">running</span>())</span><br><span class="line"> </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;----------&quot;</span>)</span><br></pre></td></tr></table></figure>
<p>ËæìÂá∫ÁªìÊûú‰∏∫</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line">dead</span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="comment">----------</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="built_in">running</span></span><br><span class="line">thread: <span class="number">0x7fb801c05868</span>    <span class="literal">false</span></span><br><span class="line">suspended</span><br><span class="line">thread: <span class="number">0x7fb801c04c88</span>    <span class="literal">true</span></span><br><span class="line"><span class="comment">----------</span></span><br></pre></td></tr></table></figure>
<p>coroutine.runningÂ∞±ÂèØ‰ª•ÁúãÂá∫Êù•,<strong>coroutineÂú®Â∫ïÂ±ÇÂÆûÁé∞Â∞±ÊòØ‰∏Ä‰∏™Á∫øÁ®ã</strong>„ÄÇ</p>
<p>ÂΩì<strong>create‰∏Ä‰∏™coroutineÁöÑÊó∂ÂÄôÂ∞±ÊòØÂú®Êñ∞Á∫øÁ®ã‰∏≠Ê≥®ÂÜå‰∫Ü‰∏Ä‰∏™‰∫ã‰ª∂</strong>„ÄÇ</p>
<p>ÂΩì<strong>‰ΩøÁî®resumeËß¶Âèë‰∫ã‰ª∂ÁöÑÊó∂ÂÄô</strong>ÔºåcreateÁöÑ<strong>coroutineÂáΩÊï∞Â∞±Ë¢´ÊâßË°å‰∫Ü</strong>ÔºåÂΩì<strong>ÈÅáÂà∞yieldÁöÑÊó∂ÂÄôÂ∞±‰ª£Ë°®ÊåÇËµ∑ÂΩìÂâçÁ∫øÁ®ã</strong>Ôºå<strong>Á≠âÂÄôÂÜçÊ¨°resumeËß¶Âèë‰∫ã‰ª∂</strong>„ÄÇ</p>
<ol start="2">
<li>Êé•‰∏ãÊù•Êàë‰ª¨ÂàÜÊûê‰∏Ä‰∏™Êõ¥ËØ¶ÁªÜÁöÑÂÆû‰æãÔºö</li>
</ol>
<figure class="highlight lua"><figcaption><span>&#123;.line-numbers&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span> <span class="params">(a)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;foo ÂáΩÊï∞ËæìÂá∫&quot;</span>, a)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">coroutine</span>.<span class="built_in">yield</span>(<span class="number">2</span> * a) <span class="comment">-- ËøîÂõû  2*a ÁöÑÂÄº</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line">co = <span class="built_in">coroutine</span>.<span class="built_in">create</span>(<span class="function"><span class="keyword">function</span> <span class="params">(a , b)</span></span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Á¨¨‰∏ÄÊ¨°ÂçèÂêåÁ®ãÂ∫èÊâßË°åËæìÂá∫&quot;</span>, a, b) <span class="comment">-- co-body 1 10</span></span><br><span class="line">    <span class="keyword">local</span> r = foo(a + <span class="number">1</span>)</span><br><span class="line">     </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Á¨¨‰∫åÊ¨°ÂçèÂêåÁ®ãÂ∫èÊâßË°åËæìÂá∫&quot;</span>, r)</span><br><span class="line">    <span class="keyword">local</span> r, s = <span class="built_in">coroutine</span>.<span class="built_in">yield</span>(a + b, a - b)  <span class="comment">-- aÔºåbÁöÑÂÄº‰∏∫Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®ÂçèÂêåÁ®ãÂ∫èÊó∂‰º†ÂÖ•</span></span><br><span class="line">     </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Á¨¨‰∏âÊ¨°ÂçèÂêåÁ®ãÂ∫èÊâßË°åËæìÂá∫&quot;</span>, r, s)</span><br><span class="line">    <span class="keyword">return</span> b, <span class="string">&quot;ÁªìÊùüÂçèÂêåÁ®ãÂ∫è&quot;</span>                   <span class="comment">-- bÁöÑÂÄº‰∏∫Á¨¨‰∫åÊ¨°Ë∞ÉÁî®ÂçèÂêåÁ®ãÂ∫èÊó∂‰º†ÂÖ•</span></span><br><span class="line"><span class="keyword">end</span>)</span><br><span class="line">        </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;main&quot;</span>, <span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co, <span class="number">1</span>, <span class="number">10</span>)) <span class="comment">-- true, 4</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;--ÂàÜÂâ≤Á∫ø----&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;main&quot;</span>, <span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co, <span class="string">&quot;r&quot;</span>)) <span class="comment">-- true 11 -9</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;---ÂàÜÂâ≤Á∫ø---&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;main&quot;</span>, <span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co, <span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>)) <span class="comment">-- true 10 end</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;---ÂàÜÂâ≤Á∫ø---&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;main&quot;</span>, <span class="built_in">coroutine</span>.<span class="built_in">resume</span>(co, <span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>)) <span class="comment">-- cannot resume dead coroutine</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;---ÂàÜÂâ≤Á∫ø---&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">Á¨¨‰∏ÄÊ¨°ÂçèÂêåÁ®ãÂ∫èÊâßË°åËæìÂá∫    1    10</span></span><br><span class="line"><span class="comment">foo ÂáΩÊï∞ËæìÂá∫    2</span></span><br><span class="line"><span class="comment">main    true    4</span></span><br><span class="line"><span class="comment">--ÂàÜÂâ≤Á∫ø----</span></span><br><span class="line"><span class="comment">Á¨¨‰∫åÊ¨°ÂçèÂêåÁ®ãÂ∫èÊâßË°åËæìÂá∫    r</span></span><br><span class="line"><span class="comment">main    true    11    -9</span></span><br><span class="line"><span class="comment">---ÂàÜÂâ≤Á∫ø---</span></span><br><span class="line"><span class="comment">Á¨¨‰∏âÊ¨°ÂçèÂêåÁ®ãÂ∫èÊâßË°åËæìÂá∫    x    y</span></span><br><span class="line"><span class="comment">main    true    10    ÁªìÊùüÂçèÂêåÁ®ãÂ∫è</span></span><br><span class="line"><span class="comment">---ÂàÜÂâ≤Á∫ø---</span></span><br><span class="line"><span class="comment">main    false    cannot resume dead coroutine</span></span><br><span class="line"><span class="comment">---ÂàÜÂâ≤Á∫ø---</span></span><br><span class="line"><span class="comment">--]]</span></span><br></pre></td></tr></table></figure>
<p>ÂØπ‰ª•‰∏äÁ®ãÂ∫èËøõË°åËØ¶ÁªÜÊµÅÁ®ãËØ¥ÊòéÔºà‚≠ê‚≠ê‚≠êÔºâ:</p>
<ul>
<li>È¶ñÂÖàÊåâÊ≠£Â∏∏ÊµÅÁ®ãËµ∞Âà∞Á¨¨6Ë°åÂàõÂª∫ÂçèÁ®ãÔºå‰ΩÜÊ≤°ÊúâÂêØÂä®</li>
<li>ËøêË°å<strong>17Ë°å</strong>ÂêØÂä®ÂçèÁ®ãco„ÄÇ‰º†ÂÖ•ÂèÇÊï∞1Ôºå10„ÄÇ</li>
<li>Ê≠§Êó∂<strong>6Ë°å</strong>ÁöÑÂåøÂêçÂáΩÊï∞ÂèÇÊï∞aÔºåbÁöÑÂÄº‰∏∫1Ôºå10</li>
<li>ËøêË°å<strong>7Ë°å</strong> ËæìÂá∫ <strong><font color="red">Á¨¨‰∏ÄÊ¨°ÂçèÂêåÁ®ãÂ∫èÊâßË°åËæìÂá∫    1    10</font></strong></li>
<li>ËøêË°å<strong>8Ë°å</strong>ÊâßË°åÂáΩÊï∞1Ë°åfooÔºå‰º†ÂÖ•ÂèÇÊï∞a+1 (Âç≥1+1 ‰∏∫2)</li>
<li>Ê≠§Êó∂<strong>1Ë°å</strong>ÁöÑÂáΩÊï∞fooÂèÇÊï∞aÁöÑÂÄº‰∏∫2</li>
<li>ËøêË°å<strong>2Ë°å</strong> ËæìÂá∫ <strong><font color="red">foo ÂáΩÊï∞ËæìÂá∫    2</font></strong></li>
<li>ËøêË°å<strong>3Ë°å</strong> <strong>‰∏≠Êñ≠ÂçèÁ®ã</strong>ÔºåÊ≠§Êó∂ËøîÂõûÁªô<strong>17Ë°å</strong>ÁöÑcoroutine.resume(co, 1, 10) ËøîÂõûÂÄº„ÄÇ ËøîÂõûÂÄºÊûÑÊàê‰∏∫‰∏§ÈÉ®ÂàÜÔºö
<ul>
<li>true(Ê≠£Â∏∏ÁªìÊùüËøîÂõûtrueÔºå<strong>‰∏ÄËà¨ÂØπÂ∑≤ÁªìÊùüÁöÑÂçèÁ®ãresumeÂ∞±‰ºöfalse</strong>)</li>
<li>3Ë°å‰∏≠coroutine.yield(2 * a)‰∏≠ÁöÑÊâÄÊúâÂèÇÊï∞ÔºåËøôÈáå‰∏∫ 2*a ÔºàÂç≥ 2*2 ‰∏∫ 4Ôºâ</li>
<li>ÊúÄÁªàËøîÂõûÂÄº‰∏∫ true, 4</li>
</ul>
</li>
<li>ËøîÂõûÂà∞<strong>17Ë°å</strong> ËæìÂá∫ <strong><font color="red">main    true    4</font></strong></li>
<li>ËøêË°å<strong>18Ë°å</strong> ËæìÂá∫ <strong><font color="red">‚ÄìÂàÜÂâ≤Á∫ø----</font></strong></li>
<li>--------------------------------------------------------------------------------------------------------</li>
<li>ËøêË°å<strong>19Ë°å</strong>ÂÜçÊ¨°ÂêØÂä®ÂçèÁ®ãcoÔºå‰º†ÂÖ•ÂèÇÊï∞‚Äúr‚ÄùÔºåÂπ∂‰ªé‰∏ä‰∏ÄÊ¨°ÁªàÁ´ØÁöÑ‰ΩçÁΩÆÂºÄÂßãËøêË°åÔºåÂç≥<strong>3Ë°å</strong></li>
<li>ËøêË°å<strong>3Ë°å</strong> Ê≠§Êó∂ <strong>coroutine.yield(2 * a)</strong> ÁöÑÂÄº<strong>‰∏∫ÂÜçÊ¨°ÂêØÂä®ÂçèÁ®ãÊó∂‰º†ÂÖ•ÁöÑÂèÇÊï∞</strong>ÔºåÂç≥<strong>19Ë°å‰º†ÂÖ•ÁöÑÂèÇÊï∞ ‚Äúr‚Äù</strong>
<ul>
<li><strong>Âõ†Ê≠§3Ë°åÊâßË°åÁöÑ‰ª£Á†Å‰∏∫ return ‚Äúr‚Äù</strong></li>
</ul>
</li>
<li>ËøêË°å<strong>4Ë°å</strong> end</li>
<li>ËøîÂõû<strong>8Ë°å</strong> ÂæóÂà∞fooÔºàa+1ÔºâÁöÑËøîÂõûÂÄº‰∏∫3Ë°åÁöÑËøîÂõûÂÄº <strong>‚Äúr‚Äù</strong>,Âπ∂ËµãÂÄºÁªôÊú¨Âú∞ÂèòÈáèr</li>
<li>ËøêË°å<strong>10Ë°å</strong> ËæìÂá∫ <strong><font color="red">Á¨¨‰∫åÊ¨°ÂçèÂêåÁ®ãÂ∫èÊâßË°åËæìÂá∫    r</font></strong></li>
<li>ËøêË°å<strong>11Ë°å</strong> <strong>‰∏≠Êñ≠ÂçèÁ®ã</strong>ÔºåÊ≠§Êó∂ËøîÂõûÁªô<strong>19Ë°å</strong> ÁöÑcoroutine.resume(co, 1, 10) ËøîÂõûÂÄº.ËøîÂõûÂÄºÊûÑÊàê‰∏∫Ôºö
<ul>
<li>true(Ê≠£Â∏∏ÁªìÊùüËøîÂõûtrueÔºå<strong>‰∏ÄËà¨ÂØπÂ∑≤ÁªìÊùüÁöÑÂçèÁ®ãresumeÂ∞±‰ºöfalse</strong>)</li>
<li>coroutine.yield(a + b, a - b)‰∏≠ÁöÑÊâÄÊúâÂèÇÊï∞ÔºåÂç≥a + b, a - b -&gt; 1+10 , 1-10 -&gt; 11,-9 <strong>(aÔºåbÁöÑÂÄº‰∏∫Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®ÂçèÂêåÁ®ãÂ∫èÊó∂‰º†ÂÖ•)</strong></li>
<li>ÊúÄÁªàËøîÂõûÂÄº‰∏∫ true, 11, -9</li>
</ul>
</li>
<li>ËøîÂõû<strong>19Ë°å</strong> ËæìÂá∫ <strong><font color="red">main    true    11    -9</font></strong></li>
<li>ËøêË°å<strong>20Ë°å</strong> ËæìÂá∫ <strong><font color="red">‚ÄîÂàÜÂâ≤Á∫ø‚Äî</font></strong></li>
<li>--------------------------------------------------------------------------------------------------------</li>
<li>ËøêË°å<strong>21Ë°å</strong> <strong>ÂêåÁêÜ19Ë°å</strong>ÔºåÂÜçÊ¨°ÂêØÂä®ÂçèÁ®ãcoÔºå‰º†ÂÖ•ÂèÇÊï∞&quot;x&quot;, ‚Äúy‚ÄùÔºåÂπ∂‰ªé‰∏ä‰∏ÄÊ¨°ÁªàÁ´ØÁöÑ‰ΩçÁΩÆÂºÄÂßãËøêË°åÔºåÂç≥<strong>11Ë°å</strong></li>
<li>ËøêË°å<strong>11Ë°å</strong> Ê≠§Êó∂ <strong>coroutine.yield(a + b, a - b)</strong> ÁöÑÂÄº<strong>‰∏∫ÂÜçÊ¨°ÂêØÂä®ÂçèÁ®ãÊó∂‰º†ÂÖ•ÁöÑÂèÇÊï∞</strong>ÔºåÂç≥<strong>21Ë°å‰º†ÂÖ•ÁöÑÂèÇÊï∞ ‚Äúx‚Äù, ‚Äúy‚Äù</strong>
<ul>
<li><strong>Âõ†Ê≠§11Ë°åÊâßË°åÁöÑ‰ª£Á†Å‰∏∫ local r, s = ‚Äúx‚Äù, ‚Äúy‚Äù</strong></li>
</ul>
</li>
<li>ËøêË°å<strong>13Ë°å</strong> ËæìÂá∫ <strong><font color="red">Á¨¨‰∏âÊ¨°ÂçèÂêåÁ®ãÂ∫èÊâßË°åËæìÂá∫    x    y</font></strong></li>
<li>ËøêË°å<strong>14Ë°å</strong> ËøîÂõûÂçèÁ®ãËøîÂõûÂÄºÔºåÊûÑÊàê‰∏∫Ôºö
<ul>
<li>true(Ê≠£Â∏∏ÁªìÊùüËøîÂõûtrueÔºå<strong>‰∏ÄËà¨ÂØπÂ∑≤ÁªìÊùüÁöÑÂçèÁ®ãresumeÂ∞±‰ºöfalse</strong>)</li>
<li>ÂçèÁ®ãÊ≠£Â∏∏ËøîÂõûÂÄºÔºåÂç≥<strong>b, ‚ÄúÁªìÊùüÂçèÂêåÁ®ãÂ∫è‚Äù</strong> „ÄÇ<strong>(aÔºåbÁöÑÂÄº‰∏∫Á¨¨‰∏ÄÊ¨°Ë∞ÉÁî®ÂçèÂêåÁ®ãÂ∫èÊó∂‰º†ÂÖ•)</strong></li>
<li>ÊúÄÁªàËøîÂõûÂÄº‰∏∫ true, 10, ‚ÄúÁªìÊùüÂçèÂêåÁ®ãÂ∫è‚Äù</li>
</ul>
</li>
<li>ËøîÂõû<strong>21Ë°å</strong> ËæìÂá∫ <strong><font color="red">main    true    10    ÁªìÊùüÂçèÂêåÁ®ãÂ∫è</font></strong></li>
<li>ËøêË°å<strong>22Ë°å</strong> ËæìÂá∫ <strong><font color="red">‚ÄîÂàÜÂâ≤Á∫ø‚Äî</font></strong></li>
<li>ËøêË°å<strong>23Ë°å</strong> Áî±‰∫éÂçèÁ®ãËøêË°åÂÆåÊàêÔºåÂõ†Ê≠§ÂêØÁî®ÂçèÁ®ã‰ºöÂ§±Ë¥•„ÄÇËæìÂá∫ <strong><font color="red">main    false    cannot resume dead coroutine</font></strong></li>
<li>ËøêË°å<strong>24Ë°å</strong> ËæìÂá∫ <strong><font color="red">‚ÄîÂàÜÂâ≤Á∫ø‚Äî</font></strong></li>
</ul>
<h3 id="16.4-%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98" tabindex="-1">16.4 Áîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖÈóÆÈ¢ò</h3>
<ol>
<li>‰ΩøÁî®LuaÁöÑÂçèÂêåÁ®ãÂ∫èÊù•ÂÆåÊàêÁîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖËøô‰∏ÄÁªèÂÖ∏ÈóÆÈ¢ò„ÄÇ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> newProductor</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">productor</span><span class="params">()</span></span></span><br><span class="line">     <span class="keyword">local</span> i = <span class="number">0</span></span><br><span class="line">     <span class="keyword">while</span> <span class="literal">true</span> <span class="keyword">do</span></span><br><span class="line">          i = i + <span class="number">1</span></span><br><span class="line">          send(i)     <span class="comment">-- Â∞ÜÁîü‰∫ßÁöÑÁâ©ÂìÅÂèëÈÄÅÁªôÊ∂àË¥πËÄÖ</span></span><br><span class="line">     <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">consumer</span><span class="params">()</span></span></span><br><span class="line">     <span class="keyword">while</span> <span class="literal">true</span> <span class="keyword">do</span></span><br><span class="line">          <span class="keyword">local</span> i = receive()     <span class="comment">-- ‰ªéÁîü‰∫ßËÄÖÈÇ£ÈáåÂæóÂà∞Áâ©ÂìÅ</span></span><br><span class="line">          <span class="built_in">print</span>(i)</span><br><span class="line">     <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">receive</span><span class="params">()</span></span></span><br><span class="line">     <span class="keyword">local</span> <span class="built_in">status</span>, value = <span class="built_in">coroutine</span>.<span class="built_in">resume</span>(newProductor)</span><br><span class="line">     <span class="keyword">return</span> value</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">send</span><span class="params">(x)</span></span></span><br><span class="line">     <span class="built_in">coroutine</span>.<span class="built_in">yield</span>(x)     <span class="comment">-- xË°®Á§∫ÈúÄË¶ÅÂèëÈÄÅÁöÑÂÄºÔºåÂÄºËøîÂõû‰ª•ÂêéÔºåÂ∞±ÊåÇËµ∑ËØ•ÂçèÂêåÁ®ãÂ∫è</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂêØÂä®Á®ãÂ∫è</span></span><br><span class="line">newProductor = <span class="built_in">coroutine</span>.<span class="built_in">create</span>(productor)</span><br><span class="line">consumer()</span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">2</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">4</span></span><br><span class="line"><span class="comment">5</span></span><br><span class="line"><span class="comment">6</span></span><br><span class="line"><span class="comment">7</span></span><br><span class="line"><span class="comment">8</span></span><br><span class="line"><span class="comment">9</span></span><br><span class="line"><span class="comment">10</span></span><br><span class="line"><span class="comment">11</span></span><br><span class="line"><span class="comment">12</span></span><br><span class="line"><span class="comment">13</span></span><br><span class="line"><span class="comment">‚Ä¶‚Ä¶</span></span><br><span class="line"><span class="comment">--]]</span></span><br><span class="line"><span class="comment">-- ÂêØÂä®Á®ãÂ∫è</span></span><br><span class="line">newProductor = <span class="built_in">coroutine</span>.<span class="built_in">create</span>(productor)</span><br><span class="line">consumer()</span><br></pre></td></tr></table></figure>
<h3 id="16.5-%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%8D%8F%E5%90%8C%E7%A8%8B%E5%BA%8F%E5%8C%BA%E5%88%AB" tabindex="-1">16.5 Á∫øÁ®ãÂíåÂçèÂêåÁ®ãÂ∫èÂå∫Âà´</h3>
<ol>
<li>
<p>Á∫øÁ®ã‰∏éÂçèÂêåÁ®ãÂ∫èÁöÑ<strong>‰∏ªË¶ÅÂå∫Âà´Âú®‰∫éÔºå‰∏Ä‰∏™ÂÖ∑ÊúâÂ§ö‰∏™Á∫øÁ®ãÁöÑÁ®ãÂ∫èÂèØ‰ª•ÂêåÊó∂ËøêË°åÂá†‰∏™Á∫øÁ®ãÔºåËÄåÂçèÂêåÁ®ãÂ∫èÂç¥ÈúÄË¶ÅÂΩºÊ≠§Âçè‰ΩúÁöÑËøêË°å</strong>„ÄÇ</p>
</li>
<li>
<p>Âú®<strong>‰ªª‰∏ÄÊåáÂÆöÊó∂ÂàªÂè™Êúâ‰∏Ä‰∏™ÂçèÂêåÁ®ãÂ∫èÂú®ËøêË°å</strong>ÔºåÂπ∂‰∏îËøô‰∏™Ê≠£Âú®ËøêË°åÁöÑÂçèÂêåÁ®ãÂ∫èÂè™ÊúâÂú®ÊòéÁ°ÆÁöÑË¢´Ë¶ÅÊ±ÇÊåÇËµ∑ÁöÑÊó∂ÂÄôÊâç‰ºöË¢´ÊåÇËµ∑„ÄÇ<br>
ÂçèÂêåÁ®ãÂ∫èÊúâÁÇπÁ±ª‰ººÂêåÊ≠•ÁöÑÂ§öÁ∫øÁ®ãÔºåÂú®Á≠âÂæÖÂêå‰∏Ä‰∏™Á∫øÁ®ãÈîÅÁöÑÂá†‰∏™Á∫øÁ®ãÊúâÁÇπÁ±ª‰ººÂçèÂêå„ÄÇ</p>
</li>
<li>
<p>‰∏ªË¶ÅÂå∫Âà´ÂΩíÁ∫≥Â¶Ç‰∏ãÔºö</p>
</li>
</ol>
<ul>
<li>
<p><strong>Ë∞ÉÂ∫¶ÊñπÂºè</strong>Ôºö<strong>Á∫øÁ®ã</strong>ÈÄöÂ∏∏Áî±<strong>Êìç‰ΩúÁ≥ªÁªüÁöÑË∞ÉÂ∫¶Âô®ËøõË°åÊä¢Âç†ÂºèË∞ÉÂ∫¶</strong>ÔºåÊìç‰ΩúÁ≥ªÁªü‰ºöÂú®‰∏çÂêåÁ∫øÁ®ã‰πãÈó¥ÂàáÊç¢ÊâßË°åÊùÉ„ÄÇËÄå<strong>ÂçèÂêåÁ®ãÂ∫è</strong>ÊòØ<strong>ÈùûÊä¢Âç†ÂºèË∞ÉÂ∫¶</strong>ÁöÑÔºåÂÆÉ‰ª¨Áî±<strong>Á®ãÂ∫èÂëòÊòæÂºèÂú∞ÊéßÂà∂ÊâßË°åÊùÉ</strong>ÁöÑËΩ¨Áßª„ÄÇ</p>
</li>
<li>
<p><strong>Âπ∂ÂèëÊÄß</strong>Ôºö<strong>Á∫øÁ®ãÊòØÂπ∂Âèë</strong>ÊâßË°åÁöÑÔºå<strong>Â§ö‰∏™Á∫øÁ®ãÂèØ‰ª•ÂêåÊó∂ËøêË°å</strong>Âú®Â§ö‰∏™Â§ÑÁêÜÂô®Ê†∏ÂøÉ‰∏äÔºåÊàñËÄÖÈÄöËøáÊó∂Èó¥ÁâáËΩÆËΩ¨Âú®Âçï‰∏™Ê†∏ÂøÉ‰∏äÂàáÊç¢ÊâßË°å„ÄÇ<strong>ÂçèÂêåÁ®ãÂ∫èÂàôÊòØÂçè‰ΩúÂºè</strong>ÁöÑÔºå<strong>Âè™Êúâ‰∏Ä‰∏™ÂçèÂêåÁ®ãÂ∫èÂ§Ñ‰∫éËøêË°åÁä∂ÊÄÅ</strong>ÔºåÂÖ∂‰ªñÂçèÂêåÁ®ãÂ∫è<strong>ÂøÖÈ°ªÁ≠âÂæÖÂΩìÂâçÂçèÂêåÁ®ãÂ∫è‰∏ªÂä®ÊîæÂºÉÊâßË°åÊùÉ</strong>„ÄÇ</p>
</li>
<li>
<p><strong>ÂÜÖÂ≠òÂç†Áî®</strong>Ôºö<strong>Á∫øÁ®ãÈÄöÂ∏∏ÈúÄË¶ÅÁã¨Á´ãÁöÑÂ†ÜÊ†àÂíå‰∏ä‰∏ãÊñáÁéØÂ¢É</strong>ÔºåÂõ†Ê≠§Á∫øÁ®ãÁöÑ<strong>ÂàõÂª∫ÂíåÈîÄÊØÅ</strong>‰ºöÂ∏¶Êù•<strong>È¢ùÂ§ñÁöÑÂºÄÈîÄ</strong>„ÄÇËÄå<strong>ÂçèÂêåÁ®ãÂ∫èÂèØ‰ª•ÂÖ±‰∫´Áõ∏ÂêåÁöÑÂ†ÜÊ†àÂíå‰∏ä‰∏ãÊñá</strong>ÔºåÂõ†Ê≠§ÂàõÂª∫ÂíåÈîÄÊØÅÂçèÂêåÁ®ãÂ∫èÁöÑ<strong>ÂºÄÈîÄËæÉÂ∞è</strong>„ÄÇ</p>
</li>
<li>
<p><strong>Êï∞ÊçÆÂÖ±‰∫´</strong>Ôºö<strong>Á∫øÁ®ã</strong>‰πãÈó¥ÂèØ‰ª•<strong>ÂÖ±‰∫´ÂÜÖÂ≠òÁ©∫Èó¥</strong>Ôºå‰ΩÜ<strong>ÈúÄË¶ÅÊ≥®ÊÑèÁ∫øÁ®ãÂÆâÂÖ®ÊÄßÂíåÂêåÊ≠•</strong>ÈóÆÈ¢ò„ÄÇ<strong>ÂçèÂêåÁ®ãÂ∫è</strong>ÈÄöÂ∏∏<strong>ÈÄöËøáÂèÇÊï∞‰º†ÈÄíÂíåËøîÂõûÂÄº</strong>Êù•ËøõË°å<strong>Êï∞ÊçÆÂÖ±‰∫´</strong>Ôºå<strong>‰∏çÂêåÂçèÂêåÁ®ãÂ∫è</strong>‰πãÈó¥ÁöÑ<strong>Êï∞ÊçÆÈöîÁ¶ªÊÄßËæÉÂ•Ω</strong>„ÄÇ</p>
</li>
<li>
<p>Ë∞ÉËØïÂíåÈîôËØØÂ§ÑÁêÜÔºö<strong>Á∫øÁ®ãÈÄöÂ∏∏Âú®Ë∞ÉËØïÂíåÈîôËØØÂ§ÑÁêÜÊñπÈù¢Êõ¥Â§çÊùÇ</strong>ÔºåÂõ†‰∏∫Â§ö‰∏™Á∫øÁ®ã‰πãÈó¥ÁöÑ‰∫§‰∫íÂíåÂπ∂ÂèëÊâßË°åÂèØËÉΩÂØºËá¥Èöæ‰ª•Ë∞ÉËØïÁöÑÈóÆÈ¢ò„ÄÇ<strong>ÂçèÂêåÁ®ãÂ∫èÂàôÂú®Ë∞ÉËØïÂíåÈîôËØØÂ§ÑÁêÜÊñπÈù¢Áõ∏ÂØπÁÆÄÂçï</strong>ÔºåÂõ†‰∏∫ÂÆÉ‰ª¨ÊòØÁî±Á®ãÂ∫èÂëòÊòæÂºèÂú∞ÊéßÂà∂ÊâßË°åÊµÅÁ®ãÁöÑ„ÄÇ</p>
</li>
</ul>
<ol start="4">
<li>ÊÄª‰ΩìËÄåË®ÄÔºå<strong>Á∫øÁ®ãÈÄÇÁî®‰∫éÈúÄË¶ÅÂπ∂ÂèëÊâßË°åÁöÑÂú∫ÊôØ</strong>Ôºå‰æãÂ¶ÇÂú®Â§öÊ†∏Â§ÑÁêÜÂô®‰∏äÂà©Áî®Âπ∂Ë°åÊÄßÂä†Âø´‰ªªÂä°ÁöÑÊâßË°åÈÄüÂ∫¶„ÄÇËÄå<strong>ÂçèÂêåÁ®ãÂ∫èÈÄÇÁî®‰∫éÈúÄË¶ÅÂçè‰ΩúÂíåÂçèË∞ÉÁöÑÂú∫ÊôØ</strong>Ôºå‰æãÂ¶Ç<strong>Áä∂ÊÄÅÊú∫„ÄÅ‰∫ã‰ª∂È©±Âä®ÁºñÁ®ãÊàñÂçè‰ΩúÂºè‰ªªÂä°Â§ÑÁêÜ</strong>„ÄÇÈÄâÊã©‰ΩøÁî®Á∫øÁ®ãËøòÊòØÂçèÂêåÁ®ãÂ∫èÂèñÂÜ≥‰∫éÂÖ∑‰ΩìÁöÑÂ∫îÁî®ÈúÄÊ±ÇÂíåÁºñÁ®ãÊ®°Âûã„ÄÇ</li>
</ol>
<h1 id="%E5%8D%81%E4%B8%83-%E6%96%87%E4%BB%B6i%2Fo" tabindex="-1">ÂçÅ‰∏É Êñá‰ª∂I/O</h1>
<h3 id="17.1-%E6%A6%82%E8%BF%B0%E5%8F%8A%E7%94%A8%E6%B3%95" tabindex="-1">17.1 Ê¶ÇËø∞ÂèäÁî®Ê≥ï</h3>
<ol>
<li>Lua I/O Â∫ìÁî®‰∫éËØªÂèñÂíåÂ§ÑÁêÜÊñá‰ª∂„ÄÇÂàÜ‰∏∫ÁÆÄÂçïÊ®°ÂºèÔºàÂíåC‰∏ÄÊ†∑Ôºâ„ÄÅÂÆåÂÖ®Ê®°Âºè„ÄÇ</li>
</ol>
<ul>
<li>ÁÆÄ<strong>ÂçïÊ®°ÂºèÔºàsimple modelÔºâÊã•Êúâ‰∏Ä‰∏™ÂΩìÂâçËæìÂÖ•Êñá‰ª∂Âíå‰∏Ä‰∏™ÂΩìÂâçËæìÂá∫Êñá‰ª∂</strong>ÔºåÂπ∂‰∏îÊèê‰æõÈíàÂØπËøô‰∫õÊñá‰ª∂Áõ∏ÂÖ≥ÁöÑÊìç‰Ωú„ÄÇ</li>
<li><strong>ÂÆåÂÖ®Ê®°ÂºèÔºàcomplete modelÔºâ ‰ΩøÁî®Â§ñÈÉ®ÁöÑÊñá‰ª∂Âè•ÊüÑÊù•ÂÆûÁé∞</strong>„ÄÇÂÆÉ‰ª•‰∏ÄÁßçÈù¢ÂØπÂØπË±°ÁöÑÂΩ¢ÂºèÔºåÂ∞ÜÊâÄÊúâÁöÑÊñá‰ª∂Êìç‰ΩúÂÆö‰πâ‰∏∫Êñá‰ª∂Âè•ÊüÑÁöÑÊñπÊ≥ï</li>
</ul>
<ol start="2">
<li>
<p><strong>ÁÆÄÂçïÊ®°ÂºèÂú®ÂÅö‰∏Ä‰∫õÁÆÄÂçïÁöÑÊñá‰ª∂Êìç‰ΩúÊó∂ËæÉ‰∏∫ÂêàÈÄÇ</strong>„ÄÇ‰ΩÜÊòØÂú®<strong>ËøõË°å‰∏Ä‰∫õÈ´òÁ∫ßÁöÑÊñá‰ª∂Êìç‰ΩúÁöÑÊó∂ÂÄôÔºåÁÆÄÂçïÊ®°ÂºèÂ∞±ÊòæÂæóÂäõ‰∏ç‰ªéÂøÉ„ÄÇ‰æãÂ¶ÇÂêåÊó∂ËØªÂèñÂ§ö‰∏™Êñá‰ª∂ËøôÊ†∑ÁöÑÊìç‰ΩúÔºå‰ΩøÁî®ÂÆåÂÖ®Ê®°ÂºèÂàôËæÉ‰∏∫ÂêàÈÄÇ</strong>„ÄÇ</p>
</li>
<li>
<p>ÊâìÂºÄÊñá‰ª∂Êìç‰ΩúËØ≠Âè•Â¶Ç‰∏ãÔºö</p>
</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">file = <span class="built_in">io</span>.<span class="built_in">open</span> (filename [, mode])</span><br></pre></td></tr></table></figure>
<ul>
<li>modeÁöÑÂÄºÊúâÔºö</li>
</ul>
<table>
<thead>
<tr>
<th>Ê®°Âºè</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>r</td>
<td>‰ª•<strong>Âè™ËØªÊñπÂºèÊâìÂºÄÊñá</strong>‰ª∂ÔºåËØ•<strong>Êñá‰ª∂ÂøÖÈ°ªÂ≠òÂú®</strong>„ÄÇ</td>
</tr>
<tr>
<td>w</td>
<td><strong>ÊâìÂºÄÂè™ÂÜôÊñá‰ª∂</strong>ÔºåËã•<strong>Êñá‰ª∂Â≠òÂú®Âàô</strong>Êñá‰ª∂ÈïøÂ∫¶Ê∏Ö‰∏∫0ÔºåÂç≥<strong>ËØ•Êñá‰ª∂ÂÜÖÂÆπ‰ºöÊ∂àÂ§±</strong>„ÄÇËã•<strong>Êñá‰ª∂‰∏çÂ≠òÂú®ÂàôÂª∫Á´ãËØ•Êñá‰ª∂</strong>„ÄÇ</td>
</tr>
<tr>
<td>a</td>
<td>‰ª•<strong>ÈôÑÂä†ÁöÑÊñπÂºèÊâìÂºÄÂè™ÂÜôÊñá‰ª∂</strong>„ÄÇËã•<strong>Êñá‰ª∂‰∏çÂ≠òÂú®</strong>ÔºåÂàô‰ºö<strong>Âª∫Á´ã</strong>ËØ•Êñá‰ª∂ÔºåÂ¶ÇÊûú<strong>Êñá‰ª∂Â≠òÂú®</strong>ÔºåÂÜôÂÖ•ÁöÑ<strong>Êï∞ÊçÆ‰ºöË¢´Âä†Âà∞Êñá‰ª∂Â∞æ</strong>ÔºåÂç≥Êñá‰ª∂<strong>ÂéüÂÖàÁöÑÂÜÖÂÆπ‰ºöË¢´‰øùÁïô</strong>„ÄÇÔºàEOFÁ¨¶‰øùÁïôÔºâ</td>
</tr>
<tr>
<td>r+</td>
<td>‰ª•<strong>ÂèØËØªÂÜôÊñπÂºèÊâìÂºÄÊñá‰ª∂</strong>ÔºåËØ•<strong>Êñá‰ª∂ÂøÖÈ°ªÂ≠òÂú®</strong>„ÄÇ</td>
</tr>
<tr>
<td>w+</td>
<td><strong>ÊâìÂºÄÂèØËØªÂÜôÊñá‰ª∂</strong>ÔºåËã•****Êñá‰ª∂Â≠òÂú®<strong>ÂàôÊñá‰ª∂ÈïøÂ∫¶Ê∏Ö‰∏∫Èõ∂ÔºåÂç≥ËØ•Êñá‰ª∂</strong>ÂÜÖÂÆπ‰ºöÊ∂àÂ§±**„ÄÇËã•Êñá‰ª∂<strong>‰∏çÂ≠òÂú®ÂàôÂª∫Á´ã</strong>ËØ•Êñá‰ª∂„ÄÇ</td>
</tr>
<tr>
<td>a+</td>
<td>‰∏é<strong>aÁ±ª‰ººÔºå‰ΩÜÊ≠§Êñá‰ª∂ÂèØËØªÂèØÂÜô</strong></td>
</tr>
<tr>
<td>b</td>
<td><strong>‰∫åËøõÂà∂Ê®°ÂºèÔºåÂ¶ÇÊûúÊñá‰ª∂ÊòØ‰∫åËøõÂà∂Êñá‰ª∂ÔºåÂèØ‰ª•Âä†‰∏äb</strong></td>
</tr>
<tr>
<td>+</td>
<td><strong>Âè∑Ë°®Á§∫ÂØπÊñá‰ª∂Êó¢ÂèØ‰ª•ËØª‰πüÂèØ‰ª•ÂÜô</strong></td>
</tr>
</tbody>
</table>
<h3 id="17.2-%E7%AE%80%E5%8D%95%E6%A8%A1%E5%BC%8F%EF%BC%88io.%E8%B0%83%E7%94%A8%EF%BC%89" tabindex="-1">17.2 ÁÆÄÂçïÊ®°ÂºèÔºàio.Ë∞ÉÁî®Ôºâ</h3>
<ol>
<li>ÁÆÄÂçïÊ®°Âºè‰ΩøÁî®Ê†áÂáÜÁöÑ I/O Êàñ‰ΩøÁî®‰∏Ä‰∏™ÂΩìÂâçËæìÂÖ•Êñá‰ª∂Âíå‰∏Ä‰∏™ÂΩìÂâçËæìÂá∫Êñá‰ª∂„ÄÇ<br>
‰ª•‰∏ã‰∏∫ file.lua Êñá‰ª∂‰ª£Á†ÅÔºåÊìç‰ΩúÁöÑÊñá‰ª∂‰∏∫test.lua(Â¶ÇÊûúÊ≤°Êúâ‰Ω†ÈúÄË¶ÅÂàõÂª∫ËØ•Êñá‰ª∂)Ôºå‰ª£Á†ÅÂ¶Ç‰∏ãÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ‰ª•Âè™ËØªÊñπÂºèÊâìÂºÄÊñá‰ª∂</span></span><br><span class="line">file = <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="string">&quot;test.lua&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ËÆæÁΩÆÈªòËÆ§ËæìÂÖ•Êñá‰ª∂‰∏∫ test.lua</span></span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">input</span>(file)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ËæìÂá∫Êñá‰ª∂Á¨¨‰∏ÄË°å</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">io</span>.<span class="built_in">read</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂÖ≥Èó≠ÊâìÂºÄÁöÑÊñá‰ª∂</span></span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">close</span>(file)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ‰ª•ÈôÑÂä†ÁöÑÊñπÂºèÊâìÂºÄÂè™ÂÜôÊñá‰ª∂</span></span><br><span class="line">file = <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="string">&quot;test.lua&quot;</span>, <span class="string">&quot;a&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ËÆæÁΩÆÈªòËÆ§ËæìÂá∫Êñá‰ª∂‰∏∫ test.lua</span></span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">output</span>(file)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Âú®Êñá‰ª∂ÊúÄÂêé‰∏ÄË°åÊ∑ªÂä† Lua Ê≥®Èáä</span></span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">write</span>(<span class="string">&quot;--  test.lua Êñá‰ª∂Êú´Â∞æÊ≥®Èáä&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂÖ≥Èó≠ÊâìÂºÄÁöÑÊñá‰ª∂</span></span><br><span class="line"><span class="built_in">io</span>.<span class="built_in">close</span>(file)</span><br></pre></td></tr></table></figure>
<p>ÊâßË°å‰ª•‰∏ä‰ª£Á†ÅÔºå‰Ω†‰ºöÂèëÁé∞ÔºåËæìÂá∫‰∫Ü test.lua Êñá‰ª∂ÁöÑÁ¨¨‰∏ÄË°å‰ø°ÊÅØÔºåÂπ∂Âú®ËØ•Êñá‰ª∂ÊúÄÂêé‰∏ÄË°åÊ∑ªÂä†‰∫Ü lua ÁöÑÊ≥®Èáä„ÄÇÂ¶ÇÊàëËøôËæπËæìÂá∫ÁöÑÊòØÔºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- test.lua Êñá‰ª∂</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Âú®‰ª•‰∏äÂÆû‰æã‰∏≠Êàë‰ª¨‰ΩøÁî®‰∫Ü io.‚Äúx‚Äù ÊñπÊ≥ïÔºåÂÖ∂‰∏≠ io.read() ‰∏≠Êàë‰ª¨Ê≤°ÊúâÂ∏¶ÂèÇÊï∞ÔºåÂèÇÊï∞ÂèØ‰ª•ÊòØ‰∏ãË°®‰∏≠ÁöÑ‰∏Ä‰∏™Ôºö</li>
</ol>
<table>
<thead>
<tr>
<th>Ê®°Âºè</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>‚Äú*n‚Äù</td>
<td><strong>ËØªÂèñ‰∏Ä‰∏™Êï∞Â≠óÂπ∂ËøîÂõûÂÆÉ</strong>„ÄÇ‰æãÔºöfile.read(‚Äú*n‚Äù)</td>
</tr>
<tr>
<td>‚Äú*a‚Äù</td>
<td><strong>‰ªéÂΩìÂâç‰ΩçÁΩÆËØªÂèñÊï¥‰∏™Êñá‰ª∂</strong>„ÄÇ‰æãÔºöfile.read(‚Äú*a‚Äù)</td>
</tr>
<tr>
<td>‚Äú*l‚ÄùÔºàÈªòËÆ§Ôºâ</td>
<td><strong>ËØªÂèñ‰∏ã‰∏ÄË°å</strong>ÔºåÂú®Êñá‰ª∂Â∞æ (EOF) Â§ÑËøîÂõû nil„ÄÇ‰æãÔºöfile.read(‚Äú*l‚Äù)</td>
</tr>
<tr>
<td>number</td>
<td><strong>ËøîÂõû‰∏Ä‰∏™ÊåáÂÆöÂ≠óÁ¨¶‰∏™Êï∞ÁöÑÂ≠óÁ¨¶‰∏≤</strong>ÔºåÂ¶ÇÊûúnumber‰∏∫0ÂàôËøîÂõûÁ©∫Â≠ó‰∏≤ÔºåÊàñÂú® EOF Êó∂ËøîÂõû nil„ÄÇ‰æãÔºöfile.read(5)</td>
</tr>
</tbody>
</table>
<ol start="3">
<li>ÁÆÄÂçïÊ®°ÂºèÁöÑI/OÊñπÊ≥ïÊ±áÊÄª<br>
ÂèÇËÄÉÂçöÂÆ¢Ôºö<a target="_blank" rel="noopener" href="https://blog.csdn.net/duanxuyun/article/details/4751118">lua ÁöÑioÊìç‰ΩúÔºåÈùûÂ∏∏ËØ¶ÁªÜ„ÄÇ</a></li>
</ol>
<table>
<thead>
<tr>
<th>ÊñπÊ≥ï</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>io.close ([file])</td>
<td>ÂäüËÉΩÔºöÁõ∏ÂΩì‰∫éfile:close()ÔºåÂÖ≥Èó≠ÈªòËÆ§ÁöÑËæìÂá∫Êñá‰ª∂</td>
</tr>
<tr>
<td>io.flush ()</td>
<td>ÂäüËÉΩÔºöÁõ∏ÂΩì‰∫éfile:flush(),<strong>ËæìÂá∫ÊâÄÊúâÁºìÂÜ≤‰∏≠ÁöÑÂÜÖÂÆπÂà∞ÈªòËÆ§ËæìÂá∫Êñá‰ª∂</strong></td>
</tr>
<tr>
<td>io.lines ([filename])</td>
<td>ÂäüËÉΩÔºöÊâìÂºÄÊåáÂÆöÁöÑÊñá‰ª∂filename‰∏∫ËØªÊ®°ÂºèÂπ∂<strong>ËøîÂõû‰∏Ä‰∏™Ëø≠‰ª£ÂáΩÊï∞ÔºàÈÖçÂêàÂæ™ÁéØËØ≠Âè•‰ΩøÁî®Ôºâ</strong>,ÊØèÊ¨°Ë∞ÉÁî®Â∞Ü<strong>Ëé∑ÂæóÊñá‰ª∂‰∏≠ÁöÑ‰∏ÄË°åÂÜÖÂÆπ,ÂΩìÂà∞Êñá‰ª∂Â∞æÊó∂ÔºåÂ∞ÜËøîÂõûnil,Âπ∂Ëá™Âä®ÂÖ≥Èó≠Êñá‰ª∂</strong>„ÄÇ<strong>Ëã•‰∏çÂ∏¶ÂèÇÊï∞Êó∂io.lines() &lt;=&gt; io.input():lines()</strong>; <strong>ËØªÂèñÈªòËÆ§ËæìÂÖ•ËÆæÂ§áÁöÑÂÜÖÂÆπÔºå‰ΩÜÁªìÊùüÊó∂‰∏çÂÖ≥Èó≠Êñá‰ª∂„ÄÇ</strong> <br>Â¶ÇÔºöfor line in io.lines(‚Äúmain.lua‚Äù) do<br>„ÄÄ„ÄÄprint(line)<br>„ÄÄ„ÄÄend</td>
</tr>
<tr>
<td>io.open (filename [, mode])</td>
<td>ÂäüËÉΩÔºö<strong>ÊåâÊåáÂÆöÁöÑÊ®°ÂºèÊâìÂºÄ‰∏Ä‰∏™Êñá‰ª∂</strong>ÔºåÊàêÂäüÂàôËøîÂõûÊñá‰ª∂Âè•ÊüÑÔºåÂ§±Ë¥•ÂàôËøîÂõûnil+ÈîôËØØ‰ø°ÊÅØ„ÄÇÊ®°ÂºèÂèÇÊï∞ËØ¥ÊòéÂú® <a href="#171-%E6%A6%82%E8%BF%B0%E5%8F%8A%E7%94%A8%E6%B3%95">17.1 Ê¶ÇËø∞ÂèäÁî®Ê≥ï</a> ‰∏≠ÁöÑÁ¨¨3ÁÇπÊúâËØ¥Êòé</td>
</tr>
<tr>
<td>io.output ([file])</td>
<td>ÂäüËÉΩÔºöÁõ∏ÂΩì‰∫éio.inputÔºå‰ΩÜÊìç‰ΩúÂú®ÈªòËÆ§ËæìÂá∫Êñá‰ª∂‰∏ä</td>
</tr>
<tr>
<td>io.popen ([prog [, mode]])</td>
<td>ÂäüËÉΩÔºöÂºÄÂßãÁ®ãÂ∫èprog‰∫éÈ¢ùÂ§ñÁöÑËøõÁ®ã,Âπ∂ËøîÂõûÁî®‰∫éprogÁöÑÊñá‰ª∂Âè•ÊüÑ(Âπ∂‰∏çÊîØÊåÅÊâÄÊúâÁöÑÁ≥ªÁªüÂπ≥Âè∞)</td>
</tr>
<tr>
<td>io.read (‚Ä¶)</td>
<td>ÂäüËÉΩÔºö‰ªéÂΩìÂâçËæìÂÖ•ÊµÅËæìÂÖ•ËØªÂèñ‰∏ÄË°åÔºåÂèÇÊï∞Âú® <a href="#172-%E7%AE%80%E5%8D%95%E6%A8%A1%E5%BC%8Fio%E8%B0%83%E7%94%A8">17.2 ÁÆÄÂçïÊ®°Âºè</a> ‰∏≠ÁöÑÁ¨¨2ÁÇπÊèêÂà∞„ÄÇÁõ∏ÂΩì‰∫éio.input():read„ÄÇ <strong>‰∏çÂ∏¶ÂèÇÊï∞Êó∂ÔºåÈªòËÆ§ÊØèËøêË°å‰∏ÄÊ¨°io.read()Â∞±Âêë‰∏ãËØª‰∏ÄË°å</strong></td>
</tr>
<tr>
<td>io.tmpfile ()</td>
<td>ÂäüËÉΩÔºöËøîÂõû‰∏Ä‰∏™‰∏¥Êó∂Êñá‰ª∂Âè•ÊüÑÔºåËØ•Êñá‰ª∂‰ª•Êõ¥Êñ∞Ê®°ÂºèÊâìÂºÄÔºåÁ®ãÂ∫èÁªìÊùüÊó∂Ëá™Âä®Âà†Èô§</td>
</tr>
<tr>
<td>io.type (obj)</td>
<td>ÂäüËÉΩÔºöÊ£ÄÊµãobjÊòØÂê¶‰∏Ä‰∏™ÂèØÁî®ÁöÑÊñá‰ª∂Âè•ÊüÑ<br>ËøîÂõûÔºö<br>„ÄÄ„ÄÄ‚Äúfile‚ÄùÔºö‰∏∫‰∏Ä‰∏™ÊâìÂºÄÁöÑÊñá‰ª∂Âè•ÊüÑ<br>„ÄÄ„ÄÄ‚Äúclosed file‚ÄùÔºö‰∏∫‰∏Ä‰∏™Â∑≤ÂÖ≥Èó≠ÁöÑÊñá‰ª∂Âè•ÊüÑ<br>„ÄÄ„ÄÄnil: Ë°®Á§∫obj‰∏çÊòØ‰∏Ä‰∏™Êñá‰ª∂Âè•ÊüÑ</td>
</tr>
<tr>
<td>io.write (‚Ä¶)</td>
<td>ÂäüËÉΩÔºöÁõ∏ÂΩì‰∫éio.output():write,ÂêëÊñá‰ª∂ÂÜôÂÖ•ÂÜÖÂÆπÔºåÂÜôÂÖ•ÊñπÂºè‰ºöÊ†πÊçÆmodeËÄå‰∏çÂêå„ÄÇ</td>
</tr>
</tbody>
</table>
<h3 id="17.3-%E5%AE%8C%E5%85%A8%E6%A8%A1%E5%BC%8F%EF%BC%88file%3A%E8%B0%83%E7%94%A8%EF%BC%89" tabindex="-1">17.3 ÂÆåÂÖ®Ê®°ÂºèÔºàfile:Ë∞ÉÁî®Ôºâ</h3>
<ol>
<li>ÈÄöÂ∏∏Êàë‰ª¨<strong>ÈúÄË¶ÅÂú®Âêå‰∏ÄÊó∂Èó¥Â§ÑÁêÜÂ§ö‰∏™Êñá‰ª∂</strong>„ÄÇÊàë‰ª¨ÈúÄË¶Å<strong>‰ΩøÁî® file:function_name Êù•‰ª£Êõø io.function_name ÊñπÊ≥ï</strong>„ÄÇ‰ª•‰∏ãÂÆû‰æãÊºîÁ§∫‰∫ÜÂ¶Ç‰ΩïÂêåÊó∂Â§ÑÁêÜÂêå‰∏Ä‰∏™Êñá‰ª∂:</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ‰ª•Âè™ËØªÊñπÂºèÊâìÂºÄÊñá‰ª∂</span></span><br><span class="line">file = <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="string">&quot;test.lua&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ËæìÂá∫Êñá‰ª∂Á¨¨‰∏ÄË°å</span></span><br><span class="line"><span class="built_in">print</span>(file:<span class="built_in">read</span>())</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂÖ≥Èó≠ÊâìÂºÄÁöÑÊñá‰ª∂</span></span><br><span class="line">file:<span class="built_in">close</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ‰ª•ÈôÑÂä†ÁöÑÊñπÂºèÊâìÂºÄÂè™ÂÜôÊñá‰ª∂</span></span><br><span class="line">file = <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="string">&quot;test.lua&quot;</span>, <span class="string">&quot;a&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Âú®Êñá‰ª∂ÊúÄÂêé‰∏ÄË°åÊ∑ªÂä† Lua Ê≥®Èáä</span></span><br><span class="line">file:<span class="built_in">write</span>(<span class="string">&quot;--test&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂÖ≥Èó≠ÊâìÂºÄÁöÑÊñá‰ª∂</span></span><br><span class="line">file:<span class="built_in">close</span>()</span><br></pre></td></tr></table></figure>
<p><strong>read ÁöÑÂèÇÊï∞‰∏éÁÆÄÂçïÊ®°Âºè‰∏ÄËá¥„ÄÇ</strong></p>
<ol start="2">
<li>ÂÆåÂÖ®Ê®°ÂºèÁöÑI/OÊñπÊ≥ïÊ±áÊÄª</li>
</ol>
<table>
<thead>
<tr>
<th>ÊñπÊ≥ï</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody>
<tr>
<td>file:close()</td>
<td>ÂäüËÉΩÔºöÂÖ≥Èó≠Êñá‰ª∂„ÄÇ„ÄÄÊ≥®Ôºö<strong>ÂΩìÊñá‰ª∂Âè•ÊüÑË¢´ÂûÉÂúæÊî∂ÈõÜÂêéÔºåÊñá‰ª∂Â∞ÜËá™Âä®ÂÖ≥Èó≠„ÄÇÂè•ÊüÑÂ∞ÜÂèò‰∏∫‰∏Ä‰∏™‰∏çÂèØÈ¢ÑÁü•ÁöÑÂÄº</strong></td>
</tr>
<tr>
<td>file:flush()</td>
<td>ÂäüËÉΩÔºöÂêëÊñá‰ª∂ÂÜôÂÖ•ÁºìÂÜ≤‰∏≠ÁöÑÊâÄÊúâÊï∞ÊçÆ</td>
</tr>
<tr>
<td>file:lines()</td>
<td>ÂäüËÉΩÔºö<strong>ËøîÂõû‰∏Ä‰∏™Ëø≠‰ª£ÂáΩÊï∞ÔºàÈÖçÂêàÂæ™ÁéØËØ≠Âè•‰ΩøÁî®Ôºâ</strong>,ÊØèÊ¨°Ë∞ÉÁî®Â∞ÜËé∑ÂæóÊñá‰ª∂‰∏≠ÁöÑ‰∏ÄË°åÂÜÖÂÆπ,<strong>ÂΩìÂà∞Êñá‰ª∂Â∞æÊó∂ÔºåÂ∞ÜËøîÂõûnil,‰ΩÜ‰∏çÂÖ≥Èó≠Êñá‰ª∂„ÄÇ</strong> <br>Â¶ÇÔºöfor line in file:lines() do body end</td>
</tr>
<tr>
<td>file:read(‚Ä¶)</td>
<td>ÂäüËÉΩÔºö<strong>ÊåâÊåáÂÆöÁöÑÊ†ºÂºèËØªÂèñ‰∏Ä‰∏™Êñá‰ª∂</strong>,ÊåâÊØè‰∏™Ê†ºÂºèÂáΩÊï∞Â∞Ü<strong>ËøîÂõû‰∏Ä‰∏™Â≠ó‰∏≤ÊàñÊï∞Â≠ó,Â¶ÇÊûú‰∏çËÉΩÊ≠£Á°ÆËØªÂèñÂ∞ÜËøîÂõûnil</strong>,Ëã•<strong>Ê≤°ÊúâÊåáÂÆöÊ†ºÂºèÂ∞ÜÊåáÈªòËÆ§ÊåâË°åÊñπÂºè</strong>ËøõË°å<strong>ËØªÂèñ</strong>„ÄÇÂèÇÊï∞‰∏é <a href="#172-%E7%AE%80%E5%8D%95%E6%A8%A1%E5%BC%8Fio%E8%B0%83%E7%94%A8">17.2 ÁÆÄÂçïÊ®°Âºè</a> ‰∏≠ÁöÑÁ¨¨2ÁÇπÁõ∏Âêå„ÄÇ <strong>‰∏çÂ∏¶ÂèÇÊï∞Êó∂ÔºåÈªòËÆ§ÊØèËøêË°å‰∏ÄÊ¨°io.read()Â∞±Âêë‰∏ãËØª‰∏ÄË°å</strong></td>
</tr>
<tr>
<td>file:seek([whence][,offset])</td>
<td>ÂäüËÉΩÔºö<strong>ËÆæÁΩÆÂíåËé∑ÂèñÂΩìÂâçÊñá‰ª∂‰ΩçÁΩÆ</strong>,<strong>ÊàêÂäüÂàôËøîÂõûÊúÄÁªàÁöÑÊñá‰ª∂‰ΩçÁΩÆ</strong>(ÊåâÂ≠óËäÇ),<strong>Â§±Ë¥•ÂàôËøîÂõûnilÂä†ÈîôËØØ‰ø°ÊÅØ</strong><br>ÂèÇÊï∞:<br>„ÄÄ„ÄÄwhence:<br>„ÄÄ„ÄÄ„ÄÄ‚Äúset‚Äù: ‰ªéÊñá‰ª∂Â§¥ÂºÄÂßã<br>„ÄÄ„ÄÄ„ÄÄ‚Äúcur‚Äù: ‰ªéÂΩìÂâç‰ΩçÁΩÆÂºÄÂßã[ÈªòËÆ§]<br>„ÄÄ„ÄÄ„ÄÄ‚Äúend‚Äù: ‰ªéÊñá‰ª∂Â∞æÂºÄÂßã<br>„ÄÄ„ÄÄoffset: ÈªòËÆ§‰∏∫0<br><strong>‰∏çÂ∏¶ÂèÇÊï∞file:seek()ÂàôËøîÂõûÂΩìÂâç‰ΩçÁΩÆ</strong>,file:seek(‚Äúset‚Äù)<strong>ÂàôÂÆö‰ΩçÂà∞Êñá‰ª∂Â§¥</strong>,file:seek(‚Äúend‚Äù)<strong>ÂàôÂÆö‰ΩçÂà∞Êñá‰ª∂Â∞æÂπ∂ËøîÂõûÊñá‰ª∂Â§ßÂ∞è</strong></td>
</tr>
<tr>
<td>file:setvbuf(mode,[,size])</td>
<td>ÂäüËÉΩÔºö<strong>ËÆæÁΩÆËæìÂá∫Êñá‰ª∂ÁöÑÁºìÂÜ≤Ê®°Âºè</strong><br>„ÄÄ„ÄÄÂèÇÊï∞<br>„ÄÄ„ÄÄmode:<br>„ÄÄ„ÄÄ„ÄÄ‚Äúno‚Äù: Ê≤°ÊúâÁºìÂÜ≤ÔºåÂç≥Áõ¥Êé•ËæìÂá∫<br>„ÄÄ„ÄÄ„ÄÄ‚Äúfull‚Äù: ÂÖ®ÁºìÂÜ≤ÔºåÂç≥ÂΩìÁºìÂÜ≤Êª°ÂêéÊâçËøõË°åËæìÂá∫Êìç‰Ωú(‰πüÂèØË∞ÉÁî®flushÈ©¨‰∏äËæìÂá∫)<br>„ÄÄ„ÄÄ„ÄÄ‚Äúline‚Äù: ‰ª•Ë°å‰∏∫Âçï‰ΩçÔºåËøõË°åËæìÂá∫(Â§öÁî®‰∫éÁªàÁ´ØËÆæÂ§á)<br><strong>ÊúÄÂêé‰∏§ÁßçÊ®°Âºè,sizeÂèØ‰ª•ÊåáÂÆöÁºìÂÜ≤ÁöÑÂ§ßÂ∞è</strong>(ÊåâÂ≠óËäÇ)Ôºå<strong>ÂøΩÁï•sizeÂ∞ÜËá™Âä®Ë∞ÉÊï¥‰∏∫ÊúÄ‰Ω≥ÁöÑÂ§ßÂ∞è</strong></td>
</tr>
<tr>
<td>file:write(‚Ä¶)</td>
<td>ÂäüËÉΩÔºö<strong>ÊåâÊåáÂÆöÁöÑÂèÇÊï∞Ê†ºÂºèËæìÂá∫Êñá‰ª∂ÂÜÖÂÆπÔºåÂèÇÊï∞ÂøÖÈ°ª‰∏∫Â≠óÁ¨¶ÊàñÊï∞Â≠ó</strong>ÔºåËã•Ë¶ÅËæìÂá∫<strong>ÂÖ∂ÂÆÉÂÄº</strong>ÔºåÂàôÈúÄ<strong>ÈÄöËøátostringÊàñstring.formatËøõË°åËΩ¨Êç¢</strong></td>
</tr>
</tbody>
</table>
<p>‰ª•‰∏ãÂÆû‰æã‰ΩøÁî®‰∫Ü <strong>seek ÊñπÊ≥ï</strong>Ôºå<strong>ÂÆö‰ΩçÂà∞Êñá‰ª∂ÂÄíÊï∞Á¨¨ 25 ‰∏™‰ΩçÁΩÆÂπ∂‰ΩøÁî® read ÊñπÊ≥ïÁöÑ *a ÂèÇÊï∞</strong>Ôºå<strong>Âç≥‰ªéÂΩìÂâç‰ΩçÁΩÆ(ÂÄíÊï∞Á¨¨ 25 ‰∏™‰ΩçÁΩÆ)ËØªÂèñÊï¥‰∏™Êñá‰ª∂</strong>:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ‰ª•Âè™ËØªÊñπÂºèÊâìÂºÄÊñá‰ª∂</span></span><br><span class="line">file = <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="string">&quot;test.lua&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line"></span><br><span class="line">file:seek(<span class="string">&quot;end&quot;</span>,<span class="number">-25</span>)</span><br><span class="line"><span class="built_in">print</span>(file:<span class="built_in">read</span>(<span class="string">&quot;*a&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂÖ≥Èó≠ÊâìÂºÄÁöÑÊñá‰ª∂</span></span><br><span class="line">file:<span class="built_in">close</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">st.lua Êñá‰ª∂Êú´Â∞æ--test</span></span><br><span class="line"><span class="comment">--]]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h1 id="%E5%8D%81%E5%85%AB-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86" tabindex="-1">ÂçÅÂÖ´ ÈîôËØØÂ§ÑÁêÜ</h1>
<h3 id="18.1-%E6%A6%82%E8%BF%B0" tabindex="-1">18.1 Ê¶ÇËø∞</h3>
<ol>
<li>
<p>Á®ãÂ∫èËøêË°å‰∏≠ÈîôËØØÂ§ÑÁêÜÊòØÂøÖË¶ÅÁöÑÔºåÂú®Êàë‰ª¨ËøõË°åÊñá‰ª∂Êìç‰ΩúÔºåÊï∞ÊçÆËΩ¨ÁßªÂèäweb service Ë∞ÉÁî®ËøáÁ®ã‰∏≠ÈÉΩ‰ºöÂá∫Áé∞‰∏çÂèØÈ¢ÑÊúüÁöÑÈîôËØØ„ÄÇÂ¶ÇÊûú‰∏çÊ≥®ÈáçÈîôËØØ‰ø°ÊÅØÁöÑÂ§ÑÁêÜÔºåÂ∞±‰ºöÈÄ†Êàê‰ø°ÊÅØÊ≥ÑÈú≤ÔºåÁ®ãÂ∫èÊó†Ê≥ïËøêË°åÁ≠âÊÉÖÂÜµ„ÄÇ</p>
</li>
<li>
<p>‰ªª‰ΩïÁ®ãÂ∫èËØ≠Ë®Ä‰∏≠ÔºåÈÉΩÈúÄË¶ÅÈîôËØØÂ§ÑÁêÜ„ÄÇÈîôËØØÁ±ªÂûãÊúâÔºö</p>
<ul>
<li>ËØ≠Ê≥ïÈîôËØØ</li>
<li>ËøêË°åÈîôËØØ</li>
</ul>
</li>
</ol>
<h3 id="18.2-%E8%AF%AD%E6%B3%95%E9%94%99%E8%AF%AF" tabindex="-1">18.2 ËØ≠Ê≥ïÈîôËØØ</h3>
<p>1.ËØ≠Ê≥ïÈîôËØØÈÄöÂ∏∏ÊòØÁî±‰∫éÂØπÁ®ãÂ∫èÁöÑÁªÑ‰ª∂ÔºàÂ¶ÇËøêÁÆóÁ¨¶„ÄÅË°®ËææÂºèÔºâ‰ΩøÁî®‰∏çÂΩìÂºïËµ∑ÁöÑ„ÄÇ‰∏Ä‰∏™ÁÆÄÂçïÁöÑÂÆû‰æãÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- test.lua Êñá‰ª∂</span></span><br><span class="line">a == <span class="number">2</span></span><br></pre></td></tr></table></figure>
<p>‰ª•‰∏ä‰ª£Á†ÅÊâßË°åÁªìÊûú‰∏∫Ôºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lua: test.lua:<span class="number">2</span>: syntax <span class="built_in">error</span> near <span class="string">&#x27;==&#x27;</span></span><br></pre></td></tr></table></figure>
<p>Ê≠£Â¶Ç‰Ω†ÊâÄÁúãÂà∞ÁöÑÔºå‰ª•‰∏äÂá∫Áé∞‰∫ÜËØ≠Ê≥ïÈîôËØØÔºå‰∏Ä‰∏™ ‚Äú=‚Äù Âè∑Ë∑ü‰∏§‰∏™ ‚Äú=‚Äù Âè∑ÊòØÊúâÂå∫Âà´ÁöÑ„ÄÇ‰∏Ä‰∏™ ‚Äú=‚Äù ÊòØËµãÂÄºË°®ËææÂºè‰∏§‰∏™ ‚Äú=‚Äù ÊòØÊØîËæÉËøêÁÆó„ÄÇ</p>
<h3 id="18.3-%E8%BF%90%E8%A1%8C%E9%94%99%E8%AF%AF" tabindex="-1">18.3 ËøêË°åÈîôËØØ</h3>
<ol>
<li>ËøêË°åÈîôËØØÊòØÁ®ãÂ∫èÂèØ‰ª•Ê≠£Â∏∏ÊâßË°åÔºå‰ΩÜÊòØ‰ºöËæìÂá∫Êä•Èîô‰ø°ÊÅØ„ÄÇÂ¶Ç‰∏ãÂÆû‰æãÁî±‰∫éÂèÇÊï∞ËæìÂÖ•ÈîôËØØÔºåÁ®ãÂ∫èÊâßË°åÊó∂Êä•ÈîôÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">(a,b)</span></span></span><br><span class="line">   <span class="keyword">return</span> a+b</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">add(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p>ÂΩìÊàë‰ª¨ÁºñËØëËøêË°å‰ª•‰∏ä‰ª£Á†ÅÊó∂ÔºåÁºñËØëÊòØÂèØ‰ª•ÊàêÂäüÁöÑÔºå‰ΩÜÂú®ËøêË°åÁöÑÊó∂ÂÄô‰ºö‰∫ßÁîüÂ¶Ç‰∏ãÈîôËØØÔºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">lua: test2.lua:<span class="number">2</span>: attempt to perform arithmetic on <span class="keyword">local</span> <span class="string">&#x27;b&#x27;</span> (a <span class="literal">nil</span> value)</span><br><span class="line">stack <span class="built_in">traceback</span>:</span><br><span class="line">    test2.lua:<span class="number">2</span>: <span class="keyword">in</span> <span class="function"><span class="keyword">function</span> &#x27;<span class="title">add</span>&#x27;</span></span><br><span class="line"><span class="function">    <span class="title">test2.lua</span>:5: <span class="title">in</span> <span class="title">main</span> <span class="title">chunk</span></span></span><br><span class="line"><span class="function">    [<span class="title">C</span>]: ?</span></span><br></pre></td></tr></table></figure>
<p>lua ÈáåË∞ÉÁî®ÂáΩÊï∞Êó∂ÔºåÂç≥‰ΩøÂÆûÂèÇÂàóË°®ÂíåÂΩ¢ÂèÇÂàóË°®‰∏ç‰∏ÄËá¥‰πüËÉΩÊàêÂäüË∞ÉÁî®ÔºåÂ§ö‰ΩôÁöÑÂèÇÊï∞‰ºöË¢´ËàçÂºÉÔºåÁº∫Â∞ëÁöÑÂèÇÊï∞‰ºöË¢´Ë°•‰∏∫ nil„ÄÇ<br>
<strong>‰ª•‰∏äÊä•Èîô‰ø°ÊÅØÊòØÁî±‰∫éÂèÇÊï∞ b Ë¢´Ë°•‰∏∫ nil ÂêéÔºånil ÂèÇ‰∏é‰∫Ü + ËøêÁÆó</strong>„ÄÇ<br>
ÂÅáÂ¶Ç add ÂáΩÊï∞ÂÜÖ‰∏çÊòØ ‚Äúreturn a+b‚Äù ËÄåÊòØ ‚Äúprint(a,b)‚Äù ÁöÑËØùÔºåÁªìÊûú‰ºöÂèòÊàê ‚Äú10 nil‚Äù ‰∏ç‰ºöÊä•Èîô„ÄÇ</p>
<h3 id="18.4-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86" tabindex="-1">18.4 ÈîôËØØÂ§ÑÁêÜ</h3>
<p>ÂèØ‰ª•‰ΩøÁî®‰∏§‰∏™ÂáΩÊï∞Ôºö<strong>assert Âíå error Êù•Â§ÑÁêÜÈîôËØØ</strong>„ÄÇÂÆû‰æãÂ¶Ç‰∏ãÔºö</p>
<ol>
<li>assert</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">local</span> <span class="function"><span class="keyword">function</span> <span class="title">add</span><span class="params">(a,b)</span></span></span><br><span class="line">   <span class="built_in">assert</span>(<span class="built_in">type</span>(a) == <span class="string">&quot;number&quot;</span>, <span class="string">&quot;a ‰∏çÊòØ‰∏Ä‰∏™Êï∞Â≠ó&quot;</span>)</span><br><span class="line">   <span class="built_in">assert</span>(<span class="built_in">type</span>(b) == <span class="string">&quot;number&quot;</span>, <span class="string">&quot;b ‰∏çÊòØ‰∏Ä‰∏™Êï∞Â≠ó&quot;</span>)</span><br><span class="line">   <span class="keyword">return</span> a+b</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">add(<span class="number">10</span>)</span><br></pre></td></tr></table></figure>
<p>ÊâßË°å‰ª•‰∏äÁ®ãÂ∫è‰ºöÂá∫Áé∞Â¶Ç‰∏ãÈîôËØØÔºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">lua: test.lua:<span class="number">3</span>: b ‰∏çÊòØ‰∏Ä‰∏™Êï∞Â≠ó</span><br><span class="line">stack <span class="built_in">traceback</span>:</span><br><span class="line">    [C]: <span class="keyword">in</span> <span class="function"><span class="keyword">function</span> &#x27;<span class="title">assert</span>&#x27;</span></span><br><span class="line"><span class="function">    <span class="title">test.lua</span>:3: <span class="title">in</span> <span class="title">local</span> &#x27;<span class="title">add</span>&#x27;</span></span><br><span class="line"><span class="function">    <span class="title">test.lua</span>:6: <span class="title">in</span> <span class="title">main</span> <span class="title">chunk</span></span></span><br><span class="line"><span class="function">    [<span class="title">C</span>]: <span class="title">in</span> ?</span></span><br><span class="line"><span class="function"></span></span><br></pre></td></tr></table></figure>
<p>ÂÆû‰æã‰∏≠<strong>assertÈ¶ñÂÖàÊ£ÄÊü•Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÔºåËã•Ê≤°ÈóÆÈ¢ò</strong>Ôºåassert<strong>‰∏çÂÅö‰ªª‰Ωï‰∫ãÊÉÖ</strong>Ôºõ<strong>Âê¶Âàô</strong>Ôºåassert<strong>‰ª•Á¨¨‰∫å‰∏™ÂèÇÊï∞‰Ωú‰∏∫ÈîôËØØ‰ø°ÊÅØÊäõÂá∫</strong>„ÄÇ<br>
2. error</p>
<ul>
<li>ËØ≠Ê≥ïÊ†ºÂºèÔºö</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">error</span> (message [, level])</span><br></pre></td></tr></table></figure>
<ul>
<li>ÂäüËÉΩÔºö<strong>ÁªàÊ≠¢Ê≠£Âú®ÊâßË°åÁöÑÂáΩÊï∞ÔºåÂπ∂ËøîÂõûmessageÁöÑÂÜÖÂÆπ‰Ωú‰∏∫ÈîôËØØ‰ø°ÊÅØ</strong>(<strong>errorÂáΩÊï∞Ê∞∏ËøúÈÉΩ‰∏ç‰ºöËøîÂõû</strong>)</li>
<li>ÈÄöÂ∏∏ÊÉÖÂÜµ‰∏ãÔºåerror‰ºöÈôÑÂä†‰∏Ä‰∫õÈîôËØØ‰ΩçÁΩÆÁöÑ‰ø°ÊÅØÂà∞messageÂ§¥ÈÉ®„ÄÇ</li>
<li>LevelÂèÇÊï∞ÊåáÁ§∫Ëé∑ÂæóÈîôËØØÁöÑ‰ΩçÁΩÆ:
<ul>
<li><strong>Level=1[ÈªòËÆ§]Ôºö‰∏∫Ë∞ÉÁî®error‰ΩçÁΩÆ(Êñá‰ª∂+Ë°åÂè∑)</strong></li>
<li><strong>Level=2ÔºöÊåáÂá∫Âì™‰∏™Ë∞ÉÁî®errorÁöÑÂáΩÊï∞ÁöÑÂáΩÊï∞</strong></li>
<li><strong>Level=0:‰∏çÊ∑ªÂä†ÈîôËØØ‰ΩçÁΩÆ‰ø°ÊÅØ</strong></li>
</ul>
</li>
</ul>
<h3 id="18.5-pcall-%E5%92%8C-xpcall%E3%80%81debug" tabindex="-1">18.5 pcall Âíå xpcall„ÄÅdebug</h3>
<ol>
<li>pcall<br>
(1) Lua‰∏≠Â§ÑÁêÜÈîôËØØÔºåÂèØ‰ª•<strong>‰ΩøÁî®ÂáΩÊï∞pcallÔºàprotected callÔºâÊù•ÂåÖË£ÖÈúÄË¶ÅÊâßË°åÁöÑ‰ª£Á†Å</strong>„ÄÇ<br>
(2) pcallÊé•Êî∂<strong>‰∏Ä‰∏™ÂáΩÊï∞ÂíåË¶Å‰º†ÈÄíÁªôÂêéËÄÖ(Âç≥ÂáΩÊï∞)ÁöÑÂèÇÊï∞</strong>ÔºåÂπ∂ÊâßË°åÔºå<strong>ÊâßË°åÁªìÊûú: ÊúâÈîôËØØ„ÄÅÊó†ÈîôËØØ</strong>. ËøîÂõûÂÄº<strong>trueÊàñfalseÔºåerrorinfoÔºàÂÆûÈôÖÂ•ΩÂÉèÂè™ËøîÂõû‰∏Ä‰∏™trueÊàñfalseÔºåÊ≤°ÊúâÂÖ∂‰ªñ‰ø°ÊÅØÔºâ</strong>„ÄÇ</li>
</ol>
<p>ËØ≠Ê≥ïÊ†ºÂºèÂ¶Ç‰∏ã:</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">pcall</span>(function_name, ‚Ä¶.) <span class="keyword">then</span></span><br><span class="line"><span class="comment">-- Ê≤°ÊúâÈîôËØØ</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="comment">-- ‰∏Ä‰∫õÈîôËØØ</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>(3) ÁÆÄÂçïÂÆû‰æãÔºö</p>
<figure class="highlight lua"><figcaption><span>&#123;.line-numbers&#125;</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">f=<span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">(i)</span></span> <span class="built_in">print</span>(i) <span class="keyword">end</span>, <span class="number">33</span>)</span><br><span class="line"><span class="built_in">print</span>(f)</span><br><span class="line">   </span><br><span class="line">t=<span class="built_in">pcall</span>(<span class="function"><span class="keyword">function</span><span class="params">(i)</span></span> <span class="built_in">print</span>(i) <span class="built_in">error</span>(<span class="string">&#x27;error..&#x27;</span>) <span class="keyword">end</span>, <span class="number">33</span>)</span><br><span class="line"><span class="built_in">print</span>(t)</span><br><span class="line"></span><br><span class="line"><span class="comment">--[[</span></span><br><span class="line"><span class="comment">33</span></span><br><span class="line"><span class="comment">true</span></span><br><span class="line"><span class="comment">33</span></span><br><span class="line"><span class="comment">false  </span></span><br><span class="line"><span class="comment">]]</span></span><br></pre></td></tr></table></figure>
<p>Á¨¨4Ë°å Áî±‰∫éerror(‚Äòerror‚Ä¶‚Äô)ÁªàÊ≠¢‰∫ÜÊ≠£Âú®ËøõË°åÁöÑÂáΩÊï∞  ÊâÄ‰ª•ËøîÂõûfalse</p>
<p>(4) pcall‰ª•‰∏ÄÁßç <strong>&quot;‰øùÊä§Ê®°Âºè&quot;Êù•Ë∞ÉÁî®Á¨¨‰∏Ä‰∏™ÂèÇÊï∞</strong>ÔºåÂõ†Ê≠§pcallÂèØ‰ª•<strong>ÊçïËé∑ÂáΩÊï∞ÊâßË°å‰∏≠ÁöÑ‰ªª‰ΩïÈîôËØØ</strong>„ÄÇÈÄöÂ∏∏Âú®ÈîôËØØÂèëÁîüÊó∂ÔºåÂ∏åÊúõËêΩÂæóÊõ¥Â§öÁöÑË∞ÉËØï‰ø°ÊÅØÔºåËÄå‰∏çÂè™ÊòØÂèëÁîüÈîôËØØÁöÑ‰ΩçÁΩÆ„ÄÇ‰ΩÜ<strong>pcallËøîÂõûÊó∂ÔºåÂÆÉÂ∑≤ÁªèÈîÄÊØÅ‰∫ÜË∞ÉÁî®Ê°üÁöÑÈÉ®ÂàÜÂÜÖÂÆπ</strong>„ÄÇ</p>
<ol start="2">
<li>xpcall‰∏édebug<br>
(1) LuaÊèê‰æõ‰∫ÜxpcallÂáΩÊï∞Ôºå<strong>xpcallÊé•Êî∂Á¨¨‰∫å‰∏™ÂèÇÊï∞‚Äî‚Äî‰∏Ä‰∏™ÈîôËØØÂ§ÑÁêÜÂáΩÊï∞</strong>ÔºåÂΩì<strong>ÈîôËØØÂèëÁîü</strong>Êó∂Ôºå<strong>Lua‰ºöÂú®Ë∞ÉÁî®Ê°üÂ±ïÂºÄÔºàunwindÔºâÂâçË∞ÉÁî®ÈîôËØØÂ§ÑÁêÜÂáΩÊï∞</strong>Ôºå‰∫éÊòØÂ∞±ÂèØ‰ª•<strong>Âú®Ëøô‰∏™ÂáΩÊï∞‰∏≠‰ΩøÁî®debugÂ∫ìÊù•Ëé∑ÂèñÂÖ≥‰∫éÈîôËØØÁöÑÈ¢ùÂ§ñ‰ø°ÊÅØ</strong>‰∫Ü„ÄÇ</li>
</ol>
<p>(2) <strong>debug</strong>Â∫ìÊèê‰æõ‰∫Ü‰∏§‰∏™ÈÄöÁî®ÁöÑ<strong>ÈîôËØØÂ§ÑÁêÜÂáΩÊï∞</strong>:</p>
<ul>
<li>debug.debugÔºö<strong>Êèê‰æõ‰∏Ä‰∏™LuaÊèêÁ§∫Á¨¶ÔºåËÆ©Áî®Êà∑Êù•Ê£ÄÊü•ÈîôËØØÁöÑÂéüÂõ†</strong></li>
<li>debug.tracebackÔºö<strong>Ê†πÊçÆË∞ÉÁî®Ê°üÊù•ÊûÑÂª∫‰∏Ä‰∏™Êâ©Â±ïÁöÑÈîôËØØÊ∂àÊÅØ</strong></li>
</ul>
<p>(3) ÂÆû‰æã</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;=<span class="built_in">xpcall</span>(<span class="function"><span class="keyword">function</span><span class="params">(i)</span></span> <span class="built_in">print</span>(i) <span class="built_in">error</span>(<span class="string">&#x27;error..&#x27;</span>) <span class="keyword">end</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span></span> <span class="built_in">print</span>(<span class="built_in">debug</span>.<span class="built_in">traceback</span>()) <span class="keyword">end</span>, <span class="number">33</span>)</span><br><span class="line"><span class="number">33</span></span><br><span class="line">stack <span class="built_in">traceback</span>:</span><br><span class="line"><span class="built_in">stdin</span>:<span class="number">1</span>: <span class="keyword">in</span> <span class="function"><span class="keyword">function</span> &lt;<span class="title">stdin</span>:1&gt;</span></span><br><span class="line"><span class="function">[<span class="title">C</span>]: <span class="title">in</span> <span class="title">function</span> &#x27;<span class="title">error</span>&#x27;</span></span><br><span class="line"><span class="function"><span class="title">stdin</span>:1: <span class="title">in</span> <span class="title">function</span> &lt;<span class="title">stdin</span>:1&gt;</span></span><br><span class="line"><span class="function">[<span class="title">C</span>]: <span class="title">in</span> <span class="title">function</span> &#x27;<span class="title">xpcall</span>&#x27;</span></span><br><span class="line"><span class="function"><span class="title">stdin</span>:1: <span class="title">in</span> <span class="title">main</span> <span class="title">chunk</span></span></span><br><span class="line"><span class="function">[<span class="title">C</span>]: <span class="title">in</span> ?</span></span><br><span class="line"><span class="function"><span class="title">false</span>        <span class="title">nil</span></span></span><br></pre></td></tr></table></figure>
<p>(4) ÂÆû‰æã2</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myfunction</span> <span class="params">()</span></span></span><br><span class="line">   n = n/<span class="literal">nil</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myerrorhandler</span><span class="params">( err )</span></span></span><br><span class="line">   <span class="built_in">print</span>( <span class="string">&quot;ERROR:&quot;</span>, err )</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">status</span> = <span class="built_in">xpcall</span>( myfunction, myerrorhandler )</span><br><span class="line"><span class="built_in">print</span>( <span class="built_in">status</span>)</span><br></pre></td></tr></table></figure>
<p>ÊâßË°å‰ª•‰∏äÁ®ãÂ∫è‰ºöÂá∫Áé∞Â¶Ç‰∏ãÈîôËØØÔºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ERROR:    test2.lua:<span class="number">2</span>: attempt to perform arithmetic on global <span class="string">&#x27;n&#x27;</span> (a <span class="literal">nil</span> value)</span><br><span class="line"><span class="literal">false</span></span><br></pre></td></tr></table></figure>
<h1 id="%E5%8D%81%E4%B9%9D-%E8%B0%83%E8%AF%95(debug)" tabindex="-1">ÂçÅ‰πù Ë∞ÉËØï(Debug)</h1>
<h3 id="19.1-%E6%A6%82%E8%BF%B0%E5%8F%8Adebug%E7%9A%84%E6%96%B9%E6%B3%95" tabindex="-1">19.1 Ê¶ÇËø∞ÂèäDebugÁöÑÊñπÊ≥ï</h3>
<ol>
<li>
<p>Lua Êèê‰æõ‰∫Ü debug Â∫ìÁî®‰∫éÊèê‰æõÂàõÂª∫Êàë‰ª¨Ëá™ÂÆö‰πâË∞ÉËØïÂô®ÁöÑÂäüËÉΩ„ÄÇLua Êú¨Ë∫´Âπ∂Êú™ÊúâÂÜÖÁΩÆÁöÑË∞ÉËØïÂô®Ôºå‰ΩÜÂæàÂ§öÂºÄÂèëËÄÖÂÖ±‰∫´‰∫Ü‰ªñ‰ª¨ÁöÑ Lua Ë∞ÉËØïÂô®‰ª£Á†Å„ÄÇ</p>
</li>
<li>
<p>Lua ‰∏≠ debug Â∫ìÂåÖÂê´‰ª•‰∏ãÂáΩÊï∞Ôºö</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>Â∫èÂè∑</th>
<th>ÊñπÊ≥ï</th>
<th>Áî®ÈÄî</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>debug()</td>
<td><strong>ËøõÂÖ•‰∏Ä‰∏™Áî®Êà∑‰∫§‰∫íÊ®°ÂºèÔºåËøêË°åÁî®Êà∑ËæìÂÖ•ÁöÑÊØè‰∏™Â≠óÁ¨¶‰∏≤</strong>„ÄÇ ‰ΩøÁî®ÁÆÄÂçïÁöÑÂëΩ‰ª§‰ª•ÂèäÂÖ∂ÂÆÉË∞ÉËØïËÆæÁΩÆÔºåÁî®Êà∑ÂèØ‰ª•Ê£ÄÈòÖÂÖ®Â±ÄÂèòÈáèÂíåÂ±ÄÈÉ®ÂèòÈáèÔºå ÊîπÂèòÂèòÈáèÁöÑÂÄºÔºåËÆ°ÁÆó‰∏Ä‰∫õË°®ËææÂºèÔºåÁ≠âÁ≠â„ÄÇ<br>ËæìÂÖ•‰∏ÄË°å‰ªÖÂåÖÂê´ cont ÁöÑÂ≠óÁ¨¶‰∏≤Â∞ÜÁªìÊùüËøô‰∏™ÂáΩÊï∞Ôºå ËøôÊ†∑Ë∞ÉÁî®ËÄÖÂ∞±ÂèØ‰ª•ÁªßÁª≠Âêë‰∏ãËøêË°å„ÄÇ</td>
</tr>
<tr>
<td>2</td>
<td>getfenv(object)</td>
<td><strong>ËøîÂõûÂØπË±°ÁöÑÁéØÂ¢ÉÂèòÈáè</strong>„ÄÇ</td>
</tr>
<tr>
<td>3</td>
<td>gethook(optional thread)</td>
<td><strong>ËøîÂõû‰∏â‰∏™Ë°®Á§∫Á∫øÁ®ãÈí©Â≠êËÆæÁΩÆÁöÑÂÄº</strong>Ôºö ÂΩìÂâçÈí©Â≠êÂáΩÊï∞ÔºåÂΩìÂâçÈí©Â≠êÊé©Á†ÅÔºåÂΩìÂâçÈí©Â≠êËÆ°Êï∞</td>
</tr>
<tr>
<td>4</td>
<td>getinfo ([thread,] f [, what])</td>
<td><strong>ËøîÂõûÂÖ≥‰∫é‰∏Ä‰∏™ÂáΩÊï∞‰ø°ÊÅØÁöÑË°®</strong>„ÄÇ ‰Ω†ÂèØ‰ª•Áõ¥Êé•Êèê‰æõËØ•ÂáΩÊï∞Ôºå ‰πüÂèØ‰ª•Áî®‰∏Ä‰∏™Êï∞Â≠ó f Ë°®Á§∫ËØ•ÂáΩÊï∞„ÄÇ Êï∞Â≠ó <strong>f Ë°®Á§∫ËøêË°åÂú®ÊåáÂÆöÁ∫øÁ®ãÁöÑË∞ÉÁî®Ê†àÂØπÂ∫îÂ±ÇÊ¨°‰∏äÁöÑÂáΩÊï∞</strong>Ôºö <strong>0 Â±ÇË°®Á§∫ÂΩìÂâçÂáΩÊï∞</strong>Ôºà<strong>getinfo Ëá™Ë∫´</strong>ÔºâÔºõ <strong>1 Â±ÇË°®Á§∫Ë∞ÉÁî® getinfo ÁöÑÂáΩÊï∞</strong> ÔºàÈô§ÈùûÊòØÂ∞æË∞ÉÁî®ÔºåËøôÁßçÊÉÖÂÜµ‰∏çËÆ°ÂÖ•Ê†àÔºâÔºõÁ≠âÁ≠â„ÄÇ Â¶ÇÊûú <strong>f ÊòØ‰∏Ä‰∏™ÊØîÊ¥ªÂä®ÂáΩÊï∞Êï∞ÈáèËøòÂ§ßÁöÑÊï∞Â≠ó</strong>Ôºå getinfo <strong>ËøîÂõû nil</strong>„ÄÇ</td>
</tr>
<tr>
<td>5</td>
<td>debug.getlocal ([thread,] f, local)</td>
<td>Ê≠§ÂáΩÊï∞<strong>ËøîÂõûÂú®Ê†àÁöÑ f Â±ÇÂ§ÑÂáΩÊï∞ÁöÑÁ¥¢Âºï‰∏∫ local ÁöÑÂ±ÄÈÉ®ÂèòÈáè ÁöÑÂêçÂ≠óÂíåÂÄº</strong>„ÄÇ Ëøô‰∏™ÂáΩÊï∞‰∏ç‰ªÖÁî®‰∫éËÆøÈóÆÊòæÂºèÂÆö‰πâÁöÑÂ±ÄÈÉ®ÂèòÈáèÔºå‰πüÂåÖÊã¨ÂΩ¢ÂèÇ„ÄÅ‰∏¥Êó∂ÂèòÈáèÁ≠â„ÄÇ</td>
</tr>
<tr>
<td>6</td>
<td>getmetatable(value)</td>
<td><strong>ÊääÁªôÂÆöÁ¥¢ÂºïÊåáÂêëÁöÑÂÄºÁöÑÂÖÉË°®ÂéãÂÖ•Â†ÜÊ†à</strong>„ÄÇÂ¶ÇÊûú<strong>Á¥¢ÂºïÊó†Êïà</strong>ÔºåÊàñÊòØËøô‰∏™ÂÄºÊ≤°ÊúâÂÖÉË°®Ôºå<strong>ÂáΩÊï∞Â∞ÜËøîÂõû 0 Âπ∂‰∏î‰∏ç‰ºöÂêëÊ†à‰∏äÂéã‰ªª‰Ωï‰∏úË•ø</strong>„ÄÇ</td>
</tr>
<tr>
<td>7.</td>
<td>getregistry()</td>
<td><strong>ËøîÂõûÊ≥®ÂÜåË°®Ë°®</strong>ÔºåËøôÊòØ‰∏Ä‰∏™È¢ÑÂÆö‰πâÂá∫Êù•ÁöÑË°®Ôºå ÂèØ‰ª•Áî®Êù•<strong>‰øùÂ≠ò‰ªª‰Ωï C ‰ª£Á†ÅÊÉ≥‰øùÂ≠òÁöÑ Lua ÂÄº</strong>„ÄÇ</td>
</tr>
<tr>
<td>8</td>
<td>getupvalue (f, up)</td>
<td>Ê≠§ÂáΩÊï∞<strong>ËøîÂõûÂáΩÊï∞ f ÁöÑÁ¨¨ up ‰∏™‰∏äÂÄºÁöÑÂêçÂ≠óÂíåÂÄº(Âç≥ÂáΩÊï∞‰∏≠ÂÆö‰πâÁöÑÁ¨¨up‰∏™ÂèòÈáèÁöÑÂêçÂíåÂÄº)</strong>„ÄÇ Â¶ÇÊûúËØ•ÂáΩÊï∞Ê≤°ÊúâÈÇ£‰∏™‰∏äÂÄºÔºåËøîÂõû nil „ÄÇ<br>‰ª• ‚Äò(‚Äô ÔºàÂºÄÊã¨Âè∑ÔºâÊâìÂ§¥ÁöÑÂèòÈáèÂêçË°®Á§∫Ê≤°ÊúâÂêçÂ≠óÁöÑÂèòÈáè ÔºàÂéªÈô§‰∫ÜË∞ÉËØï‰ø°ÊÅØÁöÑ‰ª£Á†ÅÂùóÔºâ„ÄÇ</td>
</tr>
<tr>
<td>9</td>
<td>sethook ([thread,] hook, mask [, count])</td>
<td><strong>Â∞Ü‰∏Ä‰∏™ÂáΩÊï∞‰Ωú‰∏∫Èí©Â≠êÂáΩÊï∞ËÆæÂÖ•</strong>„ÄÇ Â≠óÁ¨¶‰∏≤ mask ‰ª•ÂèäÊï∞Â≠ó count <strong>ÂÜ≥ÂÆö‰∫ÜÈí©Â≠êÂ∞ÜÂú®‰ΩïÊó∂Ë∞ÉÁî®</strong>„ÄÇ Êé©Á†ÅÊòØÁî±‰∏ãÂàóÂ≠óÁ¨¶ÁªÑÂêàÊàêÁöÑÂ≠óÁ¨¶‰∏≤ÔºåÊØè‰∏™Â≠óÁ¨¶ÊúâÂÖ∂Âê´‰πâÔºö<strong><br>‚Äòc‚Äô: ÊØèÂΩì Lua Ë∞ÉÁî®‰∏Ä‰∏™ÂáΩÊï∞Êó∂ÔºåË∞ÉÁî®Èí©Â≠êÔºõ<br>‚Äòr‚Äô: ÊØèÂΩì Lua ‰ªé‰∏Ä‰∏™ÂáΩÊï∞ÂÜÖËøîÂõûÊó∂ÔºåË∞ÉÁî®Èí©Â≠êÔºõ<br>‚Äòl‚Äô: ÊØèÂΩì Lua ËøõÂÖ•Êñ∞ÁöÑ‰∏ÄË°åÊó∂ÔºåË∞ÉÁî®Èí©Â≠ê</strong>„ÄÇ</td>
</tr>
<tr>
<td>10</td>
<td>setlocal ([thread,] level, local, value)</td>
<td>Ëøô‰∏™ÂáΩÊï∞<strong>Â∞Ü value ËµãÁªô Ê†à‰∏äÁ¨¨ level Â±ÇÂáΩÊï∞ÁöÑÁ¨¨ local ‰∏™Â±ÄÈÉ®ÂèòÈáè</strong>„ÄÇ Â¶ÇÊûú<strong>Ê≤°Êúâ</strong>ÈÇ£‰∏™ÂèòÈáèÔºåÂáΩÊï∞<strong>ËøîÂõû nil</strong> „ÄÇ Â¶ÇÊûú level<strong>Ë∂äÁïå</strong>Ôºå<strong>ÊäõÂá∫</strong>‰∏Ä‰∏™<strong>ÈîôËØØ</strong>„ÄÇ</td>
</tr>
<tr>
<td>11</td>
<td>setmetatable (value, table)</td>
<td><strong>Â∞Ü value ÁöÑÂÖÉË°®ËÆæ‰∏∫ table</strong>ÔºàÂèØ‰ª•ÊòØ nilÔºâ„ÄÇ ËøîÂõû value„ÄÇ</td>
</tr>
<tr>
<td>12</td>
<td>setupvalue (f, up, value)</td>
<td><strong>Ëøô‰∏™ÂáΩÊï∞Â∞Ü value ËÆæ‰∏∫ÂáΩÊï∞ f ÁöÑÁ¨¨ up ‰∏™‰∏äÂÄº</strong>„ÄÇ Â¶ÇÊûúÂáΩÊï∞Ê≤°ÊúâÈÇ£‰∏™‰∏äÂÄºÔºåËøîÂõû nil Âê¶ÂàôÔºåËøîÂõûËØ•‰∏äÂÄºÁöÑÂêçÂ≠ó„ÄÇ</td>
</tr>
<tr>
<td>13</td>
<td>traceback ([thread,] [message [, level]])</td>
<td><strong>Â¶ÇÊûú message ÊúâÔºå‰∏î‰∏çÊòØÂ≠óÁ¨¶‰∏≤Êàñ nilÔºå ÂáΩÊï∞‰∏çÂÅö‰ªª‰ΩïÂ§ÑÁêÜÁõ¥Êé•ËøîÂõû message</strong>„ÄÇ <strong>Âê¶Âàô</strong>ÔºåÂÆÉ<strong>ËøîÂõûË∞ÉÁî®Ê†àÁöÑÊ†àÂõûÊ∫Ø‰ø°ÊÅØ</strong>„ÄÇ Â≠óÁ¨¶‰∏≤ÂèØÈÄâÈ°π message Ë¢´Ê∑ªÂä†Âú®Ê†àÂõûÊ∫Ø‰ø°ÊÅØÁöÑÂºÄÂ§¥„ÄÇ Êï∞Â≠ó<strong>ÂèØÈÄâÈ°π level ÊåáÊòé‰ªéÊ†àÁöÑÂì™‰∏ÄÂ±ÇÂºÄÂßãÂõûÊ∫Ø</strong> Ôºà**ÈªòËÆ§‰∏∫ 1 **ÔºåÂç≥Ë∞ÉÁî® traceback ÁöÑÈÇ£ÈáåÔºâ„ÄÇ</td>
</tr>
</tbody>
</table>
<ol start="3">
<li>‰∏äË°®ÂàóÂá∫‰∫ÜÊàë‰ª¨Â∏∏Áî®ÁöÑË∞ÉËØïÂáΩÊï∞ÔºåÊé•‰∏ãÊù•Êàë‰ª¨ÂèØ‰ª•Áúã‰∫õÁÆÄÂçïÁöÑ‰æãÂ≠êÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myfunction</span> <span class="params">()</span></span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">debug</span>.<span class="built_in">traceback</span>(<span class="string">&quot;Stack trace&quot;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">debug</span>.<span class="built_in">getinfo</span>(<span class="number">1</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Stack trace end&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">10</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">myfunction ()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">debug</span>.<span class="built_in">getinfo</span>(<span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>ÊâßË°å‰ª•‰∏ä‰ª£Á†ÅËæìÂá∫ÁªìÊûú‰∏∫Ôºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Stack trace</span><br><span class="line">stack <span class="built_in">traceback</span>:</span><br><span class="line">c:\Users\XXX\Desktop\notes\Lua\test.lua:<span class="number">2</span>: <span class="keyword">in</span> <span class="function"><span class="keyword">function</span> &#x27;<span class="title">myfunction</span>&#x27;</span></span><br><span class="line"><span class="function"><span class="title">c</span>:\<span class="title">Users</span>\<span class="title">XXX</span>\<span class="title">Desktop</span>\<span class="title">notes</span>\<span class="title">Lua</span>\<span class="title">test.lua</span>:7: <span class="title">in</span> <span class="title">main</span> <span class="title">chunk</span></span></span><br><span class="line"><span class="function">[<span class="title">C</span>]: ?</span></span><br><span class="line"><span class="function"><span class="title">table</span>: 03069<span class="title">D28</span></span></span><br><span class="line"><span class="function"><span class="title">Stack</span> <span class="title">trace</span> <span class="title">end</span></span></span><br><span class="line"><span class="function"><span class="title">table</span>: 03069<span class="title">C60</span></span></span><br></pre></td></tr></table></figure>
<ol start="4">
<li>Êàë‰ª¨ÁªèÂ∏∏ÈúÄË¶ÅË∞ÉËØïÂáΩÊï∞ÁöÑÂÜÖÁöÑÂ±ÄÈÉ®ÂèòÈáè„ÄÇÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® setupvalue ÂáΩÊï∞Êù•ËÆæÁΩÆËøô‰∫õÂ±ÄÈÉ®ÂèòÈáè„ÄÇÂÆû‰æãÂ¶Ç‰∏ãÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">newCounter</span> <span class="params">()</span></span></span><br><span class="line">  <span class="keyword">local</span> n = <span class="number">0</span></span><br><span class="line">  <span class="keyword">local</span> k = <span class="number">0</span></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">()</span></span></span><br><span class="line">    k = n</span><br><span class="line">    n = n + <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> n</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line">counter = newCounter ()</span><br><span class="line"><span class="built_in">print</span>(counter())</span><br><span class="line"><span class="built_in">print</span>(counter())</span><br><span class="line"></span><br><span class="line"><span class="keyword">local</span> i = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">repeat</span></span><br><span class="line">  name, val = <span class="built_in">debug</span>.<span class="built_in">getupvalue</span>(counter, i)</span><br><span class="line">  <span class="keyword">if</span> name <span class="keyword">then</span></span><br><span class="line">    <span class="built_in">print</span> (<span class="string">&quot;index&quot;</span>, i, name, <span class="string">&quot;=&quot;</span>, val)</span><br><span class="line">        <span class="keyword">if</span>(name == <span class="string">&quot;n&quot;</span>) <span class="keyword">then</span></span><br><span class="line">                <span class="built_in">debug</span>.<span class="built_in">setupvalue</span> (counter,<span class="number">2</span>,<span class="number">10</span>)</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    i = i + <span class="number">1</span></span><br><span class="line">  <span class="keyword">end</span> <span class="comment">-- if</span></span><br><span class="line"><span class="keyword">until</span> <span class="keyword">not</span> name</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(counter())</span><br></pre></td></tr></table></figure>
<p>ÊâßË°å‰ª•‰∏ä‰ª£Á†ÅËæìÂá∫ÁªìÊûú‰∏∫Ôºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line">index    <span class="number">1</span>    k    =    <span class="number">1</span></span><br><span class="line">index    <span class="number">2</span>    n    =    <span class="number">2</span></span><br><span class="line"><span class="number">11</span></span><br></pre></td></tr></table></figure>
<p>Âú®‰ª•‰∏äÂÆû‰æã‰∏≠ÔºåËÆ°Êï∞Âô®Âú®ÊØèÊ¨°Ë∞ÉÁî®Êó∂ÈÉΩ‰ºöËá™Â¢û1„ÄÇÂÆû‰æã‰∏≠Êàë‰ª¨‰ΩøÁî®‰∫Ü getupvalue ÂáΩÊï∞Êü•ÁúãÂ±ÄÈÉ®ÂèòÈáèÁöÑÂΩìÂâçÁä∂ÊÄÅ„ÄÇÊàë‰ª¨ÂèØ‰ª•<strong>ËÆæÁΩÆÂ±ÄÈÉ®ÂèòÈáè‰∏∫Êñ∞ÂÄº„ÄÇÂÆû‰æã‰∏≠ÔºåÂú®ËÆæÁΩÆÂâç n ÁöÑÂÄº‰∏∫ 2,‰ΩøÁî® setupvalue ÂáΩÊï∞Â∞ÜÂÖ∂ËÆæÁΩÆ‰∏∫ 10„ÄÇÁé∞Âú®Êàë‰ª¨Ë∞ÉÁî®ÂáΩÊï∞ÔºåÊâßË°åÂêéËæìÂá∫‰∏∫ 11 ËÄå‰∏çÊòØ 3</strong>„ÄÇ</p>
<h3 id="19.2-%E8%B0%83%E8%AF%95%E7%B1%BB%E5%9E%8B" tabindex="-1">19.2 Ë∞ÉËØïÁ±ªÂûã</h3>
<ul>
<li>ÂëΩ‰ª§Ë°åË∞ÉËØï
<ul>
<li>ÂëΩ‰ª§Ë°åË∞ÉËØïÂô®ÊúâÔºöRemDebug„ÄÅclidebugger„ÄÅctrace„ÄÅxdbLua„ÄÅLuaInterface - Debugger„ÄÅRldb„ÄÅModDebug„ÄÇ</li>
</ul>
</li>
<li>ÂõæÂΩ¢ÁïåÈù¢Ë∞ÉËØï
<ul>
<li>ÂõæÂΩ¢ÁïåË∞ÉËØïÂô®ÊúâÔºöSciTE„ÄÅDecoda„ÄÅZeroBrane Studio„ÄÅakdebugger„ÄÅluaedit„ÄÇ</li>
</ul>
</li>
</ul>
<h1 id="%E4%BA%8C%E5%8D%81-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6" tabindex="-1">‰∫åÂçÅ ÂûÉÂúæÂõûÊî∂</h1>
<h3 id="20.1-%E6%A6%82%E8%BF%B0" tabindex="-1">20.1 Ê¶ÇËø∞</h3>
<ol>
<li>
<p>Lua ÈááÁî®‰∫Ü<strong>Ëá™Âä®ÂÜÖÂ≠òÁÆ°ÁêÜ</strong>„ÄÇ ËøôÊÑèÂë≥ÁùÄ‰Ω†<strong>‰∏çÁî®ÊìçÂøÉ</strong>Êñ∞ÂàõÂª∫ÁöÑÂØπË±°ÈúÄË¶ÅÁöÑÂÜÖÂ≠òÂ¶Ç‰ΩïÂàÜÈÖçÂá∫Êù•Ôºå ‰πü‰∏çÁî®ËÄÉËôëÂú®ÂØπË±°‰∏çÂÜçË¢´‰ΩøÁî®ÂêéÊÄéÊ†∑ÈáäÊîæÂÆÉ‰ª¨ÊâÄÂç†Áî®ÁöÑÂÜÖÂ≠ò„ÄÇ</p>
</li>
<li>
<p>LuaËøêË°å‰∫Ü‰∏Ä‰∏™<strong>ÂûÉÂúæÊî∂ÈõÜÂô®</strong>Êù•Êî∂ÈõÜÊâÄÊúâ<strong>Ê≠ªÂØπË±°</strong> ÔºàÂç≥Âú® Lua ‰∏≠‰∏çÂèØËÉΩÂÜçËÆøÈóÆÂà∞ÁöÑÂØπË±°Ôºâ<strong>Êù•ÂÆåÊàêËá™Âä®ÂÜÖÂ≠òÁÆ°ÁêÜÁöÑÂ∑•‰Ωú</strong>„ÄÇ Lua ‰∏≠ÊâÄÊúâÁî®Âà∞ÁöÑÂÜÖÂ≠òÔºåÂ¶ÇÔºö<strong>Â≠óÁ¨¶‰∏≤„ÄÅË°®„ÄÅÁî®Êà∑Êï∞ÊçÆ„ÄÅÂáΩÊï∞„ÄÅÁ∫øÁ®ã„ÄÅ ÂÜÖÈÉ®ÁªìÊûÑÁ≠âÔºåÈÉΩÊúç‰ªéËá™Âä®ÁÆ°ÁêÜ</strong>„ÄÇ</p>
</li>
<li>
<p>Lua ÂÆûÁé∞‰∫Ü‰∏Ä‰∏™<strong>Â¢ûÈáèÊ†áËÆ∞-Êâ´ÊèèÊî∂ÈõÜÂô®</strong>„ÄÇ ÂÆÉ<strong>‰ΩøÁî®Ëøô‰∏§‰∏™Êï∞Â≠óÊù•ÊéßÂà∂ÂûÉÂúæÊî∂ÈõÜÂæ™ÁéØ</strong>Ôºö <strong>ÂûÉÂúæÊî∂ÈõÜÂô®Èó¥Ê≠áÁéáÂíåÂûÉÂúæÊî∂ÈõÜÂô®Ê≠•ËøõÂÄçÁéá</strong>„ÄÇ Ëøô‰∏§‰∏™Êï∞Â≠óÈÉΩ‰ΩøÁî®ÁôæÂàÜÊï∞‰∏∫Âçï‰Ωç Ôºà‰æãÂ¶ÇÔºöÂÄº 100 Âú®ÂÜÖÈÉ®Ë°®Á§∫ 1 Ôºâ„ÄÇ</p>
</li>
<li>
<p><strong>ÂûÉÂúæÊî∂ÈõÜÂô®Èó¥Ê≠áÁéá</strong>ÊéßÂà∂ÁùÄÊî∂ÈõÜÂô®ÈúÄË¶ÅÂú®<strong>ÂºÄÂêØÊñ∞ÁöÑÂæ™ÁéØÂâçË¶ÅÁ≠âÂæÖÂ§ö‰πÖ</strong>„ÄÇ <strong>Â¢ûÂ§ßËøô‰∏™ÂÄº‰ºöÂáèÂ∞ëÊî∂ÈõÜÂô®ÁöÑÁßØÊûÅÊÄß</strong>„ÄÇ ÂΩìËøô‰∏™ÂÄºÊØî 100 Â∞èÁöÑÊó∂ÂÄôÔºåÊî∂ÈõÜÂô®Âú®ÂºÄÂêØÊñ∞ÁöÑÂæ™ÁéØÂâç‰∏ç‰ºöÊúâÁ≠âÂæÖ„ÄÇ ËÆæÁΩÆËøô‰∏™ÂÄº‰∏∫ 200 Â∞±‰ºöËÆ©Êî∂ÈõÜÂô®Á≠âÂà∞ÊÄªÂÜÖÂ≠ò‰ΩøÁî®ÈáèËææÂà∞ ‰πãÂâçÁöÑ‰∏§ÂÄçÊó∂ÊâçÂºÄÂßãÊñ∞ÁöÑÂæ™ÁéØ„ÄÇ</p>
</li>
<li>
<p><strong>ÂûÉÂúæÊî∂ÈõÜÂô®Ê≠•ËøõÂÄçÁéá</strong>ÊéßÂà∂ÁùÄ<strong>Êî∂ÈõÜÂô®Ëøê‰ΩúÈÄüÂ∫¶Áõ∏ÂØπ‰∫éÂÜÖÂ≠òÂàÜÈÖçÈÄüÂ∫¶ÁöÑÂÄçÁéá</strong>„ÄÇ Â¢ûÂ§ßËøô‰∏™ÂÄº<strong>‰∏ç‰ªÖ‰ºöËÆ©Êî∂ÈõÜÂô®Êõ¥Âä†ÁßØÊûÅÔºåËøò‰ºöÂ¢ûÂä†ÊØè‰∏™Â¢ûÈáèÊ≠•È™§ÁöÑÈïøÂ∫¶</strong>„ÄÇ ‰∏çË¶ÅÊääËøô‰∏™ÂÄºËÆæÂæóÂ∞è‰∫é 100 Ôºå ÈÇ£Ê†∑ÁöÑËØùÊî∂ÈõÜÂô®Â∞±Â∑•‰ΩúÁöÑÂ§™ÊÖ¢‰∫Ü‰ª•Ëá≥‰∫éÊ∞∏ËøúÈÉΩÂπ≤‰∏çÂÆå‰∏Ä‰∏™Âæ™ÁéØ„ÄÇ ÈªòËÆ§ÂÄºÊòØ 200 ÔºåËøôË°®Á§∫Êî∂ÈõÜÂô®‰ª•ÂÜÖÂ≠òÂàÜÈÖçÁöÑ&quot;‰∏§ÂÄç&quot;ÈÄüÂ∑•‰Ωú„ÄÇ</p>
</li>
<li>
<p>Â¶ÇÊûú‰Ω†ÊääÊ≠•ËøõÂÄçÁéáËÆæ‰∏∫‰∏Ä‰∏™ÈùûÂ∏∏Â§ßÁöÑÊï∞Â≠ó ÔºàÊØî‰Ω†ÁöÑÁ®ãÂ∫èÂèØËÉΩÁî®Âà∞ÁöÑÂ≠óËäÇÊï∞ËøòÂ§ß 10% ÔºâÔºå Êî∂ÈõÜÂô®ÁöÑË°å‰∏∫Â∞±ÂÉè‰∏Ä‰∏™ stop-the-world Êî∂ÈõÜÂô®„ÄÇ Êé•ÁùÄ‰Ω†Ëã•ÊääÈó¥Ê≠áÁéáËÆæ‰∏∫ 200 Ôºå Êî∂ÈõÜÂô®ÁöÑË°å‰∏∫Â∞±ÂíåËøáÂéªÁöÑ Lua ÁâàÊú¨‰∏ÄÊ†∑‰∫ÜÔºö ÊØèÊ¨° Lua ‰ΩøÁî®ÁöÑÂÜÖÂ≠òÁøªÂÄçÊó∂ÔºåÂ∞±ÂÅö‰∏ÄÊ¨°ÂÆåÊï¥ÁöÑÊî∂ÈõÜ„ÄÇ</p>
</li>
</ol>
<h3 id="20.2-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8%E5%87%BD%E6%95%B0" tabindex="-1">20.2 ÂûÉÂúæÂõûÊî∂Âô®ÂáΩÊï∞</h3>
<ol>
<li>Lua Êèê‰æõ‰∫Ü‰ª•‰∏ãÂáΩÊï∞<strong>collectgarbage ([opt [, arg]])<strong>Áî®Êù•ÊéßÂà∂Ëá™Âä®ÂÜÖÂ≠òÁÆ°ÁêÜÔºåÊ†πÊçÆ</strong>ÂèÇÊï∞optÁöÑ‰∏çÂêåÔºåÊèê‰æõ‰∏çÂêåÁöÑÂäüËÉΩ</strong>:</li>
</ol>
<ul>
<li>
<p>collectgarbage(‚Äúcollect‚Äù): <strong>ÂÅö‰∏ÄÊ¨°ÂÆåÊï¥ÁöÑÂûÉÂúæÊî∂ÈõÜÂæ™ÁéØ</strong>„ÄÇÈÄöËøáÂèÇÊï∞ opt ÂÆÉÊèê‰æõ‰∫Ü‰∏ÄÁªÑ‰∏çÂêåÁöÑÂäüËÉΩÔºö</p>
</li>
<li>
<p>collectgarbage(‚Äúcount‚Äù): <strong>‰ª• K Â≠óËäÇÊï∞‰∏∫Âçï‰ΩçËøîÂõû Lua ‰ΩøÁî®ÁöÑÊÄªÂÜÖÂ≠òÊï∞</strong>„ÄÇ Ëøô‰∏™ÂÄºÊúâÂ∞èÊï∞ÈÉ®ÂàÜÔºåÊâÄ‰ª•Âè™ÈúÄË¶Å<strong>‰πò‰∏ä 1024 Â∞±ËÉΩÂæóÂà∞ Lua ‰ΩøÁî®ÁöÑÂáÜÁ°ÆÂ≠óËäÇÊï∞</strong>ÔºàÈô§ÈùûÊ∫¢Âá∫Ôºâ„ÄÇ</p>
</li>
<li>
<p>collectgarbage(‚Äúrestart‚Äù): <strong>ÈáçÂêØÂûÉÂúæÊî∂ÈõÜÂô®ÁöÑËá™Âä®ËøêË°å</strong>„ÄÇ</p>
</li>
<li>
<p>collectgarbage(‚Äúsetpause‚Äù): Â∞Ü <strong>arg ËÆæ‰∏∫Êî∂ÈõÜÂô®ÁöÑ Èó¥Ê≠áÁéá</strong>„ÄÇ <strong>ËøîÂõû Èó¥Ê≠áÁéá ÁöÑÂâç‰∏Ä‰∏™ÂÄº</strong>„ÄÇ</p>
</li>
<li>
<p>collectgarbage(‚Äúsetstepmul‚Äù): ËøîÂõû <strong>Ê≠•ËøõÂÄçÁéá ÁöÑÂâç‰∏Ä‰∏™ÂÄº</strong>„ÄÇ</p>
</li>
<li>
<p>collectgarbage(‚Äústep‚Äù): <strong>ÂçïÊ≠•ËøêË°åÂûÉÂúæÊî∂ÈõÜÂô®</strong>„ÄÇ Ê≠•Èïø&quot;Â§ßÂ∞è&quot;Áî± arg ÊéßÂà∂„ÄÇ ‰º†ÂÖ• 0 Êó∂ÔºåÊî∂ÈõÜÂô®Ê≠•ËøõÔºà‰∏çÂèØÂàÜÂâ≤ÁöÑÔºâ‰∏ÄÊ≠•„ÄÇ ‰º†ÂÖ•Èùû 0 ÂÄºÔºå Êî∂ÈõÜÂô®Êî∂ÈõÜÁõ∏ÂΩì‰∫é Lua ÂàÜÈÖçËøô‰∫õÂ§öÔºàK Â≠óËäÇÔºâÂÜÖÂ≠òÁöÑÂ∑•‰Ωú„ÄÇ Â¶ÇÊûúÊî∂ÈõÜÂô®ÁªìÊùü‰∏Ä‰∏™Âæ™ÁéØÂ∞ÜËøîÂõû true „ÄÇ</p>
</li>
<li>
<p>collectgarbage(‚Äústop‚Äù): <strong>ÂÅúÊ≠¢ÂûÉÂúæÊî∂ÈõÜÂô®ÁöÑËøêË°å</strong>„ÄÇ Âú®Ë∞ÉÁî®ÈáçÂêØÂâçÔºåÊî∂ÈõÜÂô®Âè™‰ºöÂõ†ÊòæÂºèÁöÑË∞ÉÁî®ËøêË°å„ÄÇ</p>
</li>
</ul>
<ol start="2">
<li>ÂÆû‰æã</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mytable = &#123;<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;orange&quot;</span>, <span class="string">&quot;banana&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">collectgarbage</span>(<span class="string">&quot;count&quot;</span>))</span><br><span class="line"></span><br><span class="line">mytable = <span class="literal">nil</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">collectgarbage</span>(<span class="string">&quot;count&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">collectgarbage</span>(<span class="string">&quot;collect&quot;</span>))</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">collectgarbage</span>(<span class="string">&quot;count&quot;</span>))</span><br></pre></td></tr></table></figure>
<p>ÊâßË°å‰ª•‰∏äÁ®ãÂ∫èÔºåËæìÂá∫ÁªìÊûúÂ¶Ç‰∏ã(Ê≥®ÊÑèÂÜÖÂ≠ò‰ΩøÁî®ÁöÑÂèòÂåñ)Ôºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">20.9560546875</span></span><br><span class="line"><span class="number">20.9853515625</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">19.4111328125</span></span><br></pre></td></tr></table></figure>
<p>lua‰∏≠ ÊúâËá™Âä®ÂÆöÊó∂ÊâßË°åÂûÉÂúæÂõûÊî∂ÁöÑÊú∫Âà∂<br>
unity‰∏≠ÁÉ≠Êõ¥Êñ∞ÂºÄÂèë Â∞ΩÈáè‰∏çË¶ÅÂéªËá™Âä®ÊâßË°åÂûÉÂúæÂõûÊî∂</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ÈÄöËøá<span class="built_in">collectgarbage</span>(<span class="string">&quot;setpause&quot;</span>,<span class="number">100</span>) ËÆæÁΩÆÂûÉÂúæÂõûÊî∂ÁöÑÈó¥ÈöîÊó∂Èó¥</span><br><span class="line">ÈÄöËøá<span class="built_in">collectgarbage</span>(<span class="string">&quot;setstepmul&quot;</span>,<span class="number">200</span>) ËÆæÁΩÆÂûÉÂúæÂõûÊî∂ÁöÑÈÄüÂ∫¶</span><br><span class="line">ÈÄöËøá<span class="built_in">collectgarbage</span>(<span class="string">&quot;stop&quot;</span>) ÂÅúÊ≠¢Ëá™Âä®ÊâßË°åÂûÉÂúæÂõûÊî∂</span><br><span class="line">ÈÄöËøá<span class="built_in">collectgarbage</span>(<span class="string">&quot;restart&quot;</span>) ÈáçÊñ∞ÂºÄÂßãËá™Âä®ÊâßË°åÂûÉÂúæÂõûÊî∂</span><br><span class="line">ÈÄöËøá<span class="built_in">collectgarbage</span>(<span class="string">&quot;step&quot;</span>,<span class="number">100</span>) ÊâßË°å‰∏ÄÊ¨°ÂûÉÂúæÂõûÊî∂</span><br><span class="line">ÈÄöËøá<span class="built_in">collectgarbage</span>(<span class="string">&quot;isrunning&quot;</span>) Âà§Êñ≠ÂûÉÂúæÂõûÊî∂ÊòØÂê¶Ê≠£Âú®ÊâßË°å</span><br></pre></td></tr></table></figure>
<h1 id="%E4%BA%8C%E5%8D%81%E4%B8%80-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%88%E2%AD%90%EF%BC%89" tabindex="-1">‰∫åÂçÅ‰∏Ä Èù¢ÂêëÂØπË±°Ôºà‚≠êÔºâ</h1>
<h3 id="21.1-%E6%A6%82%E8%BF%B0" tabindex="-1">21.1 Ê¶ÇËø∞</h3>
<ol>
<li>Èù¢ÂêëÂØπË±°ÁºñÁ®ãÔºàObject Oriented ProgrammingÔºåOOPÔºâÊòØ‰∏ÄÁßçÈùûÂ∏∏ÊµÅË°åÁöÑËÆ°ÁÆóÊú∫ÁºñÁ®ãÊû∂ÊûÑ„ÄÇ<br>
‰ª•‰∏ãÂá†ÁßçÁºñÁ®ãËØ≠Ë®ÄÈÉΩÊîØÊåÅÈù¢ÂêëÂØπË±°ÁºñÁ®ãÔºö</li>
</ol>
<ul>
<li>C++</li>
<li>Java</li>
<li>Objective-C</li>
<li>Smalltalk</li>
<li>C#</li>
<li>Ruby</li>
</ul>
<h3 id="21.2-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%89%B9%E5%BE%81" tabindex="-1">21.2 Èù¢ÂêëÂØπË±°ÁâπÂæÅ</h3>
<p><strong>‰∏ÄËà¨ÊòØ Â∞ÅË£Ö„ÄÅÁªßÊâø„ÄÅÂ§öÊÄÅ</strong></p>
<ul>
<li>1Ôºâ Â∞ÅË£ÖÔºöÊåáËÉΩÂ§üÊää‰∏Ä‰∏™ÂÆû‰ΩìÁöÑ‰ø°ÊÅØ„ÄÅÂäüËÉΩ„ÄÅÂìçÂ∫îÈÉΩË£ÖÂÖ•‰∏Ä‰∏™ÂçïÁã¨ÁöÑÂØπË±°‰∏≠ÁöÑÁâπÊÄß„ÄÇ</li>
<li>2Ôºâ ÁªßÊâøÔºöÁªßÊâøÁöÑÊñπÊ≥ïÂÖÅËÆ∏Âú®‰∏çÊîπÂä®ÂéüÁ®ãÂ∫èÁöÑÂü∫Á°Ä‰∏äÂØπÂÖ∂ËøõË°åÊâ©ÂÖÖÔºåËøôÊ†∑‰ΩøÂæóÂéüÂäüËÉΩÂæó‰ª•‰øùÂ≠òÔºåËÄåÊñ∞ÂäüËÉΩ‰πüÂæó‰ª•Êâ©Â±ï„ÄÇËøôÊúâÂà©‰∫éÂáèÂ∞ëÈáçÂ§çÁºñÁ†ÅÔºåÊèêÈ´òËΩØ‰ª∂ÁöÑÂºÄÂèëÊïàÁéá„ÄÇ</li>
<li>3Ôºâ Â§öÊÄÅÔºöÂêå‰∏ÄÊìç‰Ωú‰ΩúÁî®‰∫é‰∏çÂêåÁöÑÂØπË±°ÔºåÂèØ‰ª•Êúâ‰∏çÂêåÁöÑËß£ÈáäÔºå‰∫ßÁîü‰∏çÂêåÁöÑÊâßË°åÁªìÊûú„ÄÇÂú®ËøêË°åÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÊåáÂêëÂü∫Á±ªÁöÑÊåáÈíàÔºåÊù•Ë∞ÉÁî®ÂÆûÁé∞Ê¥æÁîüÁ±ª‰∏≠ÁöÑÊñπÊ≥ï„ÄÇ</li>
<li>4ÔºâÊäΩË±°ÔºöÊäΩË±°(Abstraction)ÊòØÁÆÄÂåñÂ§çÊùÇÁöÑÁé∞ÂÆûÈóÆÈ¢òÁöÑÈÄîÂæÑÔºåÂÆÉÂèØ‰ª•‰∏∫ÂÖ∑‰ΩìÈóÆÈ¢òÊâæÂà∞ÊúÄÊÅ∞ÂΩìÁöÑÁ±ªÂÆö‰πâÔºåÂπ∂‰∏îÂèØ‰ª•Âú®ÊúÄÊÅ∞ÂΩìÁöÑÁªßÊâøÁ∫ßÂà´Ëß£ÈáäÈóÆÈ¢ò„ÄÇ</li>
</ul>
<h3 id="21.3-lua-%E4%B8%AD%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1" tabindex="-1">21.3 Lua ‰∏≠Èù¢ÂêëÂØπË±°</h3>
<ol>
<li>Êàë‰ª¨Áü•ÈÅìÔºå<strong>ÂØπË±°Áî±Â±ûÊÄßÂíåÊñπÊ≥ïÁªÑÊàê</strong>„ÄÇLUA‰∏≠ÊúÄÂü∫Êú¨ÁöÑÁªìÊûÑÊòØtableÔºåÊâÄ‰ª•ÈúÄË¶Å<strong>Áî®tableÊù•ÊèèËø∞ÂØπË±°ÁöÑÂ±ûÊÄß</strong>„ÄÇ</li>
<li>lua ‰∏≠ÁöÑ<strong>function ÂèØ‰ª•Áî®Êù•Ë°®Á§∫ÊñπÊ≥ï</strong>„ÄÇÈÇ£‰πà<strong>LUA‰∏≠ÁöÑÁ±ªÂèØ‰ª•ÈÄöËøá table + function Ê®°ÊãüÂá∫Êù•</strong>„ÄÇ</li>
<li>Ëá≥‰∫é<strong>ÁªßÊâøÔºåÂèØ‰ª•ÈÄöËøá metetable Ê®°ÊãüÂá∫Êù•</strong>Ôºà‰∏çÊé®ËçêÁî®ÔºåÂè™Ê®°ÊãüÊúÄÂü∫Êú¨ÁöÑÂØπË±°Â§ßÈÉ®ÂàÜÂÆûÁé∞Â§üÁî®‰∫ÜÔºâ„ÄÇ</li>
<li><strong>Lua ‰∏≠ÁöÑË°®‰∏ç‰ªÖÂú®ÊüêÁßçÊÑè‰πâ‰∏äÊòØ‰∏ÄÁßçÂØπË±°</strong>„ÄÇÂÉèÂØπË±°‰∏ÄÊ†∑ÔºåË°®‰πüÊúâÁä∂ÊÄÅÔºàÊàêÂëòÂèòÈáèÔºâÔºõ‰πüÊúâ‰∏éÂØπË±°ÁöÑÂÄºÁã¨Á´ãÁöÑÊú¨ÊÄßÔºåÁâπÂà´ÊòØÊã•Êúâ‰∏§‰∏™‰∏çÂêåÂÄºÁöÑÂØπË±°ÔºàtableÔºâ‰ª£Ë°®‰∏§‰∏™‰∏çÂêåÁöÑÂØπË±°Ôºõ‰∏Ä‰∏™ÂØπË±°Âú®‰∏çÂêåÁöÑÊó∂ÂÄô‰πüÂèØ‰ª•Êúâ‰∏çÂêåÁöÑÂÄºÔºå‰ΩÜ‰ªñÂßãÁªàÊòØ‰∏Ä‰∏™ÂØπË±°Ôºõ‰∏éÂØπË±°Á±ª‰ººÔºåË°®ÁöÑÁîüÂëΩÂë®Êúü‰∏éÂÖ∂Áî±‰ªÄ‰πàÂàõÂª∫„ÄÅÂú®Âì™ÂàõÂª∫Ê≤°ÊúâÂÖ≥Á≥ª„ÄÇÂØπË±°Êúâ‰ªñ‰ª¨ÁöÑÊàêÂëòÂáΩÊï∞ÔºåË°®‰πüÊúâÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Account = &#123;balance = <span class="number">0</span>&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Account.withdraw</span> <span class="params">(v)</span></span></span><br><span class="line">    Account.balance = Account.balance - v</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<p>Ëøô‰∏™ÂÆö‰πâÂàõÂª∫‰∫Ü‰∏Ä‰∏™Êñ∞ÁöÑÂáΩÊï∞ÔºåÂπ∂‰∏î‰øùÂ≠òÂú®AccountÂØπË±°ÁöÑwithdrawÂüüÂÜÖÔºå‰∏ãÈù¢Êàë‰ª¨ÂèØ‰ª•ËøôÊ†∑Ë∞ÉÁî®Ôºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Account.withdraw(<span class="number">100.00</span>)</span><br></pre></td></tr></table></figure>
<h3 id="21.4-%E7%AE%80%E5%8D%95%E5%AE%9E%E4%BE%8B%EF%BC%88%E2%AD%90%EF%BC%89" tabindex="-1">21.4 ÁÆÄÂçïÂÆû‰æãÔºà‚≠êÔºâ</h3>
<ol>
<li>‰ª•‰∏ãÁÆÄÂçïÁöÑÁ±ªÂåÖÂê´‰∫Ü‰∏â‰∏™Â±ûÊÄßÔºö area, length Âíå breadthÔºåprintAreaÊñπÊ≥ïÁî®‰∫éÊâìÂç∞ËÆ°ÁÆóÁªìÊûúÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ÂÖÉÁ±ª</span></span><br><span class="line">Rectangle = &#123;area = <span class="number">0</span>, length = <span class="number">0</span>, breadth = <span class="number">0</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Ê¥æÁîüÁ±ªÁöÑÊñπÊ≥ï new</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Rectangle:new</span> <span class="params">(o,length,breadth)</span></span></span><br><span class="line">  o = o <span class="keyword">or</span> &#123;&#125;</span><br><span class="line">  <span class="built_in">setmetatable</span>(o, <span class="built_in">self</span>)</span><br><span class="line">  <span class="built_in">self</span>.<span class="built_in">__index</span> = <span class="built_in">self</span></span><br><span class="line">  <span class="built_in">self</span>.length = length <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">  <span class="built_in">self</span>.breadth = breadth <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">  <span class="built_in">self</span>.area = length*breadth;</span><br><span class="line">  <span class="keyword">return</span> o</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Ê¥æÁîüÁ±ªÁöÑÊñπÊ≥ï printArea</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Rectangle:printArea</span> <span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Áü©ÂΩ¢Èù¢ÁßØ‰∏∫ &quot;</span>,<span class="built_in">self</span>.area)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>ÂàõÂª∫ÂØπË±°</li>
</ol>
<p>ÂàõÂª∫ÂØπË±°ÊòØ‰∏∫Á±ªÁöÑÂÆû‰æãÂàÜÈÖçÂÜÖÂ≠òÁöÑËøáÁ®ã„ÄÇÊØè‰∏™Á±ªÈÉΩÊúâÂ±û‰∫éËá™Â∑±ÁöÑÂÜÖÂ≠òÂπ∂ÂÖ±‰∫´ÂÖ¨ÂÖ±Êï∞ÊçÆ„ÄÇ</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r = Rectangle:new(<span class="literal">nil</span>,<span class="number">10</span>,<span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>ËÆøÈóÆÂ±ûÊÄß</li>
</ol>
<p>Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÁÇπÂè∑(.)Êù•ËÆøÈóÆÁ±ªÁöÑÂ±ûÊÄßÔºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(r.length)</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>ËÆøÈóÆÊàêÂëòÂáΩÊï∞</li>
</ol>
<p>Êàë‰ª¨ÂèØ‰ª•‰ΩøÁî®ÂÜíÂè∑ : Êù•ËÆøÈóÆÁ±ªÁöÑÊàêÂëòÂáΩÊï∞Ôºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">r:printArea()</span><br></pre></td></tr></table></figure>
<p>ÂÜÖÂ≠òÂú®ÂØπË±°ÂàùÂßãÂåñÊó∂ÂàÜÈÖç„ÄÇ</p>
<ol start="5">
<li>‰ª•‰∏ãÊàë‰ª¨ÊºîÁ§∫‰∫Ü Lua Èù¢ÂêëÂØπË±°ÁöÑÂÆåÊï¥ÂÆû‰æãÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ÂÖÉÁ±ª</span></span><br><span class="line">Shape = &#123;area = <span class="number">0</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- Âü∫Á°ÄÁ±ªÊñπÊ≥ï new</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Shape:new</span> <span class="params">(o,side)</span></span></span><br><span class="line">  o = o <span class="keyword">or</span> &#123;&#125;</span><br><span class="line">  <span class="built_in">setmetatable</span>(o, <span class="built_in">self</span>)</span><br><span class="line">  <span class="built_in">self</span>.<span class="built_in">__index</span> = <span class="built_in">self</span></span><br><span class="line">  side = side <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">  <span class="built_in">self</span>.area = side*side;</span><br><span class="line">  <span class="keyword">return</span> o</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Âü∫Á°ÄÁ±ªÊñπÊ≥ï printArea</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Shape:printArea</span> <span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Èù¢ÁßØ‰∏∫ &quot;</span>,<span class="built_in">self</span>.area)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂàõÂª∫ÂØπË±°</span></span><br><span class="line">myshape = Shape:new(<span class="literal">nil</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">myshape:printArea()</span><br></pre></td></tr></table></figure>
<p>ÊâßË°å‰ª•‰∏äÁ®ãÂ∫èÔºåËæìÂá∫ÁªìÊûú‰∏∫Ôºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Èù¢ÁßØ‰∏∫     <span class="number">100</span></span><br></pre></td></tr></table></figure>
<h3 id="21.5-%E7%82%B9%E8%B0%83%E7%94%A8%E5%92%8C%E5%86%92%E5%8F%B7%E8%B0%83%E7%94%A8%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89" tabindex="-1">21.5 ÁÇπË∞ÉÁî®ÂíåÂÜíÂè∑Ë∞ÉÁî®ÁöÑÂå∫Âà´Ôºà‚≠ê‚≠ê‚≠êÔºâ</h3>
<ul>
<li>ÁÇπÂ∞±ÊòØÊ≠£Â∏∏Ë∞ÉÁî®ÂáΩÊï∞</li>
<li>ÂÜíÂè∑ÊòØ‰ºöÊää Ë∞ÉÁî®ËÄÖ ‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞‰º†ÂÖ•</li>
<li>ÂÜíÂè∑ÂèØ‰ª•Áî®Êù•Â£∞ÊòéÂáΩÊï∞ Âè™ËÉΩÊòØfunction Ë°®Âêç::ÂáΩÊï∞Âêç ÁöÑÂΩ¢Âºè</li>
<li>Â¶ÇÊûúÊòØÂÜíÂè∑Â£∞ÊòéÁõ∏ÂΩì‰∫éÊúâ‰∏Ä‰∏™ÈªòËÆ§ÂèÇÊï∞self</li>
<li>lua‰∏≠ Êúâ‰∏Ä‰∏™ÂÖ≥ÈîÆÂ≠ó self Ë°®Á§∫ ÈªòËÆ§‰º†ÂÖ•ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞ „ÄÇÁî®Êù•ÂÜíÂè∑Â£∞ÊòéÊó∂‰Ωú‰∏∫Á¨¨‰∏Ä‰∏™ÂèÇÊï∞ÁöÑ‰ª£Ë°®</li>
<li>Ê≥®: self‰∏çÊòØthis Âè™ÊòØÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Student:Speak2</span><span class="params">()</span></span></span><br><span class="line">    <span class="comment">-- lua‰∏≠ Êúâ‰∏Ä‰∏™ÂÖ≥ÈîÆÂ≠ó self Ë°®Á§∫ ÈªòËÆ§‰º†ÂÖ•ÁöÑÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="built_in">self</span>.name..<span class="string">&quot;Speak2&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">Student:Speak2()</span><br><span class="line">Student.Speak2(Student)</span><br></pre></td></tr></table></figure>
<h3 id="21.6-lua-%E7%BB%A7%E6%89%BF(%E2%AD%90%E2%AD%90%E2%AD%90)" tabindex="-1">21.6 Lua ÁªßÊâø(‚≠ê‚≠ê‚≠ê)</h3>
<ol>
<li>ÁªßÊâøÊòØÊåá‰∏Ä‰∏™ÂØπË±°Áõ¥Êé•‰ΩøÁî®Âè¶‰∏ÄÂØπË±°ÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ï„ÄÇÂèØÁî®‰∫éÊâ©Â±ïÂü∫Á°ÄÁ±ªÁöÑÂ±ûÊÄßÂíåÊñπÊ≥ï„ÄÇ<br>
‰ª•‰∏ãÊºîÁ§∫‰∫Ü‰∏Ä‰∏™ÁÆÄÂçïÁöÑÁªßÊâøÂÆû‰æãÔºö</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Meta class</span></span><br><span class="line">Shape = &#123;area = <span class="number">0</span>&#125;</span><br><span class="line"><span class="comment">-- Âü∫Á°ÄÁ±ªÊñπÊ≥ï new</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Shape:new</span> <span class="params">(o,side)</span></span></span><br><span class="line">  o = o <span class="keyword">or</span> &#123;&#125;</span><br><span class="line">  <span class="built_in">setmetatable</span>(o, <span class="built_in">self</span>)</span><br><span class="line">  <span class="built_in">self</span>.<span class="built_in">__index</span> = <span class="built_in">self</span></span><br><span class="line">  side = side <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">  <span class="built_in">self</span>.area = side*side;</span><br><span class="line">  <span class="keyword">return</span> o</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- Âü∫Á°ÄÁ±ªÊñπÊ≥ï printArea</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Shape:printArea</span> <span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Èù¢ÁßØ‰∏∫ &quot;</span>,<span class="built_in">self</span>.area)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>Square ÂØπË±°ÁªßÊâø‰∫Ü Shape Á±ª:</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Square = Shape:new()</span><br><span class="line"><span class="comment">-- Derived class method new</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Square:new</span> <span class="params">(o,side)</span></span></span><br><span class="line">  o = o <span class="keyword">or</span> Shape:new(o,side)</span><br><span class="line">  <span class="built_in">setmetatable</span>(o, <span class="built_in">self</span>)</span><br><span class="line">  <span class="built_in">self</span>.<span class="built_in">__index</span> = <span class="built_in">self</span></span><br><span class="line">  <span class="keyword">return</span> o</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>ÂÆåÊï¥Á§∫‰æãÔºà‚≠ê‚≠ê‚≠êÔºâ</li>
</ol>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Meta class</span></span><br><span class="line">Shape = &#123;area = <span class="number">0</span>&#125;</span><br><span class="line"><span class="comment">-- Âü∫Á°ÄÁ±ªÊñπÊ≥ï new</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Shape:new</span> <span class="params">(o,side)</span></span></span><br><span class="line">  o = o <span class="keyword">or</span> &#123;&#125;</span><br><span class="line">  <span class="built_in">setmetatable</span>(o, <span class="built_in">self</span>)</span><br><span class="line">  <span class="built_in">self</span>.<span class="built_in">__index</span> = <span class="built_in">self</span></span><br><span class="line">  side = side <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line">  <span class="built_in">self</span>.area = side*side;</span><br><span class="line">  <span class="keyword">return</span> o</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">-- Âü∫Á°ÄÁ±ªÊñπÊ≥ï printArea</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Shape:printArea</span> <span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Èù¢ÁßØ‰∏∫ &quot;</span>,<span class="built_in">self</span>.area)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂàõÂª∫ÂØπË±°</span></span><br><span class="line">myshape = Shape:new(<span class="literal">nil</span>,<span class="number">10</span>)</span><br><span class="line">myshape:printArea()</span><br><span class="line"></span><br><span class="line">Square = Shape:new()</span><br><span class="line"><span class="comment">-- Ê¥æÁîüÁ±ªÊñπÊ≥ï new</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Square:new</span> <span class="params">(o,side)</span></span></span><br><span class="line">  o = o <span class="keyword">or</span> Shape:new(o,side)</span><br><span class="line">  <span class="built_in">setmetatable</span>(o, <span class="built_in">self</span>)</span><br><span class="line">  <span class="built_in">self</span>.<span class="built_in">__index</span> = <span class="built_in">self</span></span><br><span class="line">  <span class="keyword">return</span> o</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Ê¥æÁîüÁ±ªÊñπÊ≥ï printArea</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Square:printArea</span> <span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Ê≠£ÊñπÂΩ¢Èù¢ÁßØ‰∏∫ &quot;</span>,<span class="built_in">self</span>.area)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂàõÂª∫ÂØπË±°</span></span><br><span class="line">mysquare = Square:new(<span class="literal">nil</span>,<span class="number">10</span>)</span><br><span class="line">mysquare:printArea()</span><br><span class="line"></span><br><span class="line">Rectangle = Shape:new()</span><br><span class="line"><span class="comment">-- Ê¥æÁîüÁ±ªÊñπÊ≥ï new</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Rectangle:new</span> <span class="params">(o,length,breadth)</span></span></span><br><span class="line">  o = o <span class="keyword">or</span> Shape:new(o)</span><br><span class="line">  <span class="built_in">setmetatable</span>(o, <span class="built_in">self</span>)</span><br><span class="line">  <span class="built_in">self</span>.<span class="built_in">__index</span> = <span class="built_in">self</span></span><br><span class="line">  <span class="built_in">self</span>.area = length * breadth</span><br><span class="line">  <span class="keyword">return</span> o</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- Ê¥æÁîüÁ±ªÊñπÊ≥ï printArea</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Rectangle:printArea</span> <span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Áü©ÂΩ¢Èù¢ÁßØ‰∏∫ &quot;</span>,<span class="built_in">self</span>.area)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- ÂàõÂª∫ÂØπË±°</span></span><br><span class="line">myrectangle = Rectangle:new(<span class="literal">nil</span>,<span class="number">10</span>,<span class="number">20</span>)</span><br><span class="line">myrectangle:printArea()</span><br></pre></td></tr></table></figure>
<h3 id="21.7-lua%E5%A4%9A%E6%80%81%EF%BC%88%E5%87%BD%E6%95%B0%E9%87%8D%E5%86%99%EF%BC%89" tabindex="-1">21.7 LuaÂ§öÊÄÅÔºàÂáΩÊï∞ÈáçÂÜôÔºâ</h3>
<p>Lua ‰∏≠Êàë‰ª¨ÂèØ‰ª•ÈáçÂÜôÂü∫Á°ÄÁ±ªÁöÑÂáΩÊï∞ÔºåÂú®Ê¥æÁîüÁ±ª‰∏≠ÂÆö‰πâËá™Â∑±ÁöÑÂÆûÁé∞ÊñπÂºèÔºö</p>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- Ê¥æÁîüÁ±ªÊñπÊ≥ï printArea</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Square:printArea</span> <span class="params">()</span></span></span><br><span class="line">  <span class="built_in">print</span>(<span class="string">&quot;Ê≠£ÊñπÂΩ¢Èù¢ÁßØ &quot;</span>,<span class="built_in">self</span>.area)</span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>
<h1 id="%E4%BA%8C%E5%8D%81%E4%BA%8C-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BF%E9%97%AE%EF%BC%88luasql%EF%BC%89" tabindex="-1">‰∫åÂçÅ‰∫å Êï∞ÊçÆÂ∫ìËÆøÈóÆÔºàLuaSQLÔºâ</h1>
<h3 id="22.1-%E6%A6%82%E8%BF%B0" tabindex="-1">22.1 Ê¶ÇËø∞</h3>
<ol>
<li>Êú¨Êñá‰∏ªË¶Å‰∏∫Â§ßÂÆ∂‰ªãÁªç Lua Êï∞ÊçÆÂ∫ìÁöÑÊìç‰ΩúÂ∫ìÔºöLuaSQL„ÄÇ‰ªñÊòØÂºÄÊ∫êÁöÑÔºåÊîØÊåÅÁöÑÊï∞ÊçÆÂ∫ìÊúâÔºöODBC, ADO, Oracle, MySQL, SQLite Âíå PostgreSQL„ÄÇ</li>
<li>Êú¨Êñá‰ªãÁªçMySQLÁöÑÊï∞ÊçÆÂ∫ìËøûÊé•„ÄÇ</li>
</ol>
<h3 id="22.2-%E5%AE%89%E8%A3%85" tabindex="-1">22.2 ÂÆâË£Ö</h3>
<ol>
<li>LuaSQL ÂèØ‰ª•‰ΩøÁî® <a target="_blank" rel="noopener" href="https://luarocks.org/">LuaRocks</a> Êù•ÂÆâË£ÖÂèØ‰ª•Ê†πÊçÆÈúÄË¶ÅÂÆâË£Ö‰Ω†ÈúÄË¶ÅÁöÑÊï∞ÊçÆÂ∫ìÈ©±Âä®„ÄÇ<br>
LuaRocks ÂÆâË£ÖÊñπÊ≥ïÔºö</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">wget http://luarocks.org/releases/luarocks-2.2.1.tar.gz</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">tar zxpf luarocks-2.2.1.tar.gz</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cd</span> luarocks-2.2.1</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">./configure; <span class="built_in">sudo</span> make bootstrap</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> luarocks install luasocket</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">lua</span></span><br><span class="line">Lua 5.3.0 Copyright (C) 1994-2015 Lua.org, PUC-Rio</span><br><span class="line"><span class="meta prompt_">&gt; </span><span class="language-bash">require <span class="string">&quot;socket&quot;</span></span></span><br></pre></td></tr></table></figure>
<ol start="2">
<li>
<p>Window ‰∏ãÂÆâË£Ö LuaRocksÔºö<a target="_blank" rel="noopener" href="https://github.com/keplerproject/luarocks/wiki/Installation-instructions-for-Windows">https://github.com/keplerproject/luarocks/wiki/Installation-instructions-for-Windows</a></p>
</li>
<li>
<p>ÂÆâË£Ö‰∏çÂêåÊï∞ÊçÆÂ∫ìÈ©±Âä®Ôºö</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">luarocks install luasql-sqlite3</span><br><span class="line">luarocks install luasql-postgres</span><br><span class="line">luarocks install luasql-mysql</span><br><span class="line">luarocks install luasql-sqlite</span><br><span class="line">luarocks install luasql-odbc</span><br></pre></td></tr></table></figure>
<ol start="4">
<li>‰πüÂèØ‰ª•‰ΩøÁî®Ê∫êÁ†ÅÂÆâË£ÖÊñπÂºèÔºåLua Github Ê∫êÁ†ÅÂú∞ÂùÄÔºö<a target="_blank" rel="noopener" href="https://github.com/keplerproject/luasql">https://github.com/keplerproject/luasql</a></li>
</ol>
<h3 id="22.3-%E5%AE%9E%E4%BE%8B" tabindex="-1">22.3 ÂÆû‰æã</h3>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">require</span> <span class="string">&quot;luasql.mysql&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ÂàõÂª∫ÁéØÂ¢ÉÂØπË±°</span></span><br><span class="line">env = luasql.mysql()</span><br><span class="line"></span><br><span class="line"><span class="comment">--ËøûÊé•Êï∞ÊçÆÂ∫ì</span></span><br><span class="line">conn = env:connect(<span class="string">&quot;Êï∞ÊçÆÂ∫ìÂêç&quot;</span>,<span class="string">&quot;Áî®Êà∑Âêç&quot;</span>,<span class="string">&quot;ÂØÜÁ†Å&quot;</span>,<span class="string">&quot;IPÂú∞ÂùÄ&quot;</span>,Á´ØÂè£)</span><br><span class="line"></span><br><span class="line"><span class="comment">--ËÆæÁΩÆÊï∞ÊçÆÂ∫ìÁöÑÁºñÁ†ÅÊ†ºÂºè</span></span><br><span class="line">conn:<span class="built_in">execute</span><span class="string">&quot;SET NAMES UTF8&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ÊâßË°åÊï∞ÊçÆÂ∫ìÊìç‰Ωú</span></span><br><span class="line">cur = conn:<span class="built_in">execute</span>(<span class="string">&quot;select * from role&quot;</span>)</span><br><span class="line"></span><br><span class="line">row = cur:fetch(&#123;&#125;,<span class="string">&quot;a&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">--Êñá‰ª∂ÂØπË±°ÁöÑÂàõÂª∫</span></span><br><span class="line">file = <span class="built_in">io</span>.<span class="built_in">open</span>(<span class="string">&quot;role.txt&quot;</span>,<span class="string">&quot;w+&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> row <span class="keyword">do</span></span><br><span class="line">    var = <span class="built_in">string</span>.<span class="built_in">format</span>(<span class="string">&quot;%d %s\n&quot;</span>, row.id, row.name)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(var)</span><br><span class="line"></span><br><span class="line">    file:<span class="built_in">write</span>(var)</span><br><span class="line"></span><br><span class="line">    row = cur:fetch(row,<span class="string">&quot;a&quot;</span>)</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">file:<span class="built_in">close</span>()  <span class="comment">--ÂÖ≥Èó≠Êñá‰ª∂ÂØπË±°</span></span><br><span class="line">conn:<span class="built_in">close</span>()  <span class="comment">--ÂÖ≥Èó≠Êï∞ÊçÆÂ∫ìËøûÊé•</span></span><br><span class="line">env:<span class="built_in">close</span>()   <span class="comment">--ÂÖ≥Èó≠Êï∞ÊçÆÂ∫ìÁéØÂ¢É</span></span><br></pre></td></tr></table></figure>
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/katex/dist/katex.min.css">
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/markdown-it-texmath/css/texmath.min.css">

    </div>

    
    
    

<div>
  
    
  
</div>

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E7%83%AD%E6%9B%B4%E6%96%B0%E7%9B%B8%E5%85%B3/" rel="tag"># ÁÉ≠Êõ¥Êñ∞Áõ∏ÂÖ≥</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/08/13/hexo%E6%96%87%E7%AB%A0%E5%A4%9A%E4%BA%86%E5%A6%82%E4%BD%95%E7%AE%A1%E7%90%86/" rel="prev" title="hexoÊñáÁ´†Â§ö‰∫ÜÂ¶Ç‰ΩïÁÆ°ÁêÜ">
      <i class="fa fa-chevron-left"></i> hexoÊñáÁ´†Â§ö‰∫ÜÂ¶Ç‰ΩïÁÆ°ÁêÜ
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/09/19/%E7%83%AD%E6%9B%B4%E6%96%B0%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E5%AD%A6%E4%B9%A0-AssetBundle-AB%E5%8C%85/" rel="next" title="AssetBundle-ABÂåÖ">
      AssetBundle-ABÂåÖ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          ÊñáÁ´†ÁõÆÂΩï
        </li>
        <li class="sidebar-nav-overview">
          Á´ôÁÇπÊ¶ÇËßà
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%9B%B6-%E5%BC%95%E7%94%A8"><span class="nav-number">1.</span> <span class="nav-text">Èõ∂ ÂºïÁî®</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80-%E6%A6%82%E8%BF%B0"><span class="nav-number">2.</span> <span class="nav-text">‰∏Ä Ê¶ÇËø∞</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C-%E5%AE%89%E8%A3%85"><span class="nav-number">3.</span> <span class="nav-text">‰∫å ÂÆâË£Ö</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-number">4.</span> <span class="nav-text">‰∏â Âü∫Êú¨ËØ≠Ê≥ï</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3.1-%E4%BA%A4%E4%BA%92%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="nav-number">4.0.1.</span> <span class="nav-text">3.1 ‰∫§‰∫íÂºèÁºñÁ®ã</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3.2-%E8%84%9A%E6%9C%AC%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="nav-number">4.0.2.</span> <span class="nav-text">3.2 ËÑöÊú¨ÂºèÁºñÁ®ã</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3.3-%E6%B3%A8%E9%87%8A"><span class="nav-number">4.0.3.</span> <span class="nav-text">3.3 Ê≥®Èáä</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3.4-%E6%A0%87%E8%AF%86%E7%AC%A6"><span class="nav-number">4.0.4.</span> <span class="nav-text">3.4 Ê†áËØÜÁ¨¶</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="nav-number">5.</span> <span class="nav-text">Âõõ Êï∞ÊçÆÁ±ªÂûã</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#4.1-nil(%E7%A9%BA)"><span class="nav-number">5.0.1.</span> <span class="nav-text">4.1 nil(Á©∫)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4.2-boolean%EF%BC%88%E5%B8%83%E5%B0%94%EF%BC%89"><span class="nav-number">5.0.2.</span> <span class="nav-text">4.2 booleanÔºàÂ∏ÉÂ∞îÔºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4.3-number%EF%BC%88%E6%95%B0%E5%AD%97%EF%BC%89"><span class="nav-number">5.0.3.</span> <span class="nav-text">4.3 numberÔºàÊï∞Â≠óÔºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4.4-string%EF%BC%88%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%89"><span class="nav-number">5.0.4.</span> <span class="nav-text">4.4 stringÔºàÂ≠óÁ¨¶‰∏≤Ôºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4.5-%E8%A1%A8"><span class="nav-number">5.0.5.</span> <span class="nav-text">4.5 Ë°®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4.6-function%EF%BC%88%E5%87%BD%E6%95%B0%EF%BC%89"><span class="nav-number">5.0.6.</span> <span class="nav-text">4.6 functionÔºàÂáΩÊï∞Ôºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4.7-thread%EF%BC%88%E7%BA%BF%E7%A8%8B%EF%BC%89"><span class="nav-number">5.0.7.</span> <span class="nav-text">4.7 threadÔºàÁ∫øÁ®ãÔºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4.8-userdata%EF%BC%88%E8%87%AA%E5%AE%9A%E4%B9%89%E7%B1%BB%E5%9E%8B%EF%BC%89"><span class="nav-number">5.0.8.</span> <span class="nav-text">4.8 userdataÔºàËá™ÂÆö‰πâÁ±ªÂûãÔºâ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%94-%E5%8F%98%E9%87%8F"><span class="nav-number">6.</span> <span class="nav-text">‰∫î ÂèòÈáè</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5.1-%E5%8F%98%E9%87%8F"><span class="nav-number">6.0.1.</span> <span class="nav-text">5.1 ÂèòÈáè</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5.2-%E8%B5%8B%E5%80%BC%E8%AF%AD%E5%8F%A5"><span class="nav-number">6.0.2.</span> <span class="nav-text">5.2 ËµãÂÄºËØ≠Âè•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5.3-%E7%B4%A2%E5%BC%95"><span class="nav-number">6.0.3.</span> <span class="nav-text">5.3 Á¥¢Âºï</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AD-%E5%BE%AA%E7%8E%AF"><span class="nav-number">7.</span> <span class="nav-text">ÂÖ≠ Âæ™ÁéØ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6.1-%E5%BE%AA%E7%8E%AF%E6%96%B9%E5%BC%8F"><span class="nav-number">7.0.1.</span> <span class="nav-text">6.1 Âæ™ÁéØÊñπÂºè</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6.2-%E5%BE%AA%E7%8E%AF%E6%8E%A7%E5%88%B6%E8%AF%AD%E5%8F%A5"><span class="nav-number">7.0.2.</span> <span class="nav-text">6.2 Âæ™ÁéØÊéßÂà∂ËØ≠Âè•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6.3-%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF"><span class="nav-number">7.0.3.</span> <span class="nav-text">6.3 Êó†ÈôêÂæ™ÁéØ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%83-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%EF%BC%88if-else%EF%BC%89"><span class="nav-number">8.</span> <span class="nav-text">‰∏É ÊµÅÁ®ãÊéßÂà∂ Ôºàif elseÔºâ</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AB-%E5%87%BD%E6%95%B0"><span class="nav-number">9.</span> <span class="nav-text">ÂÖ´ ÂáΩÊï∞</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8.1-%E6%A6%82%E8%BF%B0"><span class="nav-number">9.0.1.</span> <span class="nav-text">8.1 Ê¶ÇËø∞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8.2-%E5%87%BD%E6%95%B0%E7%9A%84%E5%AE%9A%E4%B9%89"><span class="nav-number">9.0.2.</span> <span class="nav-text">8.2 ÂáΩÊï∞ÁöÑÂÆö‰πâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8.3-%E5%A4%9A%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-number">9.0.3.</span> <span class="nav-text">8.3 Â§öËøîÂõûÂÄº</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8.4-%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0"><span class="nav-number">9.0.4.</span> <span class="nav-text">8.4 ÂèØÂèòÂèÇÊï∞</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B9%9D-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">10.</span> <span class="nav-text">‰πù ËøêÁÆóÁ¨¶</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#9.1-%E8%BF%90%E7%AE%97%E7%AC%A6%E7%B1%BB%E5%9E%8B"><span class="nav-number">10.0.1.</span> <span class="nav-text">9.1 ËøêÁÆóÁ¨¶Á±ªÂûã</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9.2-%E7%AE%97%E6%95%B0%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">10.0.2.</span> <span class="nav-text">9.2 ÁÆóÊï∞ËøêÁÆóÁ¨¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9.3-%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">10.0.3.</span> <span class="nav-text">9.3 ÂÖ≥Á≥ªËøêÁÆóÁ¨¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9.4-%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">10.0.4.</span> <span class="nav-text">9.4 ÈÄªËæëËøêÁÆóÁ¨¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9.5-%E5%85%B6%E4%BB%96%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="nav-number">10.0.5.</span> <span class="nav-text">9.5 ÂÖ∂‰ªñËøêÁÆóÁ¨¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9.6-%E8%BF%90%E7%AE%97%E7%AC%A6%E4%BC%98%E5%85%88%E7%BA%A7"><span class="nav-number">10.0.6.</span> <span class="nav-text">9.6 ËøêÁÆóÁ¨¶‰ºòÂÖàÁ∫ß</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81-%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">11.</span> <span class="nav-text">ÂçÅ Â≠óÁ¨¶‰∏≤</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#10.1-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E8%A1%A8%E7%A4%BA"><span class="nav-number">11.0.1.</span> <span class="nav-text">10.1 Â≠óÁ¨¶‰∏≤ÁöÑË°®Á§∫</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10.2-%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%95%BF%E5%BA%A6%E8%AE%A1%E7%AE%97"><span class="nav-number">11.0.2.</span> <span class="nav-text">10.2 Â≠óÁ¨¶‰∏≤ÈïøÂ∫¶ËÆ°ÁÆó</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10.3-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9A%84%E6%93%8D%E4%BD%9C%EF%BC%88%E5%87%BD%E6%95%B0%EF%BC%89"><span class="nav-number">11.0.3.</span> <span class="nav-text">10.3 Â≠óÁ¨¶‰∏≤ÁöÑÊìç‰ΩúÔºàÂáΩÊï∞Ôºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10.4-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%AA%E5%8F%96"><span class="nav-number">11.0.4.</span> <span class="nav-text">10.4 Â≠óÁ¨¶‰∏≤Êà™Âèñ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10.5-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%A4%A7%E5%B0%8F%E5%86%99%E8%BD%AC%E6%8D%A2"><span class="nav-number">11.0.5.</span> <span class="nav-text">10.5 Â≠óÁ¨¶‰∏≤Â§ßÂ∞èÂÜôËΩ¨Êç¢</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10.6-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9F%A5%E6%89%BE%E4%B8%8E%E5%8F%8D%E8%BD%AC"><span class="nav-number">11.0.6.</span> <span class="nav-text">10.6 Â≠óÁ¨¶‰∏≤Êü•Êâæ‰∏éÂèçËΩ¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10.7-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="nav-number">11.0.7.</span> <span class="nav-text">10.7 Â≠óÁ¨¶‰∏≤Ê†ºÂºèÂåñ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10.8-%E5%AD%97%E7%AC%A6%E4%B8%8E%E6%95%B4%E6%95%B0%E7%9B%B8%E4%BA%92%E8%BD%AC%E6%8D%A2"><span class="nav-number">11.0.8.</span> <span class="nav-text">10.8 Â≠óÁ¨¶‰∏éÊï¥Êï∞Áõ∏‰∫íËΩ¨Êç¢</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10.9-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%9E%E6%8E%A5%E4%B8%8E%E5%A4%8D%E5%88%B6"><span class="nav-number">11.0.9.</span> <span class="nav-text">10.9 Â≠óÁ¨¶‰∏≤ËøûÊé•‰∏éÂ§çÂà∂</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10.10-%E5%8C%B9%E9%85%8D%E6%A8%A1%E5%BC%8F"><span class="nav-number">11.0.10.</span> <span class="nav-text">10.10 ÂåπÈÖçÊ®°Âºè</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%B8%80-lua%E6%95%B0%E7%BB%84"><span class="nav-number">12.</span> <span class="nav-text">ÂçÅ‰∏Ä LuaÊï∞ÁªÑ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#11.1-%E6%A6%82%E8%BF%B0"><span class="nav-number">12.0.1.</span> <span class="nav-text">11.1 Ê¶ÇËø∞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11.2-%E4%B8%80%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="nav-number">12.0.2.</span> <span class="nav-text">11.2 ‰∏ÄÁª¥Êï∞ÁªÑ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11.3-%E5%A4%9A%E7%BB%B4%E6%95%B0%E7%BB%84"><span class="nav-number">12.0.3.</span> <span class="nav-text">11.3 Â§öÁª¥Êï∞ÁªÑ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%BA%8C-%E8%BF%AD%E4%BB%A3%E5%99%A8%EF%BC%88%E2%AD%90%EF%BC%89"><span class="nav-number">13.</span> <span class="nav-text">ÂçÅ‰∫å Ëø≠‰ª£Âô®Ôºà‚≠êÔºâ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#12.1-%E6%A6%82%E8%BF%B0"><span class="nav-number">13.0.1.</span> <span class="nav-text">12.1 Ê¶ÇËø∞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12.2-%E6%B3%9B%E5%9E%8Bfor%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-number">13.0.2.</span> <span class="nav-text">12.2 Ê≥õÂûãforËø≠‰ª£Âô®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12.2-%E6%97%A0%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-number">13.0.3.</span> <span class="nav-text">12.2 Êó†Áä∂ÊÄÅÁöÑËø≠‰ª£Âô®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#12.3-%E5%A4%9A%E7%8A%B6%E6%80%81%E7%9A%84%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="nav-number">13.0.4.</span> <span class="nav-text">12.3 Â§öÁä∂ÊÄÅÁöÑËø≠‰ª£Âô®</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%B8%89-table%EF%BC%88%E8%A1%A8%EF%BC%89%EF%BC%88%E2%AD%90%EF%BC%89"><span class="nav-number">14.</span> <span class="nav-text">ÂçÅ‰∏â tableÔºàË°®ÔºâÔºà‚≠êÔºâ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#13.1-%E6%A6%82%E8%BF%B0"><span class="nav-number">14.0.1.</span> <span class="nav-text">13.1 Ê¶ÇËø∞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13.2-%E8%A1%A8%EF%BC%88table%EF%BC%89%E7%9A%84%E6%9E%84%E9%80%A0"><span class="nav-number">14.0.2.</span> <span class="nav-text">13.2 Ë°®ÔºàTableÔºâÁöÑÊûÑÈÄ†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#13.3-table%E6%93%8D%E4%BD%9C"><span class="nav-number">14.0.3.</span> <span class="nav-text">13.3 TableÊìç‰Ωú</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E5%9B%9B-%E6%A8%A1%E5%9D%97%E4%B8%8E%E5%8C%85%EF%BC%88%E2%AD%90%EF%BC%89"><span class="nav-number">15.</span> <span class="nav-text">ÂçÅÂõõ Ê®°Âùó‰∏éÂåÖÔºà‚≠êÔºâ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#14.1-%E6%A6%82%E8%BF%B0%E5%8F%8A%E5%AE%9A%E4%B9%89"><span class="nav-number">15.0.1.</span> <span class="nav-text">14.1 Ê¶ÇËø∞ÂèäÂÆö‰πâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14.2-%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%9D%97%EF%BC%88require%E5%87%BD%E6%95%B0%EF%BC%89"><span class="nav-number">15.0.2.</span> <span class="nav-text">14.2 Âä†ËΩΩÊ®°ÂùóÔºàrequireÂáΩÊï∞Ôºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#14.3-c%E5%8C%85"><span class="nav-number">15.0.3.</span> <span class="nav-text">14.3 CÂåÖ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%BA%94-%E5%85%83%E8%A1%A8(metatable)%EF%BC%88%E2%AD%90%EF%BC%89"><span class="nav-number">16.</span> <span class="nav-text">ÂçÅ‰∫î ÂÖÉË°®(Metatable)Ôºà‚≠êÔºâ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#15.1-%E6%A6%82%E8%BF%B0"><span class="nav-number">16.0.1.</span> <span class="nav-text">15.1 Ê¶ÇËø∞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15.2-__index-%E5%85%83%E6%96%B9%E6%B3%95%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89"><span class="nav-number">16.0.2.</span> <span class="nav-text">15.2 __index ÂÖÉÊñπÊ≥ïÔºà‚≠ê‚≠ê‚≠êÔºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15.3-__newindex-%E5%85%83%E6%96%B9%E6%B3%95%EF%BC%88%E2%AD%90%EF%BC%89"><span class="nav-number">16.0.3.</span> <span class="nav-text">15.3 __newindex ÂÖÉÊñπÊ≥ïÔºà‚≠êÔºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15.4-rawget%E5%92%8Crawset"><span class="nav-number">16.0.4.</span> <span class="nav-text">15.4 rawgetÂíårawset</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15.5-%E8%BF%90%E7%AE%97%E5%85%83%E6%96%B9%E6%B3%95-%E4%B8%BA%E8%A1%A8%E6%B7%BB%E5%8A%A0%E6%93%8D%E4%BD%9C%E7%AC%A6"><span class="nav-number">16.0.5.</span> <span class="nav-text">15.5 ËøêÁÆóÂÖÉÊñπÊ≥ï-‰∏∫Ë°®Ê∑ªÂä†Êìç‰ΩúÁ¨¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15.6-__call%E5%85%83%E6%96%B9%E6%B3%95"><span class="nav-number">16.0.6.</span> <span class="nav-text">15.6 __callÂÖÉÊñπÊ≥ï</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#15.7-__tostring-%E5%85%83%E6%96%B9%E6%B3%95"><span class="nav-number">16.0.7.</span> <span class="nav-text">15.7 __tostring ÂÖÉÊñπÊ≥ï</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E5%85%AD-%E5%8D%8F%E5%90%8C%E7%A8%8B%E5%BA%8F%EF%BC%88coroutine%EF%BC%89%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89"><span class="nav-number">17.</span> <span class="nav-text">ÂçÅÂÖ≠ ÂçèÂêåÁ®ãÂ∫èÔºàcoroutineÔºâÔºà‚≠ê‚≠ê‚≠êÔºâ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#16.1-%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%8F%E5%90%8C%EF%BC%88coroutine%EF%BC%89"><span class="nav-number">17.0.1.</span> <span class="nav-text">16.1 ‰ªÄ‰πàÊòØÂçèÂêåÔºàcoroutineÔºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16.2-%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-number">17.0.2.</span> <span class="nav-text">16.2 Âü∫Êú¨ËØ≠Ê≥ï</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16.3-%E5%90%84%E4%B8%AA%E8%AF%AD%E6%B3%95%E7%9A%84%E7%94%A8%E6%B3%95%E5%AE%9E%E4%BE%8B"><span class="nav-number">17.0.3.</span> <span class="nav-text">16.3 ÂêÑ‰∏™ËØ≠Ê≥ïÁöÑÁî®Ê≥ïÂÆû‰æã</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16.4-%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98"><span class="nav-number">17.0.4.</span> <span class="nav-text">16.4 Áîü‰∫ßËÄÖ-Ê∂àË¥πËÄÖÈóÆÈ¢ò</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#16.5-%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%8D%8F%E5%90%8C%E7%A8%8B%E5%BA%8F%E5%8C%BA%E5%88%AB"><span class="nav-number">17.0.5.</span> <span class="nav-text">16.5 Á∫øÁ®ãÂíåÂçèÂêåÁ®ãÂ∫èÂå∫Âà´</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%B8%83-%E6%96%87%E4%BB%B6i/o"><span class="nav-number">18.</span> <span class="nav-text">ÂçÅ‰∏É Êñá‰ª∂I&#x2F;O</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#17.1-%E6%A6%82%E8%BF%B0%E5%8F%8A%E7%94%A8%E6%B3%95"><span class="nav-number">18.0.1.</span> <span class="nav-text">17.1 Ê¶ÇËø∞ÂèäÁî®Ê≥ï</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17.2-%E7%AE%80%E5%8D%95%E6%A8%A1%E5%BC%8F%EF%BC%88io.%E8%B0%83%E7%94%A8%EF%BC%89"><span class="nav-number">18.0.2.</span> <span class="nav-text">17.2 ÁÆÄÂçïÊ®°ÂºèÔºàio.Ë∞ÉÁî®Ôºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#17.3-%E5%AE%8C%E5%85%A8%E6%A8%A1%E5%BC%8F%EF%BC%88file:%E8%B0%83%E7%94%A8%EF%BC%89"><span class="nav-number">18.0.3.</span> <span class="nav-text">17.3 ÂÆåÂÖ®Ê®°ÂºèÔºàfile:Ë∞ÉÁî®Ôºâ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E5%85%AB-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="nav-number">19.</span> <span class="nav-text">ÂçÅÂÖ´ ÈîôËØØÂ§ÑÁêÜ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#18.1-%E6%A6%82%E8%BF%B0"><span class="nav-number">19.0.1.</span> <span class="nav-text">18.1 Ê¶ÇËø∞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18.2-%E8%AF%AD%E6%B3%95%E9%94%99%E8%AF%AF"><span class="nav-number">19.0.2.</span> <span class="nav-text">18.2 ËØ≠Ê≥ïÈîôËØØ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18.3-%E8%BF%90%E8%A1%8C%E9%94%99%E8%AF%AF"><span class="nav-number">19.0.3.</span> <span class="nav-text">18.3 ËøêË°åÈîôËØØ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18.4-%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="nav-number">19.0.4.</span> <span class="nav-text">18.4 ÈîôËØØÂ§ÑÁêÜ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#18.5-pcall-%E5%92%8C-xpcall%E3%80%81debug"><span class="nav-number">19.0.5.</span> <span class="nav-text">18.5 pcall Âíå xpcall„ÄÅdebug</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8D%81%E4%B9%9D-%E8%B0%83%E8%AF%95(debug)"><span class="nav-number">20.</span> <span class="nav-text">ÂçÅ‰πù Ë∞ÉËØï(Debug)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#19.1-%E6%A6%82%E8%BF%B0%E5%8F%8Adebug%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-number">20.0.1.</span> <span class="nav-text">19.1 Ê¶ÇËø∞ÂèäDebugÁöÑÊñπÊ≥ï</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#19.2-%E8%B0%83%E8%AF%95%E7%B1%BB%E5%9E%8B"><span class="nav-number">20.0.2.</span> <span class="nav-text">19.2 Ë∞ÉËØïÁ±ªÂûã</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E5%8D%81-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6"><span class="nav-number">21.</span> <span class="nav-text">‰∫åÂçÅ ÂûÉÂúæÂõûÊî∂</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#20.1-%E6%A6%82%E8%BF%B0"><span class="nav-number">21.0.1.</span> <span class="nav-text">20.1 Ê¶ÇËø∞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#20.2-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8%E5%87%BD%E6%95%B0"><span class="nav-number">21.0.2.</span> <span class="nav-text">20.2 ÂûÉÂúæÂõûÊî∂Âô®ÂáΩÊï∞</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E5%8D%81%E4%B8%80-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%EF%BC%88%E2%AD%90%EF%BC%89"><span class="nav-number">22.</span> <span class="nav-text">‰∫åÂçÅ‰∏Ä Èù¢ÂêëÂØπË±°Ôºà‚≠êÔºâ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#21.1-%E6%A6%82%E8%BF%B0"><span class="nav-number">22.0.1.</span> <span class="nav-text">21.1 Ê¶ÇËø∞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21.2-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%89%B9%E5%BE%81"><span class="nav-number">22.0.2.</span> <span class="nav-text">21.2 Èù¢ÂêëÂØπË±°ÁâπÂæÅ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21.3-lua-%E4%B8%AD%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1"><span class="nav-number">22.0.3.</span> <span class="nav-text">21.3 Lua ‰∏≠Èù¢ÂêëÂØπË±°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21.4-%E7%AE%80%E5%8D%95%E5%AE%9E%E4%BE%8B%EF%BC%88%E2%AD%90%EF%BC%89"><span class="nav-number">22.0.4.</span> <span class="nav-text">21.4 ÁÆÄÂçïÂÆû‰æãÔºà‚≠êÔºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21.5-%E7%82%B9%E8%B0%83%E7%94%A8%E5%92%8C%E5%86%92%E5%8F%B7%E8%B0%83%E7%94%A8%E7%9A%84%E5%8C%BA%E5%88%AB%EF%BC%88%E2%AD%90%E2%AD%90%E2%AD%90%EF%BC%89"><span class="nav-number">22.0.5.</span> <span class="nav-text">21.5 ÁÇπË∞ÉÁî®ÂíåÂÜíÂè∑Ë∞ÉÁî®ÁöÑÂå∫Âà´Ôºà‚≠ê‚≠ê‚≠êÔºâ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21.6-lua-%E7%BB%A7%E6%89%BF(%E2%AD%90%E2%AD%90%E2%AD%90)"><span class="nav-number">22.0.6.</span> <span class="nav-text">21.6 Lua ÁªßÊâø(‚≠ê‚≠ê‚≠ê)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#21.7-lua%E5%A4%9A%E6%80%81%EF%BC%88%E5%87%BD%E6%95%B0%E9%87%8D%E5%86%99%EF%BC%89"><span class="nav-number">22.0.7.</span> <span class="nav-text">21.7 LuaÂ§öÊÄÅÔºàÂáΩÊï∞ÈáçÂÜôÔºâ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C%E5%8D%81%E4%BA%8C-%E6%95%B0%E6%8D%AE%E5%BA%93%E8%AE%BF%E9%97%AE%EF%BC%88luasql%EF%BC%89"><span class="nav-number">23.</span> <span class="nav-text">‰∫åÂçÅ‰∫å Êï∞ÊçÆÂ∫ìËÆøÈóÆÔºàLuaSQLÔºâ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#22.1-%E6%A6%82%E8%BF%B0"><span class="nav-number">23.0.1.</span> <span class="nav-text">22.1 Ê¶ÇËø∞</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22.2-%E5%AE%89%E8%A3%85"><span class="nav-number">23.0.2.</span> <span class="nav-text">22.2 ÂÆâË£Ö</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#22.3-%E5%AE%9E%E4%BE%8B"><span class="nav-number">23.0.3.</span> <span class="nav-text">22.3 ÂÆû‰æã</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="MiDoLi"
      src="/images/midoli.jpg">
  <p class="site-author-name" itemprop="name">MiDoLi</p>
  <div class="site-description" itemprop="description">Ê¨¢ËøéÊù•Âà∞ÊàëÁöÑ‰∏ñÁïåüíú</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">20</span>
          <span class="site-state-item-name">Êó•Âøó</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">ÂàÜÁ±ª</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">Ê†áÁ≠æ</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/ConanGentleman" title="GitHub ‚Üí https:&#x2F;&#x2F;github.com&#x2F;ConanGentleman" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="/936184713@qq.com" title="E-Mail ‚Üí 936184713@qq.com"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://space.bilibili.com/8032462?spm_id_from=333.1007.0.0" title="Bilibili ‚Üí https:&#x2F;&#x2F;space.bilibili.com&#x2F;8032462?spm_id_from&#x3D;333.1007.0.0" rel="noopener" target="_blank"><i class="fa bilibili fa-fw"></i>Bilibili</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://blog.csdn.net/qq_41234218?type=blog" title="CSDN ‚Üí https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_41234218?type&#x3D;blog" rel="noopener" target="_blank"><i class="fa csdn fa-fw"></i>CSDN</a>
      </span>
  </div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      Links
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="https://www.bilibili.com/" title="https:&#x2F;&#x2F;www.bilibili.com&#x2F;" rel="noopener" target="_blank">Bilibil</a>
        </li>
    </ul>
  </div>

      </div>


<div class="twopeople">
        <div class="container" style="height:200px;">
            <canvas class="illo" width="800" height="800" style="max-width: 200px; max-height: 200px; touch-action: none; width: 640px; height: 640px;"></canvas>
        </div>
        <script src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople1.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/zdog.dist.js"></script>
        <script id="rendered-js" src="https://cdn.jsdelivr.net/gh/Justlovesmile/CDN/js/twopeople.js"></script>
        <style>
            .twopeople{
                margin: 0;
                align-items: center;
                justify-content: center;
                text-align: center;
            }
            canvas {
                display: block;
                margin: 0 auto;
                cursor: move;
            }
        </style>
      </div>
<!-- Â§ñÈìæÊí≠ÊîæÂô® Ê∫ØÔºàÈí¢Áê¥ÁâàÔºâ-->
<!-- <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=1433584979&auto=1&height=66"></iframe> -->
<!-- ‰∏ç‰ΩøÁî®‰∏äÈù¢ÁöÑÂ§ñÈìæÊí≠ÊîæÂô®‰∫Ü ÊîπÁî®‰∏ãÈù¢ÁöÑAplayer -->
<link rel="stylesheet" href="/dist/APlayer.min.css">
<div id="aplayer"></div>
<script type="text/javascript" src="/dist/APlayer.min.js"></script>
<script type="text/javascript" src="/dist/music.js"></script>
<!-- ÊîπÁî®Aplayer end -->
        <div class="back-to-top animated" role="button" aria-label="accessibility.back_to_top">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>



      </div>
    </main>



    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">MiDoLi</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="Á´ôÁÇπÊÄªÂ≠óÊï∞">60k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="Á´ôÁÇπÈòÖËØªÊó∂Èïø">3:39</span>
</div>
  <div class="powered-by">Áî± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> Âº∫ÂäõÈ©±Âä®
  </div>


<!-- ÁΩëÁ´ôËøêË°åÊó∂Èó¥ÁöÑËÆæÁΩÆ -->
<span id="timeDate">ËΩΩÂÖ•Â§©Êï∞...</span>
<span id="times">ËΩΩÂÖ•Êó∂ÂàÜÁßí...</span>
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("03/01/2023 10:00:00"); //Ê≠§Â§Ñ‰øÆÊîπ‰Ω†ÁöÑÂª∫Á´ôÊó∂Èó¥ÊàñËÄÖÁΩëÁ´ô‰∏äÁ∫øÊó∂Èó¥
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "Êú¨Á´ôÂ∑≤ÂÆâÂÖ®ËøêË°å "+dnum+" Â§© ";
        document.getElementById("times").innerHTML = hnum + " Â∞èÊó∂ " + mnum + " ÂàÜ " + snum + " Áßí.";
    }
setInterval("createtime()",250);
</script>
        
<div class="busuanzi-count">
  <script data-pjax async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="ÊÄªËÆøÂÆ¢Èáè">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="ÊÄªËÆøÈóÆÈáè">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>
  


  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/pjax/pjax.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/js/local-search.js"></script>













    <div id="pjax">
  

  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : true,
      notify     : true,
      appId      : 'QTH3K4IUb5oOIc5ZyxHm6JPQ-gzGzoHsz',
      appKey     : 'WPGPkvPHhUGV1zwuL8JITOOr',
      placeholder: "ËØ∑ÊñáÊòéËØÑËÆ∫ÂëÄ~",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : true,
      lang       : 'zh-cn' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

    </div>




   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/fireworks.js"></script>


<script type="text/javascript"
    count="150"
    opacity: 1
    src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js">
</script>



<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/wanko.model.json"},"display":{"position":"right"},"mobile":{"show":true}});</script></body>
</html>

<!-- Ê∑ªÂä†fork me on githubÂÖ•Âè£ -->
<a target="_blank" rel="noopener" href="https://github.com/ConanGentleman" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

<!-- È°µÈù¢ÁÇπÂáªÂ∞èÁ∫¢ÂøÉ -->
<script type="text/javascript" src="/js/clicklove.js"></script>
